!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.webAudioAmbisonic=t()}}(function(){var define,module,exports;return function t(e,r,n){function o(i,s){if(!r[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[i]={exports:{}};e[i][0].call(f.exports,function(t){var r=e[i][1][t];return o(r?r:t)},f,f.exports,t,e,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),a=n(o),i=t("babel-runtime/helpers/createClass"),s=n(i),u=function(){function t(e,r){(0,a.default)(this,t),this.initialized=!1,this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this.decFilters=new Array(this.nCh),this.decFilterNodes=new Array(this.nCh),this.in=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(2),this.out.channelCountMode="explicit",this.out.channelCount=1,this.gainMid=this.ctx.createGain(),this.gainSide=this.ctx.createGain(),this.invertSide=this.ctx.createGain(),this.gainMid.gain.value=1,this.gainSide.gain.value=1,this.invertSide.gain.value=-1;for(var n=0;n<this.nCh;n++)this.decFilterNodes[n]=this.ctx.createConvolver(),this.decFilterNodes[n].normalize=!1;this.resetFilters();for(var n=0;n<this.nCh;n++){this.in.connect(this.decFilterNodes[n],n,0);var o=Math.floor(Math.sqrt(n)),i=n-o*o-o;i>=0?this.decFilterNodes[n].connect(this.gainMid):this.decFilterNodes[n].connect(this.gainSide)}this.gainMid.connect(this.out,0,0),this.gainSide.connect(this.out,0,0),this.gainMid.connect(this.out,0,1),this.gainSide.connect(this.invertSide,0,0),this.invertSide.connect(this.out,0,1),this.initialized=!0}return(0,s.default)(t,[{key:"updateFilters",value:function(t){for(var e=0;e<this.nCh;e++)this.decFilters[e]=this.ctx.createBuffer(1,t.length,t.sampleRate),this.decFilters[e].getChannelData(0).set(t.getChannelData(e)),this.decFilterNodes[e].buffer=this.decFilters[e]}},{key:"resetFilters",value:function(){var t=new Array(this.nCh);t.fill(0),t[0]=.5,t[1]=.5/Math.sqrt(3);for(var e=0;e<this.nCh;e++){this.decFilters[e]=this.ctx.createBuffer(1,64,this.ctx.sampleRate);for(var r=0;r<64;r++)this.decFilters[e].getChannelData(0)[r]=0;this.decFilters[e].getChannelData(0)[0]=t[e],this.decFilterNodes[e].buffer=this.decFilters[e]}}}]),t}();r.default=u},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],2:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.fuma2acn=r.acn2bf=r.bf2acn=void 0;var o=t("babel-runtime/helpers/classCallCheck"),a=n(o);r.bf2acn=function t(e){(0,a.default)(this,t),this.ctx=e,this.in=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4),this.gains=[];for(var r=0;r<4;r++)this.gains[r]=this.ctx.createGain(),0==r?this.gains[r].gain.value=Math.SQRT2:this.gains[r].gain.value=Math.sqrt(3),this.gains[r].connect(this.out,0,r);this.in.connect(this.gains[0],0,0),this.in.connect(this.gains[3],1,0),this.in.connect(this.gains[1],2,0),this.in.connect(this.gains[2],3,0)},r.acn2bf=function t(e){(0,a.default)(this,t),this.ctx=e,this.in=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4),this.gains=[];for(var r=0;r<4;r++)this.gains[r]=this.ctx.createGain(),0==r?this.gains[r].gain.value=Math.SQRT1_2:this.gains[r].gain.value=1/Math.sqrt(3),this.gains[r].connect(this.out,0,r);this.in.connect(this.gains[0],0,0),this.in.connect(this.gains[2],1,0),this.in.connect(this.gains[3],2,0),this.in.connect(this.gains[1],3,0)},r.fuma2acn=function t(e,r){(0,a.default)(this,t),this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this.in=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(this.nCh),this.gains=[],this.remapArray=[],this.remapArray.push(0,2,3,1);for(var n,o=0,i=0;i<this.nCh;i++)if(n=[],i>=(o+1)*(o+1)){o+=1;for(var s=(o+1)*(o+1);s<(o+2)*(o+2);s++)(s+o%2)%2==0?n.push(s):n.unshift(s);this.remapArray=this.remapArray.concat(n)}for(var i=0;i<this.nCh;i++)this.gains[i]=this.ctx.createGain(),this.in.connect(this.gains[i],this.remapArray[i],0),this.gains[i].connect(this.out,0,i)}},{"babel-runtime/helpers/classCallCheck":20}],3:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),a=n(o),i=t("babel-runtime/helpers/createClass"),s=n(i);t("get-float-time-domain-data");var u=function(){function t(e){(0,a.default)(this,t),this.initialized=!1,this.ctx=e,this.fftSize=2048,this.analysers=new Array(4),this.analBuffers=new Array(4),this.in=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4);for(var r=0;r<4;r++)this.analysers[r]=this.ctx.createAnalyser(),this.analysers[r].fftSize=this.fftSize,this.analysers[r].smoothingTimeConstant=0,this.analBuffers[r]=new Float32Array(this.fftSize);for(var n=0;n<4;n++)this.in.connect(this.out,n,n),this.in.connect(this.analysers[n],n,0);this.initialized=!0}return(0,s.default)(t,[{key:"updateBuffers",value:function(){for(var t=0;t<4;t++)this.analysers[t].getFloatTimeDomainData(this.analBuffers[t])}},{key:"computeIntensity",value:function(){for(var t,e,r,n,o,a,i=0,s=0,u=0,c=0,f=0,l=0,h=0,m=0;m<this.fftSize;m++)i+=Math.sqrt(2)*this.analBuffers[0][m]*this.analBuffers[1][m],s+=Math.sqrt(2)*this.analBuffers[0][m]*this.analBuffers[2][m],u+=Math.sqrt(2)*this.analBuffers[0][m]*this.analBuffers[3][m],c+=2*this.analBuffers[0][m]*this.analBuffers[0][m],f+=this.analBuffers[1][m]*this.analBuffers[1][m],l+=this.analBuffers[2][m]*this.analBuffers[2][m],h+=this.analBuffers[3][m]*this.analBuffers[3][m];t=[i,s,u],e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=(c+f+l+h)/2,n=1-e/(r+1e-7),o=180*Math.atan2(s,i)/Math.PI,a=180*Math.atan2(t[2],Math.sqrt(t[0]*t[0]+t[1]*t[1]))/Math.PI;var d=[o,a,n,r];return d}}]),t}();r.default=u},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21,"get-float-time-domain-data":121}],4:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var a=t("babel-runtime/helpers/classCallCheck"),i=o(a),s=t("babel-runtime/helpers/createClass"),u=o(s),c=t("spherical-harmonic-transform"),f=n(c),l=function(){function t(e,r){(0,i.default)(this,t),this.initialized=!1,this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this.azim=0,this.elev=0,this.gains=new Array(this.nCh),this.gainNodes=new Array(this.nCh),this.in=this.ctx.createGain(),this.in.channelCountMode="explicit",this.in.channelCount=1,this.out=this.ctx.createChannelMerger(this.nCh);for(var n=0;n<this.nCh;n++)this.gainNodes[n]=this.ctx.createGain(),this.gainNodes[n].channelCountMode="explicit",this.gainNodes[n].channelCount=1;this.updateGains();for(var n=0;n<this.nCh;n++)this.in.connect(this.gainNodes[n]),this.gainNodes[n].connect(this.out,0,n);this.initialized=!0}return(0,u.default)(t,[{key:"updateGains",value:function(){for(var t=this.order,e=f.computeRealSH(t,[[this.azim*Math.PI/180,this.elev*Math.PI/180]]),r=0;r<this.nCh;r++)this.gains[r]=e[r][0],this.gainNodes[r].gain.value=this.gains[r]}}]),t}();r.default=l},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21,"spherical-harmonic-transform":146}],5:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),a=n(o),i=t("babel-runtime/helpers/createClass"),s=n(i),u=function(){function t(e,r,n){(0,a.default)(this,t),this.ctx=e,this.orderIn=r,n<r?this.orderOut=n:this.orderOut=r,this.nChIn=(this.orderIn+1)*(this.orderIn+1),this.nChOut=(this.orderOut+1)*(this.orderOut+1),this.in=this.ctx.createChannelSplitter(this.nChIn),this.out=this.ctx.createChannelMerger(this.nChOut);for(var o=0;o<this.nChOut;o++)this.in.connect(this.out,o,o)}return(0,s.default)(t,[{key:"updateOrder",value:function(t){if(t<=this.orderIn){this.orderOut=t,this.nChOut=(this.orderOut+1)*(this.orderOut+1),this.out.disconnect(),this.out=this.ctx.createChannelMerger(this.nChOut);for(var e=0;e<this.nChOut;e++)this.in.connect(this.out,e,e)}}}]),t}();r.default=u},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],6:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),a=n(o),i=t("babel-runtime/helpers/createClass"),s=n(i),u=function(){function t(e,r){(0,a.default)(this,t),this.initialized=!1,this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this.fftSize=2048,this.analysers=new Array(this.nCh),this.analBuffers=new Array(this.nCh),this.in=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(this.nCh);for(var n=0;n<this.nCh;n++)this.analysers[n]=this.ctx.createAnalyser(),this.analysers[n].fftSize=this.fftSize,this.analysers[n].smoothingTimeConstant=0,this.analBuffers[n]=new Float32Array(this.fftSize);for(var o=0;o<this.nCh;o++)this.in.connect(this.out,o,o),this.in.connect(this.analysers[o],o,0);this.initialized=!0}return(0,s.default)(t,[{key:"updateBuffers",value:function(){for(var t=0;t<this.nCh;t++)this.analysers[t].getFloatTimeDomainData(this.analBuffers[t])}}]),t}();r.default=u},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],7:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var a=t("babel-runtime/helpers/classCallCheck"),i=o(a),s=t("babel-runtime/helpers/createClass"),u=o(s),c=t("spherical-harmonic-transform"),f=n(c),l=function(){function t(e,r){(0,i.default)(this,t),this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this.yaw=0,this.pitch=0,this.roll=0,this.rotMtx=numeric.identity(this.nCh),this.rotMtxNodes=new Array(this.order),this.in=null,this.out=null,this.initialized=!1}return(0,u.default)(t,[{key:"updateRotMtx",value:function(){if(this.initialized){var t=this.yaw*Math.PI/180,e=this.pitch*Math.PI/180,r=this.roll*Math.PI/180;this.rotMtx=f.getSHrotMtx(f.yawPitchRoll2Rzyx(t,e,r),this.order);for(var n=1,o=1;o<this.order+1;o++){for(var a=0;a<2*o+1;a++)for(var i=0;i<2*o+1;i++)this.rotMtxNodes[o-1][a][i].gain.value=this.rotMtx[n+a][n+i];n=n+2*o+1}}}},{key:"init",value:function(){if(!this.initialized){this.in=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(this.nCh);for(var t=1;t<this.order+1;t++){for(var e=new Array(2*t+1),r=0;r<2*t+1;r++){e[r]=new Array(2*t+1);for(var n=0;n<2*t+1;n++)e[r][n]=this.ctx.createGain(),r==n?e[r][n].gain.value=1:e[r][n].gain.value=0}this.rotMtxNodes[t-1]=e}this.in.connect(this.out,0,0);for(var o=1,a=1;a<this.order+1;a++){for(var i=0;i<2*a+1;i++)for(var s=0;s<2*a+1;s++)this.in.connect(this.rotMtxNodes[a-1][i][s],o+s,0),this.rotMtxNodes[a-1][i][s].connect(this.out,0,o+i);o=o+2*a+1}this.initialized=!0}}}]),t}();r.default=l},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21,"spherical-harmonic-transform":146}],8:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var a=t("babel-runtime/helpers/classCallCheck"),i=o(a),s=t("babel-runtime/helpers/createClass"),u=o(s),c=t("spherical-harmonic-transform"),f=n(c),l=function(){function t(e,r){(0,i.default)(this,t),this.initialized=!1,this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this.azim=0,this.elev=0,this.vmicGains=new Array(this.nCh),this.vmicGainNodes=new Array(this.nCh),this.vmicCoeffs=new Array(this.order+1),this.vmicPattern="hypercardioid",this.in=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createGain();for(var n=0;n<this.nCh;n++)this.vmicGainNodes[n]=this.ctx.createGain();for(this.SHxyz=new Array(this.nCh),this.SHxyz.fill(0),this.updatePattern(),this.updateOrientation(),n=0;n<this.nCh;n++)this.in.connect(this.vmicGainNodes[n],n,0),this.vmicGainNodes[n].connect(this.out);this.initialized=!0}return(0,u.default)(t,[{key:"updatePattern",value:function(){function t(t){for(var e=new Array(t+1),r=0;r<=t;r++)e[r]=Math.sqrt(2*r+1)*f.factorial(t)*f.factorial(t+1)/(f.factorial(t+r+1)*f.factorial(t-r))/(t+1);return e}function e(t){for(var e=new Array(t+1),r=(t+1)*(t+1),n=0;n<=t;n++)e[n]=Math.sqrt(2*n+1)/r;return e}function r(t){switch(t){case 1:var e=[.366,.366];break;case 2:var e=[.2362,.2706,.132];break;case 3:var e=[.1768,.2218,.1416,.0463];break;case 4:var e=[.1414,.1883,.1394,.0653,.0161];break;default:return void console.error("Orders should be in the range of 1-4 at the moment.")}return e}function n(t){var e=new Array(t+1);e[0]=1;for(var r=0,n=0,o=0,a=1;a<t+1;a++)o=f.recurseLegendrePoly(a,[Math.cos(2.406809/(t+1.51))],r,n),e[a]=Math.sqrt(2*a+1)*o[0][0],n=r,r=o;for(var i=0,a=0;a<=t;a++)i+=e[a]*Math.sqrt(2*a+1);for(var a=0;a<=t;a++)e[a]=e[a]/i;return e}switch(this.vmicPattern){case"cardioid":this.vmicCoeffs=t(this.order);break;case"supercardioid":this.vmicCoeffs=r(this.order);break;case"hypercardioid":this.vmicCoeffs=e(this.order);break;case"max_rE":this.vmicCoeffs=n(this.order);break;default:this.vmicPattern="hypercardioid",this.vmicCoeffs=e(this.order)}this.updateGains()}},{key:"updateOrientation",value:function(){for(var t=this.azim*Math.PI/180,e=this.elev*Math.PI/180,r=f.computeRealSH(this.order,[[t,e]]),n=0;n<this.nCh;n++)this.SHxyz[n]=r[n][0];this.updateGains()}},{key:"updateGains",value:function(){for(var t,e=0;e<=this.order;e++)for(var r=-e;r<=e;r++)t=e*e+e+r,this.vmicGains[t]=this.vmicCoeffs[e]*this.SHxyz[t]/Math.sqrt(2*e+1);for(var n=0;n<this.nCh;n++)this.vmicGainNodes[n].gain.value=this.vmicGains[n]}}]),t}();r.default=l},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21,"spherical-harmonic-transform":146}],9:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("babel-runtime/helpers/classCallCheck"),a=n(o),i=t("babel-runtime/helpers/createClass"),s=n(i),u=function(){function t(e,r,n,o){function i(t,e){return("000000000"+t).substr(-e)}(0,a.default)(this,t),this.context=e,this.order=r,this.nCh=(r+1)*(r+1),this.nChGroups=Math.ceil(this.nCh/8),this.buffers=new Array,this.loadCount=0,this.loaded=!1,this.onLoad=o,this.urls=new Array(this.nChGroups);for(var s=n.slice(n.length-3,n.length),u=0;u<this.nChGroups;u++)u==this.nChGroups-1?this.urls[u]=n.slice(0,n.length-4)+"_"+i(8*u+1,2)+"-"+i(this.nCh,2)+"ch."+s:this.urls[u]=n.slice(0,n.length-4)+"_"+i(8*u+1,2)+"-"+i(8*u+8,2)+"ch."+s}return(0,s.default)(t,[{key:"loadBuffers",value:function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer";var n=this;r.onload=function(){n.context.decodeAudioData(r.response,function(r){return r?(n.buffers[e]=r,n.loadCount++,void(n.loadCount==n.nChGroups&&(n.loaded=!0,n.concatBuffers(),console.log("HOAloader: all buffers loaded and concatenated"),n.onLoad(n.concatBuffer)))):void alert("error decoding file data: "+t)},function(t){console.error("decodeAudioData error",t)})},r.onerror=function(){alert("HOAloader: XHR error")},r.send()}},{key:"load",value:function(){for(var t=0;t<this.nChGroups;++t)this.loadBuffers(this.urls[t],t)}},{key:"concatBuffers",value:function(){if(this.loaded){var t=this.nCh,e=this.nChGroups,r=this.buffers[0].length,n=this.buffers[0].sampleRate;this.concatBuffer=this.context.createBuffer(t,r,n);for(var o=0;o<e;o++)for(var a=0;a<this.buffers[o].numberOfChannels;a++)this.concatBuffer.getChannelData(8*o+a).set(this.buffers[o].getChannelData(a))}}}]),t}();r.default=u},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],10:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var a=t("babel-runtime/helpers/classCallCheck"),i=o(a),s=t("babel-runtime/helpers/createClass"),u=o(s),c=t("serve-sofa-hrtf"),f=n(c),l=t("./utils"),h=function(){function t(e,r,n){(0,i.default)(this,t),this.context=e,this.order=r,this.nCh=(r+1)*(r+1),this.onLoad=n,this.hrtfSet=new f.HrtfSet({audioContext:this.context,coordinateSystem:"sofaSpherical"})}return(0,u.default)(t,[{key:"load",value:function(t){var e=this;this.hrtfSet.load(t).then(function(){var t=e.hrtfSet.nearestFir([0,0,1]);e.hoaBuffer=e.context.createBuffer(e.nCh,t.length,t.sampleRate),e._setHoaBufferVirtual()})}},{key:"_setHoaBufferVirtual",value:function(){var t=(0,l.getTdesign)(2*this.order);console.log("speakerPos:",t);for(var e=[],r=0;r<t.length;r++)e.push(this.hrtfSet.nearestPos(t[r]));console.log("hrirPos:",e)}}]),t}();r.default=h},{"./utils":12,"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21,"serve-sofa-hrtf":127}],11:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.intensityAnalyser=r.utils=r.converters=r.HRIRloader=r.HOAloader=r.powermapAnalyser=r.virtualMic=r.binDecoder=r.sceneRotator=r.orderLimiter=r.monoEncoder=void 0;var a=t("./ambi-monoEncoder");Object.defineProperty(r,"monoEncoder",{enumerable:!0,get:function(){return o(a).default}});var i=t("./ambi-orderLimiter");Object.defineProperty(r,"orderLimiter",{enumerable:!0,get:function(){return o(i).default}});var s=t("./ambi-sceneRotator");Object.defineProperty(r,"sceneRotator",{enumerable:!0,get:function(){return o(s).default}});var u=t("./ambi-binauralDecoder");Object.defineProperty(r,"binDecoder",{enumerable:!0,get:function(){return o(u).default}});var c=t("./ambi-virtualMic");Object.defineProperty(r,"virtualMic",{enumerable:!0,get:function(){return o(c).default}});var f=t("./ambi-powermapAnalyser");Object.defineProperty(r,"powermapAnalyser",{enumerable:!0,get:function(){return o(f).default}});var l=t("./hoa-loader");Object.defineProperty(r,"HOAloader",{enumerable:!0,get:function(){return o(l).default}});var h=t("./hrir-loader");Object.defineProperty(r,"HRIRloader",{enumerable:!0,get:function(){return o(h).default}});var m=t("./ambi-intensityAnalyser");Object.defineProperty(r,"intensityAnalyser",{enumerable:!0,get:function(){return o(m).default}});var d=t("./ambi-converters"),p=n(d),v=t("./utils"),y=n(v);r.converters=p,r.utils=y},{"./ambi-binauralDecoder":1,"./ambi-converters":2,"./ambi-intensityAnalyser":3,"./ambi-monoEncoder":4,"./ambi-orderLimiter":5,"./ambi-powermapAnalyser":6,"./ambi-sceneRotator":7,"./ambi-virtualMic":8,"./hoa-loader":9,"./hrir-loader":10,"./utils":12}],12:[function(t,e,r){"use strict";function n(t){if(t>21)throw new Error("Designs of order greater than 21 are not implemented");if(t<1)throw new Error("Order should be at least 1");var e=[[[0,0,1],[180,0,1]],[[45,35.26,1],[-45,-35.26,1],[135,-35.26,1],[-135,35.26,1]],[[0,0,1],[180,0,1],[90,0,1],[-90,0,1],[0,90,1],[0,-90,1]],[[0,-31.72,1],[-58.28,0,1],[-90,58.28,1],[0,31.72,1],[-121.72,0,1],[90,-58.28,1],[180,-31.72,1],[121.72,0,1],[90,58.28,1],[180,31.72,1],[58.28,0,1],[-90,-58.28,1]],[[0,-31.72,1],[-58.28,0,1],[-90,58.28,1],[0,31.72,1],[-121.72,0,1],[90,-58.28,1],[180,-31.72,1],[121.72,0,1],[90,58.28,1],[180,31.72,1],[58.28,0,1],[-90,-58.28,1]],[[26,15.46,1],[-26,-15.46,1],[17.11,-24.99,1],[-17.11,24.99,1],[154,-15.46,1],[-154,15.46,1],[162.89,24.99,1],[-162.89,-24.99,1],[72.89,24.99,1],[107.11,-24.99,1],[116,15.46,1],[64,-15.46,1],[-107.11,24.99,1],[-72.89,-24.99,1],[-64,15.46,1],[-116,-15.46,1],[32.25,60.03,1],[-147.75,60.03,1],[-57.75,60.03,1],[122.25,60.03,1],[-32.25,-60.03,1],[147.75,-60.03,1],[57.75,-60.03,1],[-122.25,-60.03,1]],[[26,15.46,1],[-26,-15.46,1],[17.11,-24.99,1],[-17.11,24.99,1],[154,-15.46,1],[-154,15.46,1],[162.89,24.99,1],[-162.89,-24.99,1],[72.89,24.99,1],[107.11,-24.99,1],[116,15.46,1],[64,-15.46,1],[-107.11,24.99,1],[-72.89,-24.99,1],[-64,15.46,1],[-116,-15.46,1],[32.25,60.03,1],[-147.75,60.03,1],[-57.75,60.03,1],[122.25,60.03,1],[-32.25,-60.03,1],[147.75,-60.03,1],[57.75,-60.03,1],[-122.25,-60.03,1]],[[-31.11,53.65,1],[110.82,30.5,1],[148.89,53.65,1],[32.21,-17.83,1],[69.18,-30.5,1],[-32.21,17.83,1],[-69.18,30.5,1],[-147.79,-17.83,1],[-110.82,-30.5,1],[147.79,17.83,1],[31.11,-53.65,1],[-148.89,-53.65,1],[-21.25,-47.78,1],[-108.2,38.78,1],[158.75,-47.78,1],[139.77,-14.09,1],[-71.8,-38.78,1],[-139.77,14.09,1],[71.8,38.78,1],[-40.23,-14.09,1],[108.2,-38.78,1],[40.23,14.09,1],[21.25,47.78,1],[-158.75,47.78,1],[106.65,-2.55,1],[-2.66,-16.63,1],[-73.35,-2.55,1],[-98.84,73.16,1],[-177.34,16.63,1],[98.84,-73.16,1],[177.34,-16.63,1],[81.16,73.16,1],[2.66,16.63,1],[-81.16,-73.16,1],[-106.65,2.55,1],[73.35,2.55,1]],[[20.75,-3.55,1],[-20.75,3.55,1],[-3.8,-20.7,1],[3.8,20.7,1],[159.25,3.55,1],[-159.25,-3.55,1],[-176.2,20.7,1],[176.2,-20.7,1],[93.8,20.7,1],[86.2,-20.7,1],[110.75,-3.55,1],[69.25,3.55,1],[-86.2,20.7,1],[-93.8,-20.7,1],[-69.25,-3.55,1],[-110.75,3.55,1],[-9.94,68.97,1],[170.06,68.97,1],[-99.94,68.97,1],[80.06,68.97,1],[9.94,-68.97,1],[-170.06,-68.97,1],[99.94,-68.97,1],[-80.06,-68.97,1],[42.15,17.57,1],[-42.15,-17.57,1],[23.12,-39.77,1],[-23.12,39.77,1],[137.85,-17.57,1],[-137.85,17.57,1],[156.88,39.77,1],[-156.88,-39.77,1],[66.88,39.77,1],[113.12,-39.77,1],[132.15,17.57,1],[47.85,-17.57,1],[-113.12,39.77,1],[-66.88,-39.77,1],[-47.85,17.57,1],[-132.15,-17.57,1],[25.26,44.98,1],[-154.74,44.98,1],[-64.74,44.98,1],[115.26,44.98,1],[-25.26,-44.98,1],[154.74,-44.98,1],[64.74,-44.98,1],[-115.26,-44.98,1]],[[144.09,-21.45,1],[-33.81,-48.92,1],[-35.91,-21.45,1],[-115.87,33.09,1],[-146.19,48.92,1],[115.87,-33.09,1],[146.19,-48.92,1],[64.13,33.09,1],[33.81,48.92,1],[-64.13,-33.09,1],[-144.09,21.45,1],[35.91,21.45,1],[-45.53,1.95,1],[177.26,44.44,1],[134.47,1.95,1],[87.21,-45.49,1],[2.74,-44.44,1],[-87.21,45.49,1],[-2.74,44.44,1],[-92.79,-45.49,1],[-177.26,-44.44,1],[92.79,45.49,1],[45.53,-1.95,1],[-134.47,-1.95,1],[15.59,-73.34,1],[-85.4,16.04,1],[-164.41,-73.34,1],[163.92,4.42,1],[-94.6,-16.04,1],[-163.92,-4.42,1],[94.6,16.04,1],[-16.08,4.42,1],[85.4,-16.04,1],[16.08,-4.42,1],[-15.59,73.34,1],[164.41,73.34,1],[-60.02,25.27,1],[151.41,26.86,1],[119.98,25.27,1],[46.63,-51.57,1],[28.59,-26.86,1],[-46.63,51.57,1],[-28.59,26.86,1],[-133.37,-51.57,1],[-151.41,-26.86,1],[133.37,51.57,1],[60.02,-25.27,1],[-119.98,-25.27,1],[-109.94,6.91,1],[172.65,-19.79,1],[70.06,6.91,1],[-70.44,-68.94,1],[7.35,19.79,1],[70.44,68.94,1],[-7.35,-19.79,1],[109.56,-68.94,1],[-172.65,19.79,1],[-109.56,68.94,1],[109.94,-6.91,1],[-70.06,-6.91,1]],[[132.93,7.69,1],[-83.93,-23.73,1],[8.47,23.51,1],[-113.34,70.42,1],[-103.27,-9.9,1],[-33.24,-70.75,1],[21.86,-26.46,1],[-156.54,47.78,1],[-64.26,-7.72,1],[165.78,44.53,1],[-25.2,26.39,1],[-97,-44.66,1],[27.85,9.77,1],[153.21,-47.71,1],[-155.06,7.45,1],[-11.84,-23.59,1],[80.54,23.72,1],[-42.06,70.44,1],[-31.22,-9.84,1],[38.84,-70.5,1],[93.76,-26.29,1],[-84.76,47.61,1],[7.76,-7.52,1],[-122.28,44.29,1],[46.8,26.64,1],[-24.77,-44.57,1],[99.89,9.91,1],[-134.78,-47.96,1],[-83.09,7.3,1],[60.13,-23.34,1],[152.64,23.64,1],[29.76,70.68,1],[40.78,-9.58,1],[110.18,-70.39,1],[165.65,-26.43,1],[-12.99,47.75,1],[79.74,-7.31,1],[-50.52,44.26,1],[118.92,26.71,1],[47.22,-44.31,1],[171.93,9.76,1],[-62.51,-48.04,1],[-11.12,7.44,1],[132.02,-23.33,1],[-135.36,23.39,1],[102.37,70.82,1],[112.74,-9.49,1],[-178.3,-70.58,1],[-122.32,-26.67,1],[59.08,48,1],[151.7,-7.38,1],[21.38,44.5,1],[-169.01,26.5,1],[118.98,-44.25,1],[-116.09,9.52,1],[9.65,-47.83,1],[60.89,7.68,1],[-156.02,-23.57,1],[-63.46,23.31,1],[174.93,70.66,1],[-175.29,-9.68,1],[-105.95,-70.8,1],[-50.19,-26.7,1],[131.36,48.01,1],[-136.3,-7.64,1],[93.56,44.67,1],[-97.08,26.3,1],[-169.16,-44.46,1],[-44.13,9.52,1],[81.48,-47.62,1]],[[-154.47,7.9,1],[162.15,-63.36,1],[25.53,7.9,1],[-81.26,-25.27,1],[17.85,63.36,1],[81.26,25.27,1],[-17.85,-63.36,1],[98.74,-25.27,1],[-162.15,63.36,1],[-98.74,25.27,1],[154.47,-7.9,1],[-25.53,-7.9,1],[1.3,-10.47,1],[-83.01,79.45,1],[-178.7,-10.47,1],[100.48,1.28,1],[-96.99,-79.45,1],[-100.48,-1.28,1],[96.99,79.45,1],[-79.52,1.28,1],[83.01,-79.45,1],[79.52,-1.28,1],[-1.3,10.47,1],[178.7,10.47,1],[157.24,13.15,1],[31.14,-63.89,1],[-22.76,13.15,1],[-75.78,22.13,1],[148.86,63.89,1],[75.78,-22.13,1],[-148.86,-63.89,1],[104.22,22.13,1],[-31.14,63.89,1],[-104.22,-22.13,1],[-157.24,-13.15,1],[22.76,-13.15,1],[110.44,-60.62,1],[-62.18,-9.87,1],[-69.56,-60.62,1],[-168.88,27.37,1],[-117.82,9.87,1],[168.88,-27.37,1],[117.82,-9.87,1],[11.12,27.37,1],[62.18,9.87,1],[-11.12,-27.37,1],[-110.44,60.62,1],[69.56,60.62,1],[-125.93,-47.4,1],[-126.67,-23.4,1],[54.07,-47.4,1],[-151.65,-33.24,1],[-53.33,23.4,1],[151.65,33.24,1],[53.33,-23.4,1],[28.35,-33.24,1],[126.67,23.4,1],[-28.35,33.24,1],[125.93,47.4,1],[-54.07,47.4,1],[61.41,37.54,1],[41.19,22.3,1],[-118.59,37.54,1],[31.92,44.13,1],[138.81,-22.3,1],[-31.92,-44.13,1],[-138.81,22.3,1],[-148.08,44.13,1],[-41.19,-22.3,1],[148.08,-44.13,1],[-61.41,-37.54,1],[118.59,-37.54,1],[132.92,4.73,1],[6.45,-42.74,1],[-47.08,4.73,1],[-83.07,46.87,1],[173.55,42.74,1],[83.07,-46.87,1],[-173.55,-42.74,1],[96.93,46.87,1],[-6.45,42.74,1],[-96.93,-46.87,1],[-132.92,-4.73,1],[47.08,-4.73,1]],[[-40.36,68.7,1],[61.12,65.68,1],[141.73,70.75,1],[-131.25,72.32,1],[-154.88,-12.62,1],[-66.2,-9.78,1],[26.36,-11.97,1],[114.95,-12.58,1],[37.02,51.13,1],[129.77,51.95,1],[-140.63,50.15,1],[-56.5,47.88,1],[-65.05,12.58,1],[25.12,12.62,1],[113.8,9.78,1],[-153.64,11.97,1],[-134.51,-9.73,1],[-46.23,-8.37,1],[47.91,-9.73,1],[141.51,-8.73,1],[-17.84,-44.1,1],[69.37,-43.27,1],[151.22,-42.67,1],[-106.78,-40.18,1],[-50.23,-51.95,1],[39.37,-50.15,1],[123.5,-47.88,1],[-142.98,-51.13,1],[-179.19,-60.75,1],[-84.57,-54.07,1],[5.39,-58.05,1],[89.5,-60.75,1],[-145.98,31.02,1],[-54.39,26.43,1],[28.92,32.51,1],[125.34,30.94,1],[168.71,-7.06,1],[-112.49,-10.38,1],[-21.96,-9.6,1],[73.11,-8.31,1],[95.68,.04,1],[-170.71,2.32,1],[-84.32,-.04,1],[9.29,-2.32,1],[9.19,-34.33,1],[98.21,-37.31,1],[-179.2,-40.48,1],[-77.81,-31.6,1],[-177.08,-21.74,1],[-93.77,-18.83,1],[-2.72,-19.8,1],[90.51,-20.91,1],[-106.89,8.31,1],[-11.29,7.06,1],[67.51,10.38,1],[158.04,9.6,1],[-118.88,-65.68,1],[-38.27,-70.75,1],[48.75,-72.32,1],[139.64,-68.7,1],[-54.66,-30.94,1],[34.02,-31.02,1],[125.61,-26.43,1],[-151.08,-32.51,1],[-170.81,34.33,1],[-81.79,37.31,1],[.8,40.48,1],[102.19,31.6,1],[-28.78,42.67,1],[73.22,40.18,1],[162.16,44.1,1],[-110.63,43.27,1],[-89.49,20.91,1],[2.92,21.74,1],[86.23,18.83,1],[177.28,19.8,1],[133.77,8.37,1],[-132.09,9.73,1],[-38.49,8.73,1],[45.49,9.73,1],[-25.6,24.04,1],[55.12,30.23,1],[149.3,28.05,1],[-118.71,26.06,1],[.81,60.75,1],[95.43,54.07,1],[-174.61,58.05,1],[-90.5,60.75,1],[-124.88,-30.23,1],[-30.7,-28.05,1],[61.29,-26.06,1],[154.4,-24.04,1],[-132.92,-85.6,1],[47.08,85.6,1]],[[-129.19,8.11,1],[169.58,-38.73,1],[50.81,8.12,1],[-77.27,-50.11,1],[10.42,38.73,1],[77.3,50.12,1],[-10.41,-38.72,1],[102.71,-50.11,1],[-169.57,38.72,1],[-102.71,50.11,1],[129.19,-8.11,1],[-50.8,-8.11,1],[-4.59,-56.01,1],[-93.1,33.85,1],[175.39,-56.03,1],[146.11,-2.57,1],[-86.89,-33.86,1],[-146.1,2.56,1],[86.91,33.86,1],[-33.89,-2.57,1],[93.1,-33.85,1],[33.9,2.58,1],[4.6,56.03,1],[-175.38,56.01,1],[106.57,26.1,1],[27.07,-14.82,1],[-73.44,26.09,1],[-30.2,59.41,1],[152.94,14.83,1],[30.2,-59.4,1],[-152.93,-14.84,1],[149.82,59.41,1],[-27.06,14.83,1],[-149.8,-59.42,1],[-106.55,-26.1,1],[73.44,-26.09,1],[-171.42,77.45,1],[91.9,-12.4,1],[8.54,77.46,1],[-12.4,-1.85,1],[88.11,12.41,1],[12.41,1.86,1],[-88.1,-12.41,1],[167.6,-1.86,1],[-91.89,12.4,1],[-167.59,1.84,1],[171.43,-77.46,1],[-8.52,-77.45,1],[-122.73,-10.44,1],[-167.65,-32.13,1],[57.27,-10.43,1],[-108.8,-55.83,1],[-12.35,32.13,1],[108.83,55.83,1],[12.36,-32.12,1],[71.19,-55.82,1],[167.66,32.12,1],[-71.19,55.82,1],[122.74,10.44,1],[-57.27,10.44,1],[-135.84,-23.05,1],[-148.58,-41.32,1],[44.16,-23.04,1],[-120.66,-39.88,1],[-31.41,41.31,1],[120.68,39.87,1],[31.42,-41.3,1],[59.33,-39.86,1],[148.6,41.31,1],[-59.33,39.87,1],[135.85,23.05,1],[-44.16,23.05,1],[-161.55,20.62,1],[130.04,-62.6,1],[18.45,20.64,1],[-68.35,-17.23,1],[49.96,62.61,1],[68.36,17.23,1],[-49.93,-62.6,1],[111.65,-17.22,1],[-130.05,62.59,1],[-111.64,17.22,1],[161.56,-20.63,1],[-18.44,-20.62,1],[-105.23,-3.38,1],[-176.5,-15.21,1],[74.77,-3.37,1],[-102.64,-74.41,1],[-3.5,15.21,1],[102.69,74.41,1],[3.51,-15.2,1],[77.33,-74.4,1],[176.51,15.2,1],[-77.36,74.4,1],[105.24,3.38,1],[-74.76,3.37,1],[-142.39,25.42,1],[142.08,-45.69,1],[37.61,25.43,1],[-59.02,-33.44,1],[37.92,45.69,1],[59.04,33.45,1],[-37.91,-45.68,1],[120.97,-33.44,1],[-142.07,45.68,1],[-120.96,33.44,1],[142.4,-25.43,1],[-37.6,-25.42,1]],[[-30.6,6.94,1],[166.56,58.69,1],[149.4,6.96,1],[81.95,-30.36,1],[13.48,-58.69,1],[-81.93,30.36,1],[-13.46,58.68,1],[-98.06,-30.37,1],[-166.54,-58.68,1],[98.07,30.37,1],[30.62,-6.95,1],[-149.38,-6.95,1],[106.69,-22.68,1],[-23.57,-15.36,1],[-73.31,-22.69,1],[-145.5,62.1,1],[-156.41,15.36,1],[145.53,-62.1,1],[156.43,-15.35,1],[34.47,62.11,1],[23.58,15.36,1],[-34.46,-62.11,1],[-106.67,22.68,1],[73.33,22.69,1],[166.82,1.39,1],[6.09,-76.74,1],[-13.19,1.38,1],[-88.57,13.18,1],[173.99,76.74,1],[88.59,-13.18,1],[-173.97,-76.73,1],[91.43,13.2,1],[-6.07,76.73,1],[-91.42,-13.2,1],[-166.8,-1.38,1],[13.2,-1.39,1],[-74.67,48.11,1],[130.86,10.16,1],[105.32,48.13,1],[13.34,-40.08,1],[49.16,-10.15,1],[-13.32,40.07,1],[-49.14,10.15,1],[-166.67,-40.08,1],[-130.84,-10.16,1],[166.69,40.08,1],[74.7,-48.11,1],[-105.31,-48.13,1],[-126.99,26.55,1],[147.96,-32.57,1],[53,26.56,1],[-50.28,-45.59,1],[32.05,32.58,1],[50.3,45.59,1],[-32.03,-32.58,1],[129.71,-45.58,1],[-147.94,32.57,1],[-129.69,45.58,1],[127.02,-26.55,1],[-52.98,-26.56,1],[-171.93,30.37,1],[103.47,-58.68,1],[8.07,30.36,1],[-59.38,-6.96,1],[76.54,58.69,1],[59.4,6.95,1],[-76.53,-58.69,1],[120.62,-6.94,1],[-103.44,58.68,1],[-120.6,6.95,1],[171.94,-30.36,1],[-8.05,-30.37,1],[40.86,10.16,1],[15.32,48.12,1],[-139.14,10.16,1],[76.68,40.09,1],[164.69,-48.12,1],[-76.67,-40.09,1],[-164.67,48.12,1],[-103.31,40.07,1],[-15.3,-48.13,1],[103.34,-40.07,1],[-40.84,-10.16,1],[139.16,-10.15,1],[103.2,-1.38,1],[-1.41,-13.19,1],[-76.8,-1.39,1],[-96.02,76.73,1],[-178.57,13.19,1],[96.07,-76.73,1],[178.58,-13.19,1],[83.94,76.74,1],[1.43,13.19,1],[-83.95,-76.74,1],[-103.18,1.38,1],[76.81,1.39,1],[37.02,-26.56,1],[-39.7,45.58,1],[-142.99,-26.56,1],[122.05,32.58,1],[-140.29,-45.59,1],[-122.04,-32.58,1],[140.31,45.59,1],[-57.95,32.57,1],[39.72,-45.58,1],[57.97,-32.57,1],[-37,26.55,1],[143,26.56,1],[163.33,22.69,1],[55.55,-62.1,1],[-16.67,22.68,1],[-66.41,15.35,1],[124.49,62.11,1],[66.43,-15.35,1],[-124.48,-62.11,1],[113.58,15.36,1],[-55.52,62.1,1],[-113.57,-15.36,1],[-163.31,-22.68,1],[16.69,-22.69,1]],[[-10.57,-17.35,1],[-120.42,69.76,1],[169.43,-17.35,1],[107.63,-10.08,1],[-59.57,-69.78,1],[-107.63,10.08,1],[59.57,69.78,1],[-72.37,-10.09,1],[120.42,-69.76,1],[72.37,10.09,1],[10.57,17.35,1],[-169.43,17.35,1],[-30.77,68.25,1],[101.53,18.57,1],[149.25,68.26,1],[18.92,-10.92,1],[78.47,-18.56,1],[-18.92,10.92,1],[-78.47,18.56,1],[-161.09,-10.92,1],[-101.53,-18.56,1],[161.09,10.92,1],[30.78,-68.26,1],[-149.26,-68.26,1],[56.46,41.26,1],[46.46,24.54,1],[-123.53,41.26,1],[32.19,38.8,1],[133.53,-24.53,1],[-32.19,-38.8,1],[-133.53,24.53,1],[-147.8,38.8,1],[-46.46,-24.54,1],[147.8,-38.8,1],[-56.46,-41.27,1],[123.53,-41.26,1],[84.74,27.31,1],[27.41,4.68,1],[-95.26,27.3,1],[10.06,62.23,1],[152.59,-4.67,1],[-10.06,-62.23,1],[-152.59,4.67,1],[-169.92,62.23,1],[-27.4,-4.68,1],[169.92,-62.22,1],[-84.74,-27.31,1],[95.26,-27.3,1],[136.27,-.73,1],[-1.05,-46.27,1],[-43.73,-.74,1],[-91.01,43.72,1],[-178.94,46.27,1],[91.01,-43.72,1],[178.94,-46.27,1],[88.99,43.73,1],[1.05,46.27,1],[-88.99,-43.73,1],[-136.27,.73,1],[43.73,.73,1],[55.23,10.82,1],[13.09,34.07,1],[-124.77,10.81,1],[71.48,53.8,1],[166.91,-34.06,1],[-71.48,-53.8,1],[-166.9,34.06,1],[-108.52,53.79,1],[-13.09,-34.06,1],[108.52,-53.79,1],[-55.23,-10.82,1],[124.77,-10.81,1],[-105.49,-68.13,1],[-111.15,-5.71,1],[74.52,-68.12,1],[-173.89,-21.04,1],[-68.85,5.7,1],[173.89,21.04,1],[68.85,-5.7,1],[6.12,-21.04,1],[111.15,5.71,1],[-6.12,21.04,1],[105.49,68.13,1],[-74.52,68.12,1],[35.28,-15.18,1],[-25.17,51.98,1],[-144.72,-15.19,1],[108.39,33.88,1],[-154.84,-51.99,1],[-108.39,-33.88,1],[154.84,51.99,1],[-71.61,33.87,1],[25.17,-51.98,1],[71.61,-33.87,1],[-35.28,15.18,1],[144.72,15.19,1],[-125.28,-28.56,1],[-146.32,-30.49,1],[54.72,-28.55,1],[-133.29,-45.82,1],[-33.69,30.48,1],[133.3,45.82,1],[33.68,-30.48,1],[46.71,-45.81,1],[146.32,30.49,1],[-46.71,45.81,1],[125.28,28.56,1],[-54.72,28.54,1],[-144.4,54.71,1],[112.38,-28.01,1],[35.58,54.72,1],[-29.92,-19.65,1],[67.62,28.02,1],[29.92,19.65,1],[-67.62,-28.02,1],[150.08,-19.64,1],[-112.38,28.01,1],[-150.08,19.64,1],[144.4,-54.71,1],[-35.58,-54.72,1],[68.53,-52.85,1],[-54.82,12.76,1],[-111.46,-52.87,1],[164.51,34.19,1],[-125.18,-12.77,1],[-164.51,-34.19,1],[125.18,12.77,1],[-15.5,34.19,1],[54.82,-12.76,1],[15.49,-34.19,1],[-68.53,52.85,1],[111.47,52.86,1],[91.48,-7.37,1],[-7.38,-1.47,1],[-88.52,-7.38,1],[-168.69,82.47,1],[-172.62,1.47,1],[168.69,-82.47,1],[172.62,-1.46,1],[11.22,82.48,1],[7.38,1.47,1],[-11.21,-82.48,1],[-91.48,7.37,1],[88.52,7.38,1]],[[-110.97,-81.34,1],[-98.09,-3.09,1],[69.03,-81.34,1],[-176.88,-8.08,1],[-81.91,3.09,1],[176.88,8.08,1],[81.91,-3.09,1],[3.12,-8.08,1],[98.09,3.09,1],[-3.12,8.08,1],[110.97,81.34,1],[-69.03,81.34,1],[145.76,30.52,1],[46.33,-45.41,1],[-34.24,30.52,1],[-54.51,28.99,1],[133.67,45.41,1],[54.51,-28.99,1],[-133.67,-45.41,1],[125.49,28.99,1],[-46.33,45.41,1],[-125.49,-28.99,1],[-145.76,-30.52,1],[34.24,-30.52,1],[159.58,41.4,1],[68.4,-44.67,1],[-20.42,41.4,1],[-46.75,15.18,1],[111.6,44.67,1],[46.75,-15.18,1],[-111.6,-44.67,1],[133.25,15.18,1],[-68.4,44.67,1],[-133.25,-15.18,1],[-159.58,-41.4,1],[20.42,-41.4,1],[85.43,-37.93,1],[-38.02,3.6,1],[-94.57,-37.93,1],[174.17,51.83,1],[-141.98,-3.6,1],[-174.17,-51.83,1],[141.98,3.6,1],[-5.83,51.83,1],[38.02,-3.6,1],[5.83,-51.83,1],[-85.43,37.93,1],[94.57,37.93,1],[21.18,27.17,1],[54.86,56.05,1],[-158.82,27.17,1],[61.17,18.75,1],[125.14,-56.05,1],[-61.17,-18.75,1],[-125.14,56.05,1],[-118.83,18.75,1],[-54.86,-56.05,1],[118.83,-18.75,1],[-21.18,-27.17,1],[158.82,-27.17,1],[104.66,-9.56,1],[-9.88,-14.45,1],[-75.34,-9.56,1],[-123.65,72.56,1],[-170.12,14.45,1],[123.65,-72.56,1],[170.12,-14.45,1],[56.35,72.56,1],[9.88,14.45,1],[-56.35,-72.56,1],[-104.66,9.56,1],[75.34,9.56,1],[25.94,-16.83,1],[-34.66,59.4,1],[-154.06,-16.83,1],[108.59,24.75,1],[-145.34,-59.41,1],[-108.59,-24.75,1],[145.34,59.41,1],[-71.41,24.75,1],[34.66,-59.41,1],[71.41,-24.75,1],[-25.94,16.83,1],[154.06,16.83,1],[-100.89,26.49,1],[153.1,-9.74,1],[79.11,26.49,1],[-20.77,-61.51,1],[26.9,9.74,1],[20.77,61.51,1],[-26.9,-9.74,1],[159.23,-61.51,1],[-153.1,9.74,1],[-159.23,61.51,1],[100.89,-26.49,1],[-79.11,-26.49,1],[44.31,12.28,1],[17.3,44.36,1],[-135.69,12.28,1],[73.08,43.05,1],[162.7,-44.36,1],[-73.08,-43.05,1],[-162.7,44.36,1],[-106.92,43.05,1],[-17.3,-44.36,1],[106.92,-43.05,1],[-44.31,-12.28,1],[135.69,-12.28,1],[-169.08,-24.53,1],[-112.54,-63.29,1],[10.92,-24.53,1],[-114.93,-9.92,1],[-67.46,63.28,1],[114.93,9.92,1],[67.46,-63.29,1],[65.07,-9.92,1],[112.54,63.29,1],[-65.07,9.92,1],[169.08,24.53,1],[-10.92,24.53,1],[93.2,-57.39,1],[-57.43,-1.73,1],[-86.8,-57.39,1],[-177.95,32.55,1],[-122.57,1.73,1],[177.95,-32.55,1],[122.57,-1.73,1],[2.05,32.55,1],[57.43,1.73,1],[-2.05,-32.55,1],[-93.2,57.39,1],[86.8,57.39,1],[-17.59,3.04,1],[170.04,72.16,1],[162.41,3.04,1],[86.81,-17.56,1],[9.96,-72.16,1],[-86.81,17.56,1],[-9.96,72.16,1],[-93.19,-17.56,1],[-170.04,-72.16,1],[93.19,17.56,1],[17.59,-3.04,1],[-162.41,-3.04,1],[39.38,44.26,1],[56.93,33.61,1],[-140.62,44.26,1],[38.42,27.03,1],[123.07,-33.61,1],[-38.42,-27.03,1],[-123.07,33.61,1],[-141.58,27.03,1],[-56.93,-33.61,1],[141.58,-27.03,1],[-39.38,-44.26,1],[140.62,-44.26,1]],[[165.52,26.52,1],[63.39,-60.04,1],[-14.48,26.52,1],[-62.74,12.93,1],[116.61,60.04,1],[62.74,-12.93,1],[-116.61,-60.04,1],[117.26,12.93,1],[-63.39,60.04,1],[-117.26,-12.93,1],[-165.52,-26.52,1],[14.48,-26.52,1],[-150.22,-21.62,1],[-141.41,-53.79,1],[29.78,-21.62,1],[-114.55,-27.5,1],[-38.59,53.79,1],[114.55,27.5,1],[38.59,-53.79,1],[65.45,-27.5,1],[141.41,53.79,1],[-65.45,27.5,1],[150.22,21.62,1],[-29.78,21.62,1],[-163.47,81.91,1],[92.31,-7.75,1],[16.53,81.91,1],[-7.76,-2.29,1],[87.69,7.75,1],[7.76,2.29,1],[-87.69,-7.75,1],[172.24,-2.29,1],[-92.31,7.75,1],[-172.24,2.29,1],[163.47,-81.91,1],[-16.53,-81.91,1],[-79.91,-73.49,1],[-106.27,2.85,1],[100.09,-73.49,1],[177.03,-16.24,1],[-73.73,-2.85,1],[-177.03,16.24,1],[73.73,2.85,1],[-2.97,-16.24,1],[106.27,-2.85,1],[2.97,16.24,1],[79.91,73.49,1],[-100.09,73.49,1],[-43.19,73.63,1],[101.37,11.86,1],[136.81,73.63,1],[12.09,-11.12,1],[78.63,-11.86,1],[-12.09,11.12,1],[-78.63,11.86,1],[-167.91,-11.12,1],[-101.37,-11.86,1],[167.91,11.12,1],[43.19,-73.63,1],[-136.81,-73.63,1],[109.86,-34.83,1],[-36.5,-16.19,1],[-70.14,-34.83,1],[-153.97,50.53,1],[-143.5,16.19,1],[153.97,-50.53,1],[143.5,-16.19,1],[26.03,50.53,1],[36.5,16.19,1],[-26.03,-50.53,1],[-109.86,34.83,1],[70.14,34.83,1],[-23.31,-6.54,1],[-163.84,65.83,1],[156.69,-6.54,1],[97.12,-23.15,1],[-16.16,-65.83,1],[-97.12,23.15,1],[16.16,65.83,1],[-82.88,-23.15,1],[163.84,-65.83,1],[82.88,23.15,1],[23.31,6.54,1],[-156.69,6.54,1],[-.87,-31.92,1],[-91.4,58.07,1],[179.13,-31.92,1],[121.93,-.74,1],[-88.6,-58.07,1],[-121.93,.74,1],[88.6,58.07,1],[-58.07,-.74,1],[91.4,-58.07,1],[58.07,.74,1],[.87,31.92,1],[-179.13,31.92,1],[163.12,43.35,1],[72.9,-44.1,1],[-16.88,43.35,1],[-45.39,12.19,1],[107.1,44.1,1],[45.39,-12.19,1],[-107.1,-44.1,1],[134.61,12.19,1],[-72.9,44.1,1],[-134.61,-12.19,1],[-163.12,-43.35,1],[16.88,-43.35,1],[-114.23,50.37,1],[127.06,-15.17,1],[65.77,50.37,1],[-18.77,-35.57,1],[52.94,15.17,1],[18.77,35.57,1],[-52.94,-15.17,1],[161.23,-35.57,1],[-127.06,15.17,1],[-161.23,35.57,1],[114.23,-50.37,1],[-65.77,-50.37,1],[54.17,30.16,1],[35.63,30.41,1],[-125.83,30.16,1],[45.21,44.51,1],[144.37,-30.41,1],[-45.21,-44.51,1],[-144.37,30.41,1],[-134.79,44.51,1],[-35.63,-30.41,1],[134.79,-44.51,1],[-54.17,-30.16,1],[125.83,-30.16,1],[126.2,41.73,1],[47.86,-26.15,1],[-53.8,41.73,1],[-33.51,37.03,1],[132.14,26.15,1],[33.51,-37.03,1],[-132.14,-26.15,1],[146.49,37.03,1],[-47.86,26.15,1],[-146.49,-37.03,1],[-126.2,-41.73,1],[53.8,-41.73,1],[-161.75,20.38,1],[130.12,-62.91,1],[18.25,20.38,1],[-68.63,-17.07,1],[49.88,62.91,1],[68.63,17.07,1],[-49.88,-62.91,1],[111.37,-17.07,1],[-130.12,62.91,1],[-111.37,17.07,1],[161.75,-20.38,1],[-18.25,-20.38,1],[2.71,48.49,1],[87.6,41.45,1],[-177.29,48.49,1],[41.48,1.8,1],[92.4,-41.45,1],[-41.48,-1.8,1],[-92.4,41.45,1],[-138.52,1.8,1],[-87.6,-41.45,1],[138.52,-1.8,1],[-2.71,-48.49,1],[177.29,-48.49,1],[-98.15,-27.54,1],[-152.22,-7.22,1],[81.85,-27.54,1],[-164.79,-61.37,1],[-27.78,7.22,1],[164.79,61.37,1],[27.78,-7.22,1],[15.21,-61.37,1],[152.22,7.22,1],[-15.21,61.37,1],[98.15,27.54,1],[-81.85,27.54,1]],[[-40.48,43.36,1],[124.51,33.58,1],[139.52,43.36,1],[38.85,-28.17,1],[55.49,-33.58,1],[-38.85,28.17,1],[-55.49,33.58,1],[-141.15,-28.17,1],[-124.51,-33.58,1],[141.15,28.17,1],[40.48,-43.36,1],[-139.52,-43.36,1],[56.01,17.18,1],[20.46,32.29,1],[-123.99,17.18,1],[61.05,52.38,1],[159.54,-32.29,1],[-61.05,-52.38,1],[-159.54,32.29,1],[-118.95,52.38,1],[-20.46,-32.29,1],[118.95,-52.38,1],[-56.01,-17.18,1],[123.99,-17.18,1],[-179.51,-8.95,1],[-93.08,-81.04,1],[.49,-8.95,1],[-98.95,-.48,1],[-86.92,81.04,1],[98.95,.48,1],[86.92,-81.04,1],[81.05,-.48,1],[93.08,81.04,1],[-81.05,.48,1],[179.51,8.95,1],[-.49,8.95,1],[12.04,-13.56,1],[-49.15,71.95,1],[-167.96,-13.56,1],[103.85,11.7,1],[-130.85,-71.95,1],[-103.85,-11.7,1],[130.85,71.95,1],[-76.15,11.7,1],[49.15,-71.95,1],[76.15,-11.7,1],[-12.04,13.56,1],[167.96,13.56,1],[-13.62,-58.2,1],[-98.3,30.8,1],[166.38,-58.2,1],[148.93,-7.13,1],[-81.7,-30.8,1],[-148.93,7.13,1],[81.7,30.8,1],[-31.07,-7.13,1],[98.3,-30.8,1],[31.07,7.13,1],[13.62,58.2,1],[-166.38,58.2,1],[65.26,-20.55,1],[-22.43,23.07,1],[-114.74,-20.55,1],[131.85,58.26,1],[-157.57,-23.07,1],[-131.85,-58.26,1],[157.57,23.07,1],[-48.15,58.26,1],[22.43,-23.07,1],[48.15,-58.26,1],[-65.26,20.55,1],[114.74,20.55,1],[-135.39,26.5,1],[144.63,-39.58,1],[44.61,26.5,1],[-55,-38.94,1],[35.37,39.58,1],[55,38.94,1],[-35.37,-39.58,1],[125,-38.94,1],[-144.63,39.58,1],[-125,38.94,1],[135.39,-26.5,1],[-44.61,-26.5,1],[114.95,-4.75,1],[-5.23,-24.86,1],[-65.05,-4.75,1],[-101.14,64.63,1],[-174.77,24.86,1],[101.14,-64.63,1],[174.77,-24.86,1],[78.86,64.63,1],[5.23,24.86,1],[-78.86,-64.63,1],[-114.95,4.75,1],[65.05,4.75,1],[35.85,52.64,1],[65.91,29.46,1],[-144.15,52.64,1],[31.75,20.82,1],[114.09,-29.46,1],[-31.75,-20.82,1],[-114.09,29.46,1],[-148.25,20.82,1],[-65.91,-29.46,1],[148.25,-20.82,1],[-35.85,-52.64,1],[144.15,-52.64,1],[86.45,11.52,1],[11.54,3.48,1],[-93.55,11.52,1],[16.9,77.95,1],[168.46,-3.48,1],[-16.9,-77.95,1],[-168.46,3.48,1],[-163.1,77.95,1],[-11.54,-3.48,1],[163.1,-77.95,1],[-86.45,-11.52,1],[93.55,-11.52,1],[135.24,4.02,1],[5.69,-45.1,1],[-44.76,4.02,1],[-84.35,44.62,1],[174.31,45.1,1],[84.35,-44.62,1],[-174.31,-45.1,1],[95.65,44.62,1],[-5.69,45.1,1],[-95.65,-44.62,1],[-135.24,-4.02,1],[44.76,-4.02,1],[-129.84,-18.16,1],[-156.86,-37.5,1],[50.16,-18.16,1],[-117.12,-46.85,1],[-23.14,37.5,1],[117.12,46.85,1],[23.14,-37.5,1],[62.88,-46.85,1],[156.86,37.5,1],[-62.88,46.85,1],[129.84,18.16,1],[-50.16,18.16,1],[-74.1,32.87,1],[146.1,13.3,1],[105.9,32.87,1],[22.97,-53.88,1],[33.9,-13.3,1],[-22.97,53.88,1],[-33.9,13.3,1],[-157.03,-53.88,1],[-146.1,-13.3,1],[157.03,53.88,1],[74.1,-32.87,1],[-105.9,-32.87,1],[-119.92,-5.64,1],[-173.5,-29.76,1],[60.08,-5.64,1],[-101.2,-59.6,1],[-6.5,29.76,1],[101.2,59.6,1],[6.5,-29.76,1],[78.8,-59.6,1],[173.5,29.76,1],[-78.8,59.6,1],[119.92,5.64,1],[-60.08,5.64,1],[73.14,16.13,1],[16.82,16.18,1],[-106.86,16.13,1],[45.09,66.83,1],[163.18,-16.18,1],[-45.09,-66.83,1],[-163.18,16.18,1],[-134.91,66.83,1],[-16.82,-16.18,1],[134.91,-66.83,1],[-73.14,-16.13,1],[106.86,-16.13,1],[-11.7,-43.38,1],[-102.11,45.38,1],[168.3,-43.38,1],[133.98,-8.47,1],[-77.89,-45.38,1],[-133.98,8.47,1],[77.89,45.38,1],[-46.02,-8.47,1],[102.11,-45.38,1],[46.02,8.47,1],[11.7,43.38,1],[-168.3,43.38,1],[-24.11,3.73,1],[170.94,65.63,1],[155.89,3.73,1],[85.92,-24.05,1],[9.06,-65.63,1],[-85.92,24.05,1],[-9.06,65.63,1],[-94.08,-24.05,1],[-170.94,-65.63,1],[94.08,24.05,1],[24.11,-3.73,1],[-155.89,-3.73,1]],[[104.6,-3.68,1],[-3.81,-14.57,1],[-75.4,-3.68,1],[-104.32,74.95,1],[-176.19,14.57,1],[104.32,-74.95,1],[176.19,-14.57,1],[75.68,74.95,1],[3.81,14.57,1],[-75.68,-74.95,1],[-104.6,3.68,1],[75.4,3.68,1],[153.77,-30.33,1],[-52.93,-50.74,1],[-26.23,-30.33,1],[-123.11,22.43,1],[-127.07,50.74,1],[123.11,-22.43,1],[127.07,-50.74,1],[56.89,22.43,1],[52.93,50.74,1],[-56.89,-22.43,1],[-153.77,30.33,1],[26.23,30.33,1],[35.99,-39.77,1],[-54.77,38.45,1],[-144.01,-39.77,1],[135.81,26.85,1],[-125.23,-38.45,1],[-135.81,-26.85,1],[125.23,38.45,1],[-44.19,26.85,1],[54.77,-38.45,1],[44.19,-26.85,1],[-35.99,39.77,1],[144.01,39.77,1],[71.82,-25.43,1],[-26.58,16.37,1],[-108.18,-25.43,1],[146.72,59.1,1],[-153.42,-16.37,1],[-146.72,-59.1,1],[153.42,16.37,1],[-33.28,59.1,1],[26.58,-16.37,1],[33.28,-59.1,1],[-71.82,25.43,1],[108.18,25.43,1],[-136.55,26.52,1],[144.03,-40.51,1],[43.45,26.52,1],[-55.5,-37.97,1],[35.97,40.51,1],[55.5,37.97,1],[-35.97,-40.51,1],[124.5,-37.97,1],[-144.03,40.51,1],[-124.5,37.97,1],[136.55,-26.52,1],[-43.45,-26.52,1],[-6.52,-1.08,1],[-170.58,83.4,1],[173.48,-1.08,1],[91.09,-6.52,1],[-9.42,-83.4,1],[-91.09,6.52,1],[9.42,83.4,1],[-88.91,-6.52,1],[170.58,-83.4,1],[88.91,6.52,1],[6.52,1.08,1],[-173.48,1.08,1],[-71.13,40.38,1],[138.05,14.26,1],[108.87,40.38,1],[20.82,-46.12,1],[41.95,-14.26,1],[-20.82,46.12,1],[-41.95,14.26,1],[-159.18,-46.12,1],[-138.05,-14.26,1],[159.18,46.12,1],[71.13,-40.38,1],[-108.87,-40.38,1],[-153.97,-27.97,1],[-129.57,-52.52,1],[26.03,-27.97,1],[-120.59,-22.81,1],[-50.43,52.52,1],[120.59,22.81,1],[50.43,-52.52,1],[59.41,-22.81,1],[129.57,52.52,1],[-59.41,22.81,1],[153.97,27.97,1],[-26.03,27.97,1],[-80.23,13.48,1],[166.33,9.49,1],[99.77,13.48,1],[35.29,-73.41,1],[13.67,-9.49,1],[-35.29,73.41,1],[-13.67,9.49,1],[-144.71,-73.41,1],[-166.33,-9.49,1],[144.71,73.41,1],[80.23,-13.48,1],[-99.77,-13.48,1],[55.43,-9,1],[-10.89,34.09,1],[-124.57,-9,1],[105.6,54.41,1],[-169.11,-34.09,1],[-105.6,-54.41,1],[169.11,34.09,1],[-74.4,54.41,1],[10.89,-34.09,1],[74.4,-54.41,1],[-55.43,9,1],[124.57,9,1],[68.32,-7.14,1],[-7.68,21.51,1],[-111.68,-7.14,1],[108.74,67.22,1],[-172.32,-21.51,1],[-108.74,-67.22,1],[172.32,21.51,1],[-71.26,67.22,1],[7.68,-21.51,1],[71.26,-67.22,1],[-68.32,7.14,1],[111.68,7.14,1],[-174.97,36.12,1],[96.85,-53.58,1],[5.03,36.12,1],[-53.77,-4.06,1],[83.15,53.58,1],[53.77,4.06,1],[-83.15,-53.58,1],[126.23,-4.06,1],[-96.85,53.58,1],[-126.23,4.06,1],[174.97,-36.12,1],[-5.03,-36.12,1],[-149.91,16.26,1],[149.81,-56.16,1],[30.09,16.26,1],[-71.37,-28.77,1],[30.19,56.16,1],[71.37,28.77,1],[-30.19,-56.16,1],[108.63,-28.77,1],[-149.81,56.16,1],[-108.63,28.77,1],[149.91,-16.26,1],[-30.09,-16.26,1],[2.52,-51.45,1],[-87.99,38.5,1],[-177.48,-51.45,1],[141.48,1.57,1],[-92.01,-38.5,1],[-141.48,-1.57,1],[92.01,38.5,1],[-38.52,1.57,1],[87.99,-38.5,1],[38.52,-1.57,1],[-2.52,51.45,1],[177.48,51.45,1],[161.12,-9.98,1],[-28.54,-68.73,1],[-18.88,-9.98,1],[-100.54,18.59,1],[-151.46,68.73,1],[100.54,-18.59,1],[151.46,-68.73,1],[79.46,18.59,1],[28.54,68.73,1],[-79.46,-18.59,1],[-161.12,9.98,1],[18.88,9.98,1],[12.84,24.97,1],[64.49,62.11,1],[-167.16,24.97,1],[64.47,11.62,1],[115.51,-62.11,1],[-64.47,-11.62,1],[-115.51,62.11,1],[-115.53,11.62,1],[-64.49,-62.11,1],[115.53,-11.62,1],[-12.84,-24.97,1],[167.16,-24.97,1],[74.13,41.65,1],[42.76,11.79,1],[-105.87,41.65,1],[17.09,45.95,1],[137.24,-11.79,1],[-17.09,-45.95,1],[-137.24,11.79,1],[-162.91,45.95,1],[-42.76,-11.79,1],[162.91,-45.95,1],[-74.13,-41.65,1],[105.87,-41.65,1],[154.04,1.27,1],[2.9,-64.01,1],[-25.96,1.27,1],[-88.59,25.96,1],[177.1,64.01,1],[88.59,-25.96,1],[-177.1,-64.01,1],[91.41,25.96,1],[-2.9,64.01,1],[-91.41,-25.96,1],[-154.04,-1.27,1],[25.96,-1.27,1]],[[24.8,-10.46,1],[-23.76,63.21,1],[-155.2,-10.46,1],[101.5,24.36,1],[-156.24,-63.21,1],[-101.5,-24.36,1],[156.24,63.21,1],[-78.5,24.36,1],[23.76,-63.21,1],[78.5,-24.36,1],[-24.8,10.46,1],[155.2,10.46,1],[-134.64,65.44,1],[108.01,-16.98,1],[45.36,65.44,1],[-17.8,-17.2,1],[71.99,16.98,1],[17.8,17.2,1],[-71.99,-16.98,1],[162.2,-17.2,1],[-108.01,16.98,1],[-162.2,17.2,1],[134.64,-65.44,1],[-45.36,-65.44,1],[177.6,54.85,1],[88.31,-35.12,1],[-2.4,54.85,1],[-35.13,1.38,1],[91.69,35.12,1],[35.13,-1.38,1],[-91.69,-35.12,1],[144.87,1.38,1],[-88.31,35.12,1],[-144.87,-1.38,1],[-177.6,-54.85,1],[2.4,-54.85,1],[157.93,82.01,1],[86.98,-7.4,1],[-22.07,82.01,1],[-7.41,2.99,1],[93.02,7.4,1],[7.41,-2.99,1],[-93.02,-7.4,1],[172.59,2.99,1],[-86.98,7.4,1],[-172.59,-2.99,1],[-157.93,-82.01,1],[22.07,-82.01,1],[42.48,-13.21,1],[-19.17,45.89,1],[-137.52,-13.21,1],[107.66,41.11,1],[-160.83,-45.89,1],[-107.66,-41.11,1],[160.83,45.89,1],[-72.34,41.11,1],[19.17,-45.89,1],[72.34,-41.11,1],[-42.48,13.21,1],[137.52,13.21,1],[28.48,10.9,1],[21.99,59.68,1],[-151.52,10.9,1],[77.65,27.92,1],[158.01,-59.68,1],[-77.65,-27.92,1],[-158.01,59.68,1],[-102.35,27.92,1],[-21.99,-59.68,1],[102.35,-27.92,1],[-28.48,-10.9,1],[151.52,-10.9,1],[-33.79,21.61,1],[144.53,50.59,1],[146.21,21.61,1],[64.51,-31.14,1],[35.47,-50.59,1],[-64.51,31.14,1],[-35.47,50.59,1],[-115.49,-31.14,1],[-144.53,-50.59,1],[115.49,31.14,1],[33.79,-21.61,1],[-146.21,-21.61,1],[-175.53,-31.74,1],[-97.19,-57.98,1],[4.47,-31.74,1],[-121.82,-3.8,1],[-82.81,57.98,1],[121.82,3.8,1],[82.81,-57.98,1],[58.18,-3.8,1],[97.19,57.98,1],[-58.18,3.8,1],[175.53,31.74,1],[-4.47,31.74,1],[89.4,19.43,1],[19.43,.56,1],[-90.6,19.43,1],[1.69,70.56,1],[160.57,-.56,1],[-1.69,-70.56,1],[-160.57,.56,1],[-178.31,70.56,1],[-19.43,-.56,1],[178.31,-70.56,1],[-89.4,-19.43,1],[90.6,-19.43,1],[-27.28,-27.88,1],[-130.91,51.78,1],[152.72,-27.88,1],[120.76,-23.9,1],[-49.09,-51.78,1],[-120.76,23.9,1],[49.09,51.78,1],[-59.24,-23.9,1],[130.91,-51.78,1],[59.24,23.9,1],[27.28,27.88,1],[-152.72,27.88,1],[139.9,-15.44,1],[-23.21,-47.5,1],[-40.1,-15.44,1],[-109.85,38.38,1],[-156.79,47.5,1],[109.85,-38.38,1],[156.79,-47.5,1],[70.15,38.38,1],[23.21,47.5,1],[-70.15,-38.38,1],[-139.9,15.44,1],[40.1,15.44,1],[-2.17,-43.33,1],[-92.29,46.62,1],[177.83,-43.33,1],[133.35,-1.58,1],[-87.71,-46.62,1],[-133.35,1.58,1],[87.71,46.62,1],[-46.65,-1.58,1],[92.29,-46.62,1],[46.65,1.58,1],[2.17,43.33,1],[-177.83,43.33,1],[41.12,27.96,1],[38.91,41.71,1],[-138.88,27.96,1],[54.83,35.51,1],[141.09,-41.71,1],[-54.83,-35.51,1],[-141.09,41.71,1],[-125.17,35.51,1],[-38.91,-41.71,1],[125.17,-35.51,1],[-41.12,-27.96,1],[138.88,-27.96,1],[-126.67,13.75,1],[163.04,-35.46,1],[53.33,13.75,1],[-67.73,-51.18,1],[16.96,35.46,1],[67.73,51.18,1],[-16.96,-35.46,1],[112.27,-51.18,1],[-163.04,35.46,1],[-112.27,51.18,1],[126.67,-13.75,1],[-53.33,-13.75,1],[6.02,-15.42,1],[-69.18,73.47,1],[-173.98,-15.42,1],[105.51,5.8,1],[-110.82,-73.47,1],[-105.51,-5.8,1],[110.82,73.47,1],[-74.49,5.8,1],[69.18,-73.47,1],[74.49,-5.8,1],[-6.02,15.42,1],[173.98,15.42,1],[160.08,33.45,1],[62.71,-51.67,1],[-19.92,33.45,1],[-54.9,16.52,1],[117.29,51.67,1],[54.9,-16.52,1],[-117.29,-51.67,1],[125.1,16.52,1],[-62.71,51.67,1],[-125.1,-16.52,1],[-160.08,-33.45,1],[19.92,-33.45,1],[80.34,6.51,1],[6.61,9.59,1],[-99.66,6.51,1],[55.76,78.37,1],[173.39,-9.59,1],[-55.76,-78.37,1],[-173.39,9.59,1],[-124.24,78.37,1],[-6.61,-9.59,1],[124.24,-78.37,1],[-80.34,-6.51,1],[99.66,-6.51,1],[6.25,24.64,1],[76.64,64.63,1],[-173.75,24.64,1],[65.23,5.68,1],[103.36,-64.63,1],[-65.23,-5.68,1],[-103.36,64.63,1],[-114.77,5.68,1],[-76.64,-64.63,1],[114.77,-5.68,1],[-6.25,-24.64,1],[173.75,-24.64,1],[51.41,-63.45,1],[-68.67,16.19,1],[-128.59,-63.45,1],[162.69,20.45,1],[-111.33,-16.19,1],[-162.69,-20.45,1],[111.33,16.19,1],[-17.31,20.45,1],[68.67,-16.19,1],[17.31,-20.45,1],[-51.41,63.45,1],[128.59,63.45,1],[-50.6,28.85,1],[144.51,33.77,1],[129.4,28.85,1],[49.04,-42.6,1],[35.49,-33.77,1],[-49.04,42.6,1],[-35.49,33.77,1],[-130.96,-42.6,1],[-144.51,-33.77,1],[130.96,42.6,1],[50.6,-28.85,1],[-129.4,-28.85,1]]],r=e[t-1];
return r}Object.defineProperty(r,"__esModule",{value:!0}),r.getTdesign=n,r.default={getTdesign:n}},{}],13:[function(t,e,r){e.exports={default:t("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":24}],14:[function(t,e,r){e.exports={default:t("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":25}],15:[function(t,e,r){e.exports={default:t("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":26}],16:[function(t,e,r){e.exports={default:t("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":27}],17:[function(t,e,r){e.exports={default:t("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":28}],18:[function(t,e,r){e.exports={default:t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":29}],19:[function(t,e,r){e.exports={default:t("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":30}],20:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],21:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var o=t("../core-js/object/define-property"),a=n(o);r.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()},{"../core-js/object/define-property":15}],22:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var o=t("../core-js/array/from"),a=n(o);r.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,a.default)(t)}},{"../core-js/array/from":13}],23:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var o=t("../core-js/symbol/iterator"),a=n(o),i=t("../core-js/symbol"),s=n(i),u="function"==typeof s.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default?"symbol":typeof t};r.default="function"==typeof s.default&&"symbol"===u(a.default)?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default?"symbol":"undefined"==typeof t?"undefined":u(t)}},{"../core-js/symbol":18,"../core-js/symbol/iterator":19}],24:[function(t,e,r){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/_core").Array.from},{"../../modules/_core":45,"../../modules/es6.array.from":109,"../../modules/es6.string.iterator":115}],25:[function(t,e,r){var n=t("../../modules/_core"),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(t){return o.stringify.apply(o,arguments)}},{"../../modules/_core":45}],26:[function(t,e,r){t("../../modules/es6.object.define-property");var n=t("../../modules/_core").Object;e.exports=function(t,e,r){return n.defineProperty(t,e,r)}},{"../../modules/_core":45,"../../modules/es6.object.define-property":111}],27:[function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),e.exports=t("../modules/_core").Promise},{"../modules/_core":45,"../modules/es6.object.to-string":112,"../modules/es6.promise":113,"../modules/es6.string.iterator":115,"../modules/web.dom.iterable":120}],28:[function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.set"),t("../modules/es7.set.to-json"),e.exports=t("../modules/_core").Set},{"../modules/_core":45,"../modules/es6.object.to-string":112,"../modules/es6.set":114,"../modules/es6.string.iterator":115,"../modules/es7.set.to-json":117,"../modules/web.dom.iterable":120}],29:[function(t,e,r){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),t("../../modules/es7.symbol.async-iterator"),t("../../modules/es7.symbol.observable"),e.exports=t("../../modules/_core").Symbol},{"../../modules/_core":45,"../../modules/es6.object.to-string":112,"../../modules/es6.symbol":116,"../../modules/es7.symbol.async-iterator":118,"../../modules/es7.symbol.observable":119}],30:[function(t,e,r){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),e.exports=t("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":106,"../../modules/es6.string.iterator":115,"../../modules/web.dom.iterable":120}],31:[function(t,e,r){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],32:[function(t,e,r){e.exports=function(){}},{}],33:[function(t,e,r){e.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},{}],34:[function(t,e,r){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":65}],35:[function(t,e,r){var n=t("./_for-of");e.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},{"./_for-of":55}],36:[function(t,e,r){var n=t("./_to-iobject"),o=t("./_to-length"),a=t("./_to-index");e.exports=function(t){return function(e,r,i){var s,u=n(e),c=o(u.length),f=a(i,c);if(t&&r!=r){for(;c>f;)if(s=u[f++],s!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}}},{"./_to-index":98,"./_to-iobject":100,"./_to-length":101}],37:[function(t,e,r){var n=t("./_ctx"),o=t("./_iobject"),a=t("./_to-object"),i=t("./_to-length"),s=t("./_array-species-create");e.exports=function(t,e){var r=1==t,u=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,m=e||s;return function(e,s,d){for(var p,v,y=a(e),M=o(y),b=n(s,d,3),x=i(M.length),_=0,g=r?m(e,x):u?m(e,0):void 0;x>_;_++)if((h||_ in M)&&(p=M[_],v=b(p,_,y),t))if(r)g[_]=v;else if(v)switch(t){case 3:return!0;case 5:return p;case 6:return _;case 2:g.push(p)}else if(f)return!1;return l?-1:c||f?f:g}}},{"./_array-species-create":39,"./_ctx":47,"./_iobject":62,"./_to-length":101,"./_to-object":102}],38:[function(t,e,r){var n=t("./_is-object"),o=t("./_is-array"),a=t("./_wks")("species");e.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},{"./_is-array":64,"./_is-object":65,"./_wks":107}],39:[function(t,e,r){var n=t("./_array-species-constructor");e.exports=function(t,e){return new(n(t))(e)}},{"./_array-species-constructor":38}],40:[function(t,e,r){var n=t("./_cof"),o=t("./_wks")("toStringTag"),a="Arguments"==n(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(t){}};e.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=i(e=Object(t),o))?r:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},{"./_cof":41,"./_wks":107}],41:[function(t,e,r){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],42:[function(t,e,r){"use strict";var n=t("./_object-dp").f,o=t("./_object-create"),a=(t("./_hide"),t("./_redefine-all")),i=t("./_ctx"),s=t("./_an-instance"),u=t("./_defined"),c=t("./_for-of"),f=t("./_iter-define"),l=t("./_iter-step"),h=t("./_set-species"),m=t("./_descriptors"),d=t("./_meta").fastKey,p=m?"_s":"size",v=function(t,e){var r,n=d(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};e.exports={getConstructor:function(t,e,r,f){var l=t(function(t,n){s(t,l,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=n&&c(n,r,t[f],t)});return a(l.prototype,{clear:function(){for(var t=this,e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete e[r.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var e=this,r=v(e,t);if(r){var n=r.n,o=r.p;delete e._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),e._f==r&&(e._f=n),e._l==r&&(e._l=o),e[p]--}return!!r},forEach:function(t){s(this,l,"forEach");for(var e,r=i(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),m&&n(l.prototype,"size",{get:function(){return u(this[p])}}),l},def:function(t,e,r){var n,o,a=v(t,e);return a?a.v=r:(t._l=a={i:o=d(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[p]++,"F"!==o&&(t._i[o]=a)),t},getEntry:v,setStrong:function(t,e,r){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?l(0,r.k):"values"==e?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(e)}}},{"./_an-instance":33,"./_ctx":47,"./_defined":48,"./_descriptors":49,"./_for-of":55,"./_hide":58,"./_iter-define":68,"./_iter-step":70,"./_meta":74,"./_object-create":76,"./_object-dp":77,"./_redefine-all":88,"./_set-species":91}],43:[function(t,e,r){var n=t("./_classof"),o=t("./_array-from-iterable");e.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},{"./_array-from-iterable":35,"./_classof":40}],44:[function(t,e,r){"use strict";var n=t("./_global"),o=t("./_export"),a=t("./_meta"),i=t("./_fails"),s=t("./_hide"),u=t("./_redefine-all"),c=t("./_for-of"),f=t("./_an-instance"),l=t("./_is-object"),h=t("./_set-to-string-tag"),m=t("./_object-dp").f,d=t("./_array-methods")(0),p=t("./_descriptors");e.exports=function(t,e,r,v,y,M){var b=n[t],x=b,_=y?"set":"add",g=x&&x.prototype,S={};return p&&"function"==typeof x&&(M||g.forEach&&!i(function(){(new x).entries().next()}))?(x=e(function(e,r){f(e,x,t,"_c"),e._c=new b,void 0!=r&&c(r,y,e[_],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in g&&(!M||"clear"!=t)&&s(x.prototype,t,function(r,n){if(f(this,x,t),!e&&M&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,n);return e?this:o})}),"size"in g&&m(x.prototype,"size",{get:function(){return this._c.size}})):(x=v.getConstructor(e,t,y,_),u(x.prototype,r),a.NEED=!0),h(x,t),S[t]=x,o(o.G+o.W+o.F,S),M||v.setStrong(x,t,y),x}},{"./_an-instance":33,"./_array-methods":37,"./_descriptors":49,"./_export":53,"./_fails":54,"./_for-of":55,"./_global":56,"./_hide":58,"./_is-object":65,"./_meta":74,"./_object-dp":77,"./_redefine-all":88,"./_set-to-string-tag":92}],45:[function(t,e,r){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],46:[function(t,e,r){"use strict";var n=t("./_object-dp"),o=t("./_property-desc");e.exports=function(t,e,r){e in t?n.f(t,e,o(0,r)):t[e]=r}},{"./_object-dp":77,"./_property-desc":87}],47:[function(t,e,r){var n=t("./_a-function");e.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":31}],48:[function(t,e,r){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],49:[function(t,e,r){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":54}],50:[function(t,e,r){var n=t("./_is-object"),o=t("./_global").document,a=n(o)&&n(o.createElement);e.exports=function(t){return a?o.createElement(t):{}}},{"./_global":56,"./_is-object":65}],51:[function(t,e,r){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],52:[function(t,e,r){var n=t("./_object-keys"),o=t("./_object-gops"),a=t("./_object-pie");e.exports=function(t){var e=n(t),r=o.f;if(r)for(var i,s=r(t),u=a.f,c=0;s.length>c;)u.call(t,i=s[c++])&&e.push(i);return e}},{"./_object-gops":82,"./_object-keys":85,"./_object-pie":86}],53:[function(t,e,r){var n=t("./_global"),o=t("./_core"),a=t("./_ctx"),i=t("./_hide"),s="prototype",u=function(t,e,r){var c,f,l,h=t&u.F,m=t&u.G,d=t&u.S,p=t&u.P,v=t&u.B,y=t&u.W,M=m?o:o[e]||(o[e]={}),b=M[s],x=m?n:d?n[e]:(n[e]||{})[s];m&&(r=e);for(c in r)f=!h&&x&&void 0!==x[c],f&&c in M||(l=f?x[c]:r[c],M[c]=m&&"function"!=typeof x[c]?r[c]:v&&f?a(l,n):y&&x[c]==l?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):p&&"function"==typeof l?a(Function.call,l):l,p&&((M.virtual||(M.virtual={}))[c]=l,t&u.R&&b&&!b[c]&&i(b,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},{"./_core":45,"./_ctx":47,"./_global":56,"./_hide":58}],54:[function(t,e,r){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],55:[function(t,e,r){var n=t("./_ctx"),o=t("./_iter-call"),a=t("./_is-array-iter"),i=t("./_an-object"),s=t("./_to-length"),u=t("./core.get-iterator-method"),c={},f={},r=e.exports=function(t,e,r,l,h){var m,d,p,v,y=h?function(){return t}:u(t),M=n(r,l,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(a(y)){for(m=s(t.length);m>b;b++)if(v=e?M(i(d=t[b])[0],d[1]):M(t[b]),v===c||v===f)return v}else for(p=y.call(t);!(d=p.next()).done;)if(v=o(p,M,d.value,e),v===c||v===f)return v};r.BREAK=c,r.RETURN=f},{"./_an-object":34,"./_ctx":47,"./_is-array-iter":63,"./_iter-call":66,"./_to-length":101,"./core.get-iterator-method":108}],56:[function(t,e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],57:[function(t,e,r){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],58:[function(t,e,r){var n=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},{"./_descriptors":49,"./_object-dp":77,"./_property-desc":87}],59:[function(t,e,r){e.exports=t("./_global").document&&document.documentElement},{"./_global":56}],60:[function(t,e,r){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":49,"./_dom-create":50,"./_fails":54}],61:[function(t,e,r){e.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],62:[function(t,e,r){var n=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./_cof":41}],63:[function(t,e,r){var n=t("./_iterators"),o=t("./_wks")("iterator"),a=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||a[o]===t)}},{"./_iterators":71,"./_wks":107}],64:[function(t,e,r){var n=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==n(t)}},{"./_cof":41}],65:[function(t,e,r){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],66:[function(t,e,r){var n=t("./_an-object");e.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},{"./_an-object":34}],67:[function(t,e,r){"use strict";var n=t("./_object-create"),o=t("./_property-desc"),a=t("./_set-to-string-tag"),i={};t("./_hide")(i,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,r){t.prototype=n(i,{next:o(1,r)}),a(t,e+" Iterator")}},{"./_hide":58,"./_object-create":76,"./_property-desc":87,"./_set-to-string-tag":92,"./_wks":107}],68:[function(t,e,r){"use strict";var n=t("./_library"),o=t("./_export"),a=t("./_redefine"),i=t("./_hide"),s=t("./_has"),u=t("./_iterators"),c=t("./_iter-create"),f=t("./_set-to-string-tag"),l=t("./_object-gpo"),h=t("./_wks")("iterator"),m=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",y=function(){return this};e.exports=function(t,e,r,M,b,x,_){c(r,e,M);var g,S,w,D=function(t){if(!m&&t in k)return k[t];switch(t){case p:return function(){return new r(this,t)};case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},I=e+" Iterator",F=b==v,j=!1,k=t.prototype,A=k[h]||k[d]||b&&k[b],P=A||D(b),T=b?F?D("entries"):P:void 0,C="Array"==e?k.entries||A:A;if(C&&(w=l(C.call(new t)),w!==Object.prototype&&(f(w,I,!0),n||s(w,h)||i(w,h,y))),F&&A&&A.name!==v&&(j=!0,P=function(){return A.call(this)}),n&&!_||!m&&!j&&k[h]||i(k,h,P),u[e]=P,u[I]=y,b)if(g={values:F?P:D(v),keys:x?P:D(p),entries:T},_)for(S in g)S in k||a(k,S,g[S]);else o(o.P+o.F*(m||j),e,g);return g}},{"./_export":53,"./_has":57,"./_hide":58,"./_iter-create":67,"./_iterators":71,"./_library":73,"./_object-gpo":83,"./_redefine":89,"./_set-to-string-tag":92,"./_wks":107}],69:[function(t,e,r){var n=t("./_wks")("iterator"),o=!1;try{var a=[7][n]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var a=[7],i=a[n]();i.next=function(){return{done:r=!0}},a[n]=function(){return i},t(a)}catch(t){}return r}},{"./_wks":107}],70:[function(t,e,r){e.exports=function(t,e){return{value:e,done:!!t}}},{}],71:[function(t,e,r){e.exports={}},{}],72:[function(t,e,r){var n=t("./_object-keys"),o=t("./_to-iobject");e.exports=function(t,e){for(var r,a=o(t),i=n(a),s=i.length,u=0;s>u;)if(a[r=i[u++]]===e)return r}},{"./_object-keys":85,"./_to-iobject":100}],73:[function(t,e,r){e.exports=!0},{}],74:[function(t,e,r){var n=t("./_uid")("meta"),o=t("./_is-object"),a=t("./_has"),i=t("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},c=!t("./_fails")(function(){return u(Object.preventExtensions({}))}),f=function(t){i(t,n,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[n].i},h=function(t,e){if(!a(t,n)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[n].w},m=function(t){return c&&d.NEED&&u(t)&&!a(t,n)&&f(t),t},d=e.exports={KEY:n,NEED:!1,fastKey:l,getWeak:h,onFreeze:m}},{"./_fails":54,"./_has":57,"./_is-object":65,"./_object-dp":77,"./_uid":104}],75:[function(t,e,r){var n=t("./_global"),o=t("./_task").set,a=n.MutationObserver||n.WebKitMutationObserver,i=n.process,s=n.Promise,u="process"==t("./_cof")(i);e.exports=function(){var t,e,r,c=function(){var n,o;for(u&&(n=i.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){i.nextTick(c)};else if(a){var f=!0,l=document.createTextNode("");new a(c).observe(l,{characterData:!0}),r=function(){l.data=f=!f}}else if(s&&s.resolve){var h=s.resolve();r=function(){h.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}},{"./_cof":41,"./_global":56,"./_task":97}],76:[function(t,e,r){var n=t("./_an-object"),o=t("./_object-dps"),a=t("./_enum-bug-keys"),i=t("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,r=t("./_dom-create")("iframe"),n=a.length,o=">";for(r.style.display="none",t("./_html").appendChild(r),r.src="javascript:",e=r.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+o),e.close(),c=e.F;n--;)delete c[u][a[n]];return c()};e.exports=Object.create||function(t,e){var r;return null!==t?(s[u]=n(t),r=new s,s[u]=null,r[i]=t):r=c(),void 0===e?r:o(r,e)}},{"./_an-object":34,"./_dom-create":50,"./_enum-bug-keys":51,"./_html":59,"./_object-dps":78,"./_shared-key":93}],77:[function(t,e,r){var n=t("./_an-object"),o=t("./_ie8-dom-define"),a=t("./_to-primitive"),i=Object.defineProperty;r.f=t("./_descriptors")?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),o)try{return i(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{"./_an-object":34,"./_descriptors":49,"./_ie8-dom-define":60,"./_to-primitive":103}],78:[function(t,e,r){var n=t("./_object-dp"),o=t("./_an-object"),a=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){o(t);for(var r,i=a(e),s=i.length,u=0;s>u;)n.f(t,r=i[u++],e[r]);return t}},{"./_an-object":34,"./_descriptors":49,"./_object-dp":77,"./_object-keys":85}],79:[function(t,e,r){var n=t("./_object-pie"),o=t("./_property-desc"),a=t("./_to-iobject"),i=t("./_to-primitive"),s=t("./_has"),u=t("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=t("./_descriptors")?c:function(t,e){if(t=a(t),e=i(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!n.f.call(t,e),t[e])}},{"./_descriptors":49,"./_has":57,"./_ie8-dom-define":60,"./_object-pie":86,"./_property-desc":87,"./_to-iobject":100,"./_to-primitive":103}],80:[function(t,e,r){var n=t("./_to-iobject"),o=t("./_object-gopn").f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(t){return i.slice()}};e.exports.f=function(t){return i&&"[object Window]"==a.call(t)?s(t):o(n(t))}},{"./_object-gopn":81,"./_to-iobject":100}],81:[function(t,e,r){var n=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},{"./_enum-bug-keys":51,"./_object-keys-internal":84}],82:[function(t,e,r){r.f=Object.getOwnPropertySymbols},{}],83:[function(t,e,r){var n=t("./_has"),o=t("./_to-object"),a=t("./_shared-key")("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}},{"./_has":57,"./_shared-key":93,"./_to-object":102}],84:[function(t,e,r){var n=t("./_has"),o=t("./_to-iobject"),a=t("./_array-includes")(!1),i=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var r,s=o(t),u=0,c=[];for(r in s)r!=i&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~a(c,r)||c.push(r));return c}},{"./_array-includes":36,"./_has":57,"./_shared-key":93,"./_to-iobject":100}],85:[function(t,e,r){var n=t("./_object-keys-internal"),o=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return n(t,o)}},{"./_enum-bug-keys":51,"./_object-keys-internal":84}],86:[function(t,e,r){r.f={}.propertyIsEnumerable},{}],87:[function(t,e,r){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],88:[function(t,e,r){var n=t("./_hide");e.exports=function(t,e,r){for(var o in e)r&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},{"./_hide":58}],89:[function(t,e,r){e.exports=t("./_hide")},{"./_hide":58}],90:[function(t,e,r){var n=t("./_is-object"),o=t("./_an-object"),a=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function(t,e){return a(t,e),r?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:a}},{"./_an-object":34,"./_ctx":47,"./_is-object":65,"./_object-gopd":79}],91:[function(t,e,r){"use strict";var n=t("./_global"),o=t("./_core"),a=t("./_object-dp"),i=t("./_descriptors"),s=t("./_wks")("species");e.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];i&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},{"./_core":45,"./_descriptors":49,"./_global":56,"./_object-dp":77,"./_wks":107}],92:[function(t,e,r){var n=t("./_object-dp").f,o=t("./_has"),a=t("./_wks")("toStringTag");e.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},{"./_has":57,"./_object-dp":77,"./_wks":107}],93:[function(t,e,r){var n=t("./_shared")("keys"),o=t("./_uid");e.exports=function(t){return n[t]||(n[t]=o(t))}},{"./_shared":94,"./_uid":104}],94:[function(t,e,r){var n=t("./_global"),o="__core-js_shared__",a=n[o]||(n[o]={});e.exports=function(t){return a[t]||(a[t]={})}},{"./_global":56}],95:[function(t,e,r){var n=t("./_an-object"),o=t("./_a-function"),a=t("./_wks")("species");e.exports=function(t,e){var r,i=n(t).constructor;return void 0===i||void 0==(r=n(i)[a])?e:o(r)}},{"./_a-function":31,"./_an-object":34,"./_wks":107}],96:[function(t,e,r){var n=t("./_to-integer"),o=t("./_defined");e.exports=function(t){return function(e,r){var a,i,s=String(o(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(i=s.charCodeAt(u+1))<56320||i>57343?t?s.charAt(u):a:t?s.slice(u,u+2):(a-55296<<10)+(i-56320)+65536)}}},{"./_defined":48,"./_to-integer":99}],97:[function(t,e,r){var n,o,a,i=t("./_ctx"),s=t("./_invoke"),u=t("./_html"),c=t("./_dom-create"),f=t("./_global"),l=f.process,h=f.setImmediate,m=f.clearImmediate,d=f.MessageChannel,p=0,v={},y="onreadystatechange",M=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){M.call(t.data)};h&&m||(h=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++p]=function(){s("function"==typeof t?t:Function(t),e)},n(p),p},m=function(t){delete v[t]},"process"==t("./_cof")(l)?n=function(t){l.nextTick(i(M,t,1))}:d?(o=new d,a=o.port2,o.port1.onmessage=b,n=i(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(t){f.postMessage(t+"","*")},f.addEventListener("message",b,!1)):n=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),M.call(t)}}:function(t){setTimeout(i(M,t,1),0)}),e.exports={set:h,clear:m}},{"./_cof":41,"./_ctx":47,"./_dom-create":50,"./_global":56,"./_html":59,"./_invoke":61}],98:[function(t,e,r){var n=t("./_to-integer"),o=Math.max,a=Math.min;e.exports=function(t,e){return t=n(t),t<0?o(t+e,0):a(t,e)}},{"./_to-integer":99}],99:[function(t,e,r){var n=Math.ceil,o=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},{}],100:[function(t,e,r){var n=t("./_iobject"),o=t("./_defined");e.exports=function(t){return n(o(t))}},{"./_defined":48,"./_iobject":62}],101:[function(t,e,r){var n=t("./_to-integer"),o=Math.min;e.exports=function(t){return t>0?o(n(t),9007199254740991):0}},{"./_to-integer":99}],102:[function(t,e,r){var n=t("./_defined");e.exports=function(t){return Object(n(t))}},{"./_defined":48}],103:[function(t,e,r){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":65}],104:[function(t,e,r){var n=0,o=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},{}],105:[function(t,e,r){var n=t("./_global"),o=t("./_core"),a=t("./_library"),i=t("./_wks-ext"),s=t("./_object-dp").f;e.exports=function(t){var e=o.Symbol||(o.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:i.f(t)})}},{"./_core":45,"./_global":56,"./_library":73,"./_object-dp":77,"./_wks-ext":106}],106:[function(t,e,r){r.f=t("./_wks")},{"./_wks":107}],107:[function(t,e,r){var n=t("./_shared")("wks"),o=t("./_uid"),a=t("./_global").Symbol,i="function"==typeof a,s=e.exports=function(t){return n[t]||(n[t]=i&&a[t]||(i?a:o)("Symbol."+t))};s.store=n},{"./_global":56,"./_shared":94,"./_uid":104}],108:[function(t,e,r){var n=t("./_classof"),o=t("./_wks")("iterator"),a=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||a[n(t)]}},{"./_classof":40,"./_core":45,"./_iterators":71,"./_wks":107}],109:[function(t,e,r){"use strict";var n=t("./_ctx"),o=t("./_export"),a=t("./_to-object"),i=t("./_iter-call"),s=t("./_is-array-iter"),u=t("./_to-length"),c=t("./_create-property"),f=t("./core.get-iterator-method");o(o.S+o.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,o,l,h=a(t),m="function"==typeof this?this:Array,d=arguments.length,p=d>1?arguments[1]:void 0,v=void 0!==p,y=0,M=f(h);if(v&&(p=n(p,d>2?arguments[2]:void 0,2)),void 0==M||m==Array&&s(M))for(e=u(h.length),r=new m(e);e>y;y++)c(r,y,v?p(h[y],y):h[y]);else for(l=M.call(h),r=new m;!(o=l.next()).done;y++)c(r,y,v?i(l,p,[o.value,y],!0):o.value);return r.length=y,r}})},{"./_create-property":46,"./_ctx":47,"./_export":53,"./_is-array-iter":63,"./_iter-call":66,"./_iter-detect":69,"./_to-length":101,"./_to-object":102,"./core.get-iterator-method":108}],110:[function(t,e,r){"use strict";var n=t("./_add-to-unscopables"),o=t("./_iter-step"),a=t("./_iterators"),i=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,r):"values"==e?o(0,t[r]):o(0,[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":32,"./_iter-define":68,"./_iter-step":70,"./_iterators":71,"./_to-iobject":100}],111:[function(t,e,r){var n=t("./_export");n(n.S+n.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":49,"./_export":53,"./_object-dp":77}],112:[function(t,e,r){},{}],113:[function(t,e,r){"use strict";var n,o,a,i=t("./_library"),s=t("./_global"),u=t("./_ctx"),c=t("./_classof"),f=t("./_export"),l=t("./_is-object"),h=(t("./_an-object"),t("./_a-function")),m=t("./_an-instance"),d=t("./_for-of"),p=(t("./_set-proto").set,t("./_species-constructor")),v=t("./_task").set,y=t("./_microtask")(),M="Promise",b=s.TypeError,x=s.process,_=s[M],x=s.process,g="process"==c(x),S=function(){},w=!!function(){try{var e=_.resolve(1),r=(e.constructor={})[t("./_wks")("species")]=function(t){t(S,S)};return(g||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof r}catch(t){}}(),D=function(t,e){return t===e||t===_&&e===a},I=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},F=function(t){return D(_,t)?new j(t):new o(t)},j=o=function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw b("Bad Promise constructor");e=t,r=n}),this.resolve=h(e),this.reject=h(r)},k=function(t){try{t()}catch(t){return{error:t}}},A=function(t,e){if(!t._n){t._n=!0;var r=t._c;y(function(){for(var n=t._v,o=1==t._s,a=0,i=function(e){var r,a,i=o?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{i?(o||(2==t._h&&C(t),t._h=1),i===!0?r=n:(c&&c.enter(),r=i(n),c&&c.exit()),r===e.promise?u(b("Promise-chain cycle")):(a=I(r))?a.call(r,s,u):s(r)):u(n)}catch(t){u(t)}};r.length>a;)i(r[a++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){v.call(s,function(){var e,r,n,o=t._v;if(T(t)&&(e=k(function(){g?x.emit("unhandledRejection",o,t):(r=s.onunhandledrejection)?r({promise:t,reason:o}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=g||T(t)?2:1),t._a=void 0,e)throw e.error})},T=function(t){if(1==t._h)return!1;for(var e,r=t._a||t._c,n=0;r.length>n;)if(e=r[n++],e.fail||!T(e.promise))return!1;return!0},C=function(t){v.call(s,function(){var e;g?x.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},O=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},E=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw b("Promise can't be resolved itself");(e=I(t))?y(function(){var n={_w:r,_d:!1};try{e.call(t,u(E,n,1),u(O,n,1))}catch(t){O.call(n,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){O.call({_w:r,_d:!1},t)}}};w||(_=function(t){m(this,_,M,"_h"),h(t),n.call(this);try{t(u(E,this,1),u(O,this,1))}catch(t){O.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=t("./_redefine-all")(_.prototype,{then:function(t,e){var r=F(p(this,_));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=g?x.domain:void 0,
this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),j=function(){var t=new n;this.promise=t,this.resolve=u(E,t,1),this.reject=u(O,t,1)}),f(f.G+f.W+f.F*!w,{Promise:_}),t("./_set-to-string-tag")(_,M),t("./_set-species")(M),a=t("./_core")[M],f(f.S+f.F*!w,M,{reject:function(t){var e=F(this),r=e.reject;return r(t),e.promise}}),f(f.S+f.F*(i||!w),M,{resolve:function(t){if(t instanceof _&&D(t.constructor,this))return t;var e=F(this),r=e.resolve;return r(t),e.promise}}),f(f.S+f.F*!(w&&t("./_iter-detect")(function(t){_.all(t).catch(S)})),M,{all:function(t){var e=this,r=F(e),n=r.resolve,o=r.reject,a=k(function(){var r=[],a=0,i=1;d(t,!1,function(t){var s=a++,u=!1;r.push(void 0),i++,e.resolve(t).then(function(t){u||(u=!0,r[s]=t,--i||n(r))},o)}),--i||n(r)});return a&&o(a.error),r.promise},race:function(t){var e=this,r=F(e),n=r.reject,o=k(function(){d(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./_a-function":31,"./_an-instance":33,"./_an-object":34,"./_classof":40,"./_core":45,"./_ctx":47,"./_export":53,"./_for-of":55,"./_global":56,"./_is-object":65,"./_iter-detect":69,"./_library":73,"./_microtask":75,"./_redefine-all":88,"./_set-proto":90,"./_set-species":91,"./_set-to-string-tag":92,"./_species-constructor":95,"./_task":97,"./_wks":107}],114:[function(t,e,r){"use strict";var n=t("./_collection-strong");e.exports=t("./_collection")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},{"./_collection":44,"./_collection-strong":42}],115:[function(t,e,r){"use strict";var n=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":68,"./_string-at":96}],116:[function(t,e,r){"use strict";var n=t("./_global"),o=t("./_has"),a=t("./_descriptors"),i=t("./_export"),s=t("./_redefine"),u=t("./_meta").KEY,c=t("./_fails"),f=t("./_shared"),l=t("./_set-to-string-tag"),h=t("./_uid"),m=t("./_wks"),d=t("./_wks-ext"),p=t("./_wks-define"),v=t("./_keyof"),y=t("./_enum-keys"),M=t("./_is-array"),b=t("./_an-object"),x=t("./_to-iobject"),_=t("./_to-primitive"),g=t("./_property-desc"),S=t("./_object-create"),w=t("./_object-gopn-ext"),D=t("./_object-gopd"),I=t("./_object-dp"),F=t("./_object-keys"),j=D.f,k=I.f,A=w.f,P=n.Symbol,T=n.JSON,C=T&&T.stringify,O="prototype",E=m("_hidden"),R=m("toPrimitive"),z={}.propertyIsEnumerable,q=f("symbol-registry"),L=f("symbols"),N=f("op-symbols"),B=Object[O],V="function"==typeof P,U=n.QObject,Y=!U||!U[O]||!U[O].findChild,G=a&&c(function(){return 7!=S(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=j(B,e);n&&delete B[e],k(t,e,r),n&&t!==B&&k(B,e,n)}:k,H=function(t){var e=L[t]=S(P[O]);return e._k=t,e},X=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Q=function(t,e,r){return t===B&&Q(N,e,r),b(t),e=_(e,!0),b(r),o(L,e)?(r.enumerable?(o(t,E)&&t[E][e]&&(t[E][e]=!1),r=S(r,{enumerable:g(0,!1)})):(o(t,E)||k(t,E,g(1,{})),t[E][e]=!0),G(t,e,r)):k(t,e,r)},Z=function(t,e){b(t);for(var r,n=y(e=x(e)),o=0,a=n.length;a>o;)Q(t,r=n[o++],e[r]);return t},K=function(t,e){return void 0===e?S(t):Z(S(t),e)},J=function(t){var e=z.call(this,t=_(t,!0));return!(this===B&&o(L,t)&&!o(N,t))&&(!(e||!o(this,t)||!o(L,t)||o(this,E)&&this[E][t])||e)},W=function(t,e){if(t=x(t),e=_(e,!0),t!==B||!o(L,e)||o(N,e)){var r=j(t,e);return!r||!o(L,e)||o(t,E)&&t[E][e]||(r.enumerable=!0),r}},$=function(t){for(var e,r=A(x(t)),n=[],a=0;r.length>a;)o(L,e=r[a++])||e==E||e==u||n.push(e);return n},tt=function(t){for(var e,r=t===B,n=A(r?N:x(t)),a=[],i=0;n.length>i;)!o(L,e=n[i++])||r&&!o(B,e)||a.push(L[e]);return a};V||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(r){this===B&&e.call(N,r),o(this,E)&&o(this[E],t)&&(this[E][t]=!1),G(this,t,g(1,r))};return a&&Y&&G(B,t,{configurable:!0,set:e}),H(t)},s(P[O],"toString",function(){return this._k}),D.f=W,I.f=Q,t("./_object-gopn").f=w.f=$,t("./_object-pie").f=J,t("./_object-gops").f=tt,a&&!t("./_library")&&s(B,"propertyIsEnumerable",J,!0),d.f=function(t){return H(m(t))}),i(i.G+i.W+i.F*!V,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)m(et[rt++]);for(var et=F(m.store),rt=0;et.length>rt;)p(et[rt++]);i(i.S+i.F*!V,"Symbol",{for:function(t){return o(q,t+="")?q[t]:q[t]=P(t)},keyFor:function(t){if(X(t))return v(q,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),i(i.S+i.F*!V,"Object",{create:K,defineProperty:Q,defineProperties:Z,getOwnPropertyDescriptor:W,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),T&&i(i.S+i.F*(!V||c(function(){var t=P();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!X(t)){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);return e=n[1],"function"==typeof e&&(r=e),!r&&M(e)||(e=function(t,e){if(r&&(e=r.call(this,t,e)),!X(e))return e}),n[1]=e,C.apply(T,n)}}}),P[O][R]||t("./_hide")(P[O],R,P[O].valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},{"./_an-object":34,"./_descriptors":49,"./_enum-keys":52,"./_export":53,"./_fails":54,"./_global":56,"./_has":57,"./_hide":58,"./_is-array":64,"./_keyof":72,"./_library":73,"./_meta":74,"./_object-create":76,"./_object-dp":77,"./_object-gopd":79,"./_object-gopn":81,"./_object-gopn-ext":80,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_property-desc":87,"./_redefine":89,"./_set-to-string-tag":92,"./_shared":94,"./_to-iobject":100,"./_to-primitive":103,"./_uid":104,"./_wks":107,"./_wks-define":105,"./_wks-ext":106}],117:[function(t,e,r){var n=t("./_export");n(n.P+n.R,"Set",{toJSON:t("./_collection-to-json")("Set")})},{"./_collection-to-json":43,"./_export":53}],118:[function(t,e,r){t("./_wks-define")("asyncIterator")},{"./_wks-define":105}],119:[function(t,e,r){t("./_wks-define")("observable")},{"./_wks-define":105}],120:[function(t,e,r){t("./es6.array.iterator");for(var n=t("./_global"),o=t("./_hide"),a=t("./_iterators"),i=t("./_wks")("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],f=n[c],l=f&&f.prototype;l&&!l[i]&&o(l,i,c),a[c]=a.Array}},{"./_global":56,"./_hide":58,"./_iterators":71,"./_wks":107,"./es6.array.iterator":110}],121:[function(t,e,r){(function(t){"use strict";if(t.AnalyserNode&&!t.AnalyserNode.prototype.getFloatTimeDomainData){var e=new Uint8Array(2048);t.AnalyserNode.prototype.getFloatTimeDomainData=function(t){this.getByteTimeDomainData(e);for(var r=0,n=t.length;r<n;r++)t[r]=.0078125*(e[r]-128)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],122:[function(require,module,exports){(function(global){"use strict";var numeric="undefined"==typeof exports?function(){}:exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var r,n,o,a;for("undefined"==typeof e&&(e=15),o=.5,r=new Date;;){for(o*=2,a=o;a>3;a-=4)t(),t(),t(),t();for(;a>0;)t(),a--;if(n=new Date,n-r>e)break}for(a=o;a>3;a-=4)t(),t(),t(),t();for(;a>0;)t(),a--;return n=new Date,1e3*(3*o-1)/(n-r)},numeric._myIndexOf=function(t){var e,r=this.length;for(e=0;e<r;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var r=Math.floor(Math.log(t)/Math.log(10)),n=t/Math.pow(10,r),o=n.toPrecision(numeric.precision);return 10===parseFloat(o)&&(r++,n=1,o=n.toPrecision(numeric.precision)),parseFloat(o).toString()+"e"+r.toString()}return"Infinity"}function r(t){var o;if("undefined"==typeof t)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return n.push('"'+t+'"'),!1;if("boolean"==typeof t)return n.push(t.toString()),!1;if("number"==typeof t){var a=e(t),i=t.toPrecision(numeric.precision),s=parseFloat(t.toString()).toString(),u=[a,i,s,parseFloat(i).toString(),parseFloat(s).toString()];for(o=1;o<u.length;o++)u[o].length<a.length&&(a=u[o]);return n.push(Array(numeric.precision+8-a.length).join(" ")+a),!1}if(null===t)return n.push("null"),!1;if("function"==typeof t){n.push(t.toString());var c=!1;for(o in t)t.hasOwnProperty(o)&&(c?n.push(",\n"):n.push("\n{"),c=!0,n.push(o),n.push(": \n"),r(t[o]));return c&&n.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return n.push("...Large Array..."),!0;var c=!1;for(n.push("["),o=0;o<t.length;o++)o>0&&(n.push(","),c&&n.push("\n ")),c=r(t[o]);return n.push("]"),!0}n.push("{");var c=!1;for(o in t)t.hasOwnProperty(o)&&(c&&n.push(",\n"),c=!0,n.push(o),n.push(": \n"),r(t[o]));return n.push("}"),!0}var n=[];return r(t),n.join("")},numeric.parseDate=function(t){function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var r,n=[];for(r=0;r<t.length;r++)n[r]=e(t[r]);return n}return e(t)},numeric.parseFloat=function(t){function e(t){if("string"==typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var r,n=[];for(r=0;r<t.length;r++)n[r]=e(t[r]);return n}return e(t)},numeric.parseCSV=function(t){var e,r,n=t.split("\n"),o=[],a=/(([^'",]*)|('[^']*')|("[^"]*")),/g,i=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(t){return t.substr(0,t.length-1)},u=0;for(r=0;r<n.length;r++){var c,f=(n[r]+",").match(a);if(f.length>0){for(o[u]=[],e=0;e<f.length;e++)c=s(f[e]),i.test(c)?o[u][e]=parseFloat(c):o[u][e]=c;u++}}return o},numeric.toCSV=function(t){var e,r,n,o,a,i,s=numeric.dim(t);for(n=s[0],o=s[1],i=[],e=0;e<n;e++){for(a=[],r=0;r<n;r++)a[r]=t[e][r].toString();i[e]=a.join(", ")}return i.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t){var e,r,n,o,a,i,s,u,c=t.length,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";for(e=0;e<c;e+=3)r=t[e],n=t[e+1],o=t[e+2],a=r>>2,i=((3&r)<<4)+(n>>4),s=((15&n)<<2)+(o>>6),u=63&o,e+1>=c?s=u=64:e+2>=c&&(u=64),l+=f.charAt(a)+f.charAt(i)+f.charAt(s)+f.charAt(u);return l}function r(t,e,r){"undefined"==typeof e&&(e=0),"undefined"==typeof r&&(r=t.length);var n,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=-1,i=0;t.length;for(n=e;n<r;n++)i=255&(a^t[n]),a=a>>>8^o[i];return a^-1}var n,o,a,i,s,u,c,f,l,h,m=t[0].length,d=t[0][0].length,p=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,d>>24&255,d>>16&255,d>>8&255,255&d,m>>24&255,m>>16&255,m>>8&255,255&m,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=r(p,12,29),p[29]=h>>24&255,p[30]=h>>16&255,p[31]=h>>8&255,p[32]=255&h,n=1,o=0,c=0;c<m;c++){for(c<m-1?p.push(0):p.push(1),s=3*d+1+(0===c)&255,u=3*d+1+(0===c)>>8&255,p.push(s),p.push(u),p.push(255&~s),p.push(255&~u),0===c&&p.push(0),f=0;f<d;f++)for(a=0;a<3;a++)s=t[a][c][f],s=s>255?255:s<0?0:Math.round(s),n=(n+s)%65521,o=(o+n)%65521,p.push(s);p.push(0)}return l=(o<<16)+n,p.push(l>>24&255),p.push(l>>16&255),p.push(l>>8&255),p.push(255&l),i=p.length-41,p[33]=i>>24&255,p[34]=i>>16&255,p[35]=i>>8&255,p[36]=255&i,h=r(p,37),p.push(h>>24&255),p.push(h>>16&255),p.push(h>>8&255),p.push(255&h),p.push(0),p.push(0),p.push(0),p.push(0),p.push(73),p.push(69),p.push(78),p.push(68),p.push(174),p.push(66),p.push(96),p.push(130),"data:image/png;base64,"+e(p)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e,r;return"object"==typeof t?(e=t[0],"object"==typeof e?(r=e[0],"object"==typeof r?numeric._dim(t):[t.length,e.length]):[t.length]):[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,r){var n,o;if(!(e instanceof Array&&r instanceof Array))return!1;if(o=e.length,o!==r.length)return!1;for(n=0;n<o;n++)if(e[n]!==r[n]){if("object"!=typeof e[n])return!1;if(!t(e[n],r[n]))return!1}return!0},numeric.rep=function(t,e,r){"undefined"==typeof r&&(r=0);var n,o=t[r],a=Array(o);if(r===t.length-1){for(n=o-2;n>=0;n-=2)a[n+1]=e,a[n]=e;return n===-1&&(a[0]=e),a}for(n=o-1;n>=0;n--)a[n]=numeric.rep(t,e,r+1);return a},numeric.dotMMsmall=function(t,e){var r,n,o,a,i,s,u,c,f,l,h;for(a=t.length,i=e.length,s=e[0].length,u=Array(a),r=a-1;r>=0;r--){for(c=Array(s),f=t[r],o=s-1;o>=0;o--){for(l=f[i-1]*e[i-1][o],n=i-2;n>=1;n-=2)h=n-1,l+=f[n]*e[n][o]+f[h]*e[h][o];0===n&&(l+=f[0]*e[0][o]),c[o]=l}u[r]=c}return u},numeric._getCol=function(t,e,r){var n,o=t.length;for(n=o-1;n>0;--n)r[n]=t[n][e],--n,r[n]=t[n][e];0===n&&(r[0]=t[0][e])},numeric.dotMMbig=function(t,e){var r,n,o,a,i=numeric._getCol,s=e.length,u=Array(s),c=t.length,f=e[0].length,l=new Array(c),h=numeric.dotVV;for(--s,--c,n=c;n!==-1;--n)l[n]=Array(f);for(--f,n=f;n!==-1;--n)for(i(e,n,u),o=c;o!==-1;--o)a=0,r=t[o],l[o][n]=h(r,u);return l},numeric.dotMV=function(t,e){var r,n=t.length,o=(e.length,Array(n)),a=numeric.dotVV;for(r=n-1;r>=0;r--)o[r]=a(t[r],e);return o},numeric.dotVM=function(t,e){var r,n,o,a,i,s,u;for(o=t.length,a=e[0].length,i=Array(a),n=a-1;n>=0;n--){for(s=t[o-1]*e[o-1][n],r=o-2;r>=1;r-=2)u=r-1,s+=t[r]*e[r][n]+t[u]*e[u][n];0===r&&(s+=t[0]*e[0][n]),i[n]=s}return i},numeric.dotVV=function(t,e){var r,n,o=t.length,a=t[o-1]*e[o-1];for(r=o-2;r>=1;r-=2)n=r-1,a+=t[r]*e[r]+t[n]*e[n];return 0===r&&(a+=t[0]*e[0]),a},numeric.dot=function(t,e){var r=numeric.dim;switch(1e3*r(t).length+r(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,r,n,o,a=t.length,i=Array(a);for(e=a-1;e>=0;e--){for(o=Array(a),r=e+2,n=a-1;n>=r;n-=2)o[n]=0,o[n-1]=0;for(n>e&&(o[n]=0),o[e]=t[e],n=e-1;n>=1;n-=2)o[n]=0,o[n-1]=0;0===n&&(o[0]=0),i[e]=o}return i},numeric.getDiag=function(t){var e,r=Math.min(t.length,t[0].length),n=Array(r);for(e=r-1;e>=1;--e)n[e]=t[e][e],--e,n[e]=t[e][e];return 0===e&&(n[0]=t[0][0]),n},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,r){"undefined"==typeof r&&(r="");var n,o,a=[],i=/\[i\]$/,s="",u=!1;for(n=0;n<t.length;n++)i.test(t[n])?(o=t[n].substring(0,t[n].length-3),s=o):o=t[n],"ret"===o&&(u=!0),a.push(o);return a[t.length]="_s",a[t.length+1]="_k",a[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,a)},numeric.pointwise2=function(t,e,r){"undefined"==typeof r&&(r="");var n,o,a=[],i=/\[i\]$/,s="",u=!1;for(n=0;n<t.length;n++)i.test(t[n])?(o=t[n].substring(0,t[n].length-3),s=o):o=t[n],"ret"===o&&(u=!0),a.push(o);return a[t.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,a)},numeric._biforeach=function t(e,r,n,o,a){if(o===n.length-1)return void a(e,r);var i,s=n[o];for(i=s-1;i>=0;i--)t("object"==typeof e?e[i]:e,"object"==typeof r?r[i]:r,n,o+1,a)},numeric._biforeach2=function t(e,r,n,o,a){if(o===n.length-1)return a(e,r);var i,s=n[o],u=Array(s);for(i=s-1;i>=0;--i)u[i]=t("object"==typeof e?e[i]:e,"object"==typeof r?r[i]:r,n,o+1,a);return u},numeric._foreach=function t(e,r,n,o){if(n===r.length-1)return void o(e);var a,i=r[n];for(a=i-1;a>=0;a--)t(e[a],r,n+1,o)},numeric._foreach2=function t(e,r,n,o){if(n===r.length-1)return o(e);var a,i=r[n],s=Array(i);for(a=i-1;a>=0;a--)s[a]=t(e[a],r,n+1,o);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var r,n,o="";numeric.myIndexOf.call(numeric.mathfuns2,t)!==-1?(o="var "+e+" = Math."+e+";\n",r=function(t,r,n){return t+" = "+e+"("+r+","+n+")"},n=function(t,r){return t+" = "+e+"("+t+","+r+")"}):(r=function(t,r,n){return t+" = "+r+" "+e+" "+n},n=numeric.opseq.hasOwnProperty(t+"eq")?function(t,r){return t+" "+e+"= "+r}:function(t,r){return t+" = "+t+" "+e+" "+r}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),o),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),o),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),o),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),o),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),o),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(o="",e=numeric.ops1[t],numeric.myIndexOf.call(numeric.mathfuns,t)!==-1&&Math.hasOwnProperty(e)&&(o="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",o),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",o),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,r,n,o,a,i,s,t,u=numeric.dim(t),c=Math.abs,f=u[0],l=u[1],h=numeric.clone(t),m=numeric.identity(f);for(i=0;i<l;++i){var d=-1,p=-1;for(a=i;a!==f;++a)s=c(h[a][i]),s>p&&(d=a,p=s);for(r=h[d],h[d]=h[i],h[i]=r,o=m[d],m[d]=m[i],m[i]=o,t=r[i],s=i;s!==l;++s)r[s]/=t;for(s=l-1;s!==-1;--s)o[s]/=t;for(a=f-1;a!==-1;--a)if(a!==i){for(e=h[a],n=m[a],t=e[i],s=i+1;s!==l;++s)e[s]-=r[s]*t;for(s=l-1;s>0;--s)n[s]-=o[s]*t,--s,n[s]-=o[s]*t;0===s&&(n[0]-=o[0]*t)}}return m},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var r,n,o,a,i,s,u,c,f=e[0],l=1,h=numeric.clone(t);for(n=0;n<f-1;n++){for(o=n,r=n+1;r<f;r++)Math.abs(h[r][n])>Math.abs(h[o][n])&&(o=r);for(o!==n&&(u=h[o],h[o]=h[n],h[n]=u,l*=-1),a=h[n],r=n+1;r<f;r++){for(i=h[r],s=i[n]/a[n],o=n+1;o<f-1;o+=2)c=o+1,i[o]-=a[o]*s,i[c]-=a[c]*s;o!==f&&(i[o]-=a[o]*s)}if(0===a[n])return 0;l*=a[n]}return l*h[n][n]},numeric.transpose=function(t){var e,r,n,o,a,i=t.length,s=t[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(i);for(e=i-1;e>=1;e-=2){for(o=t[e],n=t[e-1],r=s-1;r>=1;--r)a=u[r],a[e]=o[r],a[e-1]=n[r],--r,a=u[r],a[e]=o[r],a[e-1]=n[r];0===r&&(a=u[0],a[e]=o[0],a[e-1]=n[0])}if(0===e){for(n=t[0],r=s-1;r>=1;--r)u[r][0]=n[r],--r,u[r][0]=n[r];0===r&&(u[0][0]=n[0])}return u},numeric.negtranspose=function(t){var e,r,n,o,a,i=t.length,s=t[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(i);for(e=i-1;e>=1;e-=2){for(o=t[e],n=t[e-1],r=s-1;r>=1;--r)a=u[r],a[e]=-o[r],a[e-1]=-n[r],--r,a=u[r],a[e]=-o[r],a[e-1]=-n[r];0===r&&(a=u[0],a[e]=-o[0],a[e-1]=-n[0])}if(0===e){for(n=t[0],r=s-1;r>=1;--r)u[r][0]=-n[r],--r,u[r][0]=-n[r];0===r&&(u[0][0]=-n[0])}return u},numeric._random=function t(e,r){var n,o,a=e[r],i=Array(a);if(r===e.length-1){for(o=Math.random,n=a-1;n>=1;n-=2)i[n]=o(),i[n-1]=o();return 0===n&&(i[0]=o()),i}for(n=a-1;n>=0;n--)i[n]=t(e,r+1);return i},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,r){if("undefined"==typeof r&&(r=Math.max(Math.round(e-t)+1,1)),r<2)return 1===r?[t]:[];var n,o=Array(r);for(r--,n=r;n>=0;n--)o[n]=(n*e+(r-n)*t)/r;return o},numeric.getBlock=function(t,e,r){function n(t,a){var i,s=e[a],u=r[a]-s,c=Array(u);if(a===o.length-1){for(i=u;i>=0;i--)c[i]=t[i+s];return c}for(i=u;i>=0;i--)c[i]=n(t[i+s],a+1);return c}var o=numeric.dim(t);return n(t,0)},numeric.setBlock=function(t,e,r,n){function o(t,n,i){var s,u=e[i],c=r[i]-u;if(i===a.length-1)for(s=c;s>=0;s--)t[s+u]=n[s];for(s=c;s>=0;s--)o(t[s+u],n[s],i+1)}var a=numeric.dim(t);return o(t,n,0),t},numeric.getRange=function(t,e,r){var n,o,a,i,s=e.length,u=r.length,c=Array(s);for(n=s-1;n!==-1;--n)for(c[n]=Array(u),a=c[n],i=t[e[n]],o=u-1;o!==-1;--o)a[o]=i[r[o]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var r,n,o,a,i,s=e[0],u=e[1];for(r=0,n=0,o=0;o<s;++o)r+=t[o][0].length;for(a=0;a<u;++a)n+=t[0][a][0].length;var c=Array(r);for(o=0;o<r;++o)c[o]=Array(n);var f,l,h,m,d,p=0;for(o=0;o<s;++o){for(f=n,a=u-1;a!==-1;--a)for(i=t[o][a],f-=i[0].length,h=i.length-1;h!==-1;--h)for(d=i[h],l=c[p+h],m=d.length-1;m!==-1;--m)l[f+m]=d[m];p+=t[o][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var r=numeric.dim(t),n=numeric.dim(e);if(1!==r.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var o,a,i,s,u=r[0],c=n[0],f=Array(u);for(a=u-1;a>=0;a--){for(o=Array(c),s=t[a],i=c-1;i>=3;--i)o[i]=s*e[i],--i,o[i]=s*e[i],--i,o[i]=s*e[i],--i,o[i]=s*e[i];for(;i>=0;)o[i]=s*e[i],--i;f[a]=o}return f},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,r,n,o){numeric.indexOf;if("string"!=typeof o){var a;o="";for(a in numeric)numeric.hasOwnProperty(a)&&(t.indexOf(a)>=0||e.indexOf(a)>=0||r.indexOf(a)>=0||n.indexOf(a)>=0)&&a.length>1&&(o+="var "+a+" = numeric."+a+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+o+"\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\n  }\n  return new numeric.T("+r+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,r),e(numeric.neg(this.y),r))}return new T(e(1,this.x))},numeric.T.prototype.div=function t(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var t=numeric.div;return this.y?new numeric.T(t(this.x,e.x),t(this.y,e.x)):new numeric.T(t(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,r=this.y;return r?new numeric.T(t(e),t(r)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,r=this.y;return r?new numeric.T(t(e),numeric.negtranspose(r)):new numeric.T(t(e))},numeric.Tunop=function(t,e,r){return"string"!=typeof r&&(r=""),Function("var x = this;\n"+r+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if("undefined"==typeof t.y)return new numeric.T(numeric.inv(t.x));var e,r,n,o,a,i,s,u,c,f,l,e,r,n,h,m,d,p,v,y,M,b=t.x.length,x=numeric.identity(b),_=numeric.rep([b,b],0),g=numeric.clone(t.x),S=numeric.clone(t.y);for(e=0;e<b;e++){for(d=g[e][e],p=S[e][e],h=d*d+p*p,n=e,r=e+1;r<b;r++)d=g[r][e],p=S[r][e],m=d*d+p*p,m>h&&(n=r,h=m);for(n!==e&&(M=g[e],g[e]=g[n],g[n]=M,M=S[e],S[e]=S[n],S[n]=M,M=x[e],
x[e]=x[n],x[n]=M,M=_[e],_[e]=_[n],_[n]=M),o=g[e],a=S[e],u=x[e],c=_[e],d=o[e],p=a[e],r=e+1;r<b;r++)v=o[r],y=a[r],o[r]=(v*d+y*p)/h,a[r]=(y*d-v*p)/h;for(r=0;r<b;r++)v=u[r],y=c[r],u[r]=(v*d+y*p)/h,c[r]=(y*d-v*p)/h;for(r=e+1;r<b;r++){for(i=g[r],s=S[r],f=x[r],l=_[r],d=i[e],p=s[e],n=e+1;n<b;n++)v=o[n],y=a[n],i[n]-=v*d-y*p,s[n]-=y*d+v*p;for(n=0;n<b;n++)v=u[n],y=c[n],f[n]-=v*d-y*p,l[n]-=y*d+v*p}}for(e=b-1;e>0;e--)for(u=x[e],c=_[e],r=e-1;r>=0;r--)for(f=x[r],l=_[r],d=g[r][e],p=S[r][e],n=b-1;n>=0;n--)v=u[n],y=c[n],f[n]-=d*v-p*y,l[n]-=d*y+p*v;return new numeric.T(x,_)},numeric.T.prototype.get=function(t){var e,r=this.x,n=this.y,o=0,a=t.length;if(n){for(;o<a;)e=t[o],r=r[e],n=n[e],o++;return new numeric.T(r,n)}for(;o<a;)e=t[o],r=r[e],o++;return new numeric.T(r)},numeric.T.prototype.set=function(t,e){var r,n=this.x,o=this.y,a=0,i=t.length,s=e.x,u=e.y;if(0===i)return u?this.y=u:o&&(this.y=void 0),this.x=n,this;if(u){for(o||(o=numeric.rep(numeric.dim(n),0),this.y=o);a<i-1;)r=t[a],n=n[r],o=o[r],a++;return r=t[a],n[r]=s,o[r]=u,this}if(o){for(;a<i-1;)r=t[a],n=n[r],o=o[r],a++;return r=t[a],n[r]=s,s instanceof Array?o[r]=numeric.rep(numeric.dim(s),0):o[r]=0,this}for(;a<i-1;)r=t[a],n=n[r],a++;return r=t[a],n[r]=s,this},numeric.T.prototype.getRows=function(t,e){var r,n,o=e-t+1,a=Array(o),i=this.x,s=this.y;for(r=t;r<=e;r++)a[r-t]=i[r];if(s){for(n=Array(o),r=t;r<=e;r++)n[r-t]=s[r];return new numeric.T(a,n)}return new numeric.T(a)},numeric.T.prototype.setRows=function(t,e,r){var n,o=this.x,a=this.y,i=r.x,s=r.y;for(n=t;n<=e;n++)o[n]=i[n-t];if(s)for(a||(a=numeric.rep(numeric.dim(o),0),this.y=a),n=t;n<=e;n++)a[n]=s[n-t];else if(a)for(n=t;n<=e;n++)a[n]=numeric.rep([i[n-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,r=this.y;return r?new numeric.T(e[t],r[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var r=this.x,n=this.y,o=e.x,a=e.y;return r[t]=o,a?(n||(n=numeric.rep(numeric.dim(r),0),this.y=n),n[t]=a):n&&(n=numeric.rep([o.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var r=this.x,n=this.y,o=numeric.getBlock;return n?new numeric.T(o(r,t,e),o(n,t,e)):new numeric.T(o(r,t,e))},numeric.T.prototype.setBlock=function(t,e,r){r instanceof numeric.T||(r=new numeric.T(r));var n=this.x,o=this.y,a=numeric.setBlock,i=r.x,s=r.y;return s?(o||(this.y=numeric.rep(numeric.dim(this),0),o=this.y),a(n,t,e,i),a(o,t,e,s),this):(a(n,t,e,i),void(o&&a(o,t,e,numeric.rep(numeric.dim(i),0))))},numeric.T.rep=function(t,e){var r=numeric.T;e instanceof r||(e=new r(e));var n=e.x,o=e.y,a=numeric.rep;return o?new r(a(t,n),a(t,o)):new r(a(t,n))},numeric.T.diag=function t(e){e instanceof numeric.T||(e=new numeric.T(e));var r=e.x,n=e.y,t=numeric.diag;return n?new numeric.T(t(r),t(n)):new numeric.T(t(r))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,r=this.y;return r?new t.T(t.getDiag(e),t.getDiag(r)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),r=t[0]>=0?1:-1,n=r*numeric.norm2(t);e[0]+=n;var o=numeric.norm2(e);if(0===o)throw new Error("eig: internal error");return numeric.div(e,o)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r,n,o,a,i,s,u,c,f,l,h=e[0],m=numeric.clone(t),d=numeric.identity(h);for(n=0;n<h-2;n++){for(a=Array(h-n-1),r=n+1;r<h;r++)a[r-n-1]=m[r][n];if(numeric.norm2(a)>0){for(i=numeric.house(a),s=numeric.getBlock(m,[n+1,n],[h-1,h-1]),u=numeric.tensor(i,numeric.dot(i,s)),r=n+1;r<h;r++)for(c=m[r],f=u[r-n-1],o=n;o<h;o++)c[o]-=2*f[o-n];for(s=numeric.getBlock(m,[0,n+1],[h-1,h-1]),u=numeric.tensor(numeric.dot(s,i),i),r=0;r<h;r++)for(c=m[r],f=u[r],o=n+1;o<h;o++)c[o]-=2*f[o-n-1];for(s=Array(h-n-1),r=n+1;r<h;r++)s[r-n-1]=d[r];for(u=numeric.tensor(i,numeric.dot(i,s)),r=n+1;r<h;r++)for(l=d[r],f=u[r-n-1],o=0;o<h;o++)l[o]-=2*f[o]}}return{H:m,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){"undefined"==typeof e&&(e=1e4),t=numeric.clone(t);var r,n,o,a,i,s,u,c,f,l,h,m,d,p,v,y,M,b,x=(numeric.clone(t),numeric.dim(t)),_=x[0],g=numeric.identity(_);if(_<3)return{Q:g,B:[[0,_-1]]};var S=numeric.epsilon;for(b=0;b<e;b++){for(y=0;y<_-1;y++)if(Math.abs(t[y+1][y])<S*(Math.abs(t[y][y])+Math.abs(t[y+1][y+1]))){var w=numeric.QRFrancis(numeric.getBlock(t,[0,0],[y,y]),e),D=numeric.QRFrancis(numeric.getBlock(t,[y+1,y+1],[_-1,_-1]),e);for(m=Array(y+1),v=0;v<=y;v++)m[v]=g[v];for(d=numeric.dot(w.Q,m),v=0;v<=y;v++)g[v]=d[v];for(m=Array(_-y-1),v=y+1;v<_;v++)m[v-y-1]=g[v];for(d=numeric.dot(D.Q,m),v=y+1;v<_;v++)g[v]=d[v-y-1];return{Q:g,B:w.B.concat(numeric.add(D.B,y+1))}}if(o=t[_-2][_-2],a=t[_-2][_-1],i=t[_-1][_-2],s=t[_-1][_-1],c=o+s,u=o*s-a*i,f=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*u){var I,F;I=.5*(c+Math.sqrt(c*c-4*u)),F=.5*(c-Math.sqrt(c*c-4*u)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,I+F)),numeric.diag(numeric.rep([3],I*F)))}else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,c)),numeric.diag(numeric.rep([3],u)));for(r=[f[0][0],f[1][0],f[2][0]],n=numeric.house(r),m=[t[0],t[1],t[2]],d=numeric.tensor(n,numeric.dot(n,m)),v=0;v<3;v++)for(h=t[v],p=d[v],M=0;M<_;M++)h[M]-=2*p[M];for(m=numeric.getBlock(t,[0,0],[_-1,2]),d=numeric.tensor(numeric.dot(m,n),n),v=0;v<_;v++)for(h=t[v],p=d[v],M=0;M<3;M++)h[M]-=2*p[M];for(m=[g[0],g[1],g[2]],d=numeric.tensor(n,numeric.dot(n,m)),v=0;v<3;v++)for(l=g[v],p=d[v],M=0;M<_;M++)l[M]-=2*p[M];var j;for(y=0;y<_-2;y++){for(M=y;M<=y+1;M++)if(Math.abs(t[M+1][M])<S*(Math.abs(t[M][M])+Math.abs(t[M+1][M+1]))){var w=numeric.QRFrancis(numeric.getBlock(t,[0,0],[M,M]),e),D=numeric.QRFrancis(numeric.getBlock(t,[M+1,M+1],[_-1,_-1]),e);for(m=Array(M+1),v=0;v<=M;v++)m[v]=g[v];for(d=numeric.dot(w.Q,m),v=0;v<=M;v++)g[v]=d[v];for(m=Array(_-M-1),v=M+1;v<_;v++)m[v-M-1]=g[v];for(d=numeric.dot(D.Q,m),v=M+1;v<_;v++)g[v]=d[v-M-1];return{Q:g,B:w.B.concat(numeric.add(D.B,M+1))}}for(j=Math.min(_-1,y+3),r=Array(j-y),v=y+1;v<=j;v++)r[v-y-1]=t[v][y];for(n=numeric.house(r),m=numeric.getBlock(t,[y+1,y],[j,_-1]),d=numeric.tensor(n,numeric.dot(n,m)),v=y+1;v<=j;v++)for(h=t[v],p=d[v-y-1],M=y;M<_;M++)h[M]-=2*p[M-y];for(m=numeric.getBlock(t,[0,y+1],[_-1,j]),d=numeric.tensor(numeric.dot(m,n),n),v=0;v<_;v++)for(h=t[v],p=d[v],M=y+1;M<=j;M++)h[M]-=2*p[M-y-1];for(m=Array(j-y),v=y+1;v<=j;v++)m[v-y-1]=g[v];for(d=numeric.tensor(n,numeric.dot(n,m)),v=y+1;v<=j;v++)for(l=g[v],p=d[v-y-1],M=0;M<_;M++)l[M]-=2*p[M]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var r,n,o,a,i,s,u,c,f,l,h,m,d,p,v,y,M,b=numeric.toUpperHessenberg(t),x=numeric.QRFrancis(b.H,e),_=numeric.T,g=t.length,S=x.B,w=numeric.dot(x.Q,numeric.dot(b.H,numeric.transpose(x.Q))),D=new _(numeric.dot(x.Q,b.Q)),I=S.length,F=Math.sqrt;for(n=0;n<I;n++)if(r=S[n][0],r===S[n][1]);else{if(a=r+1,i=w[r][r],s=w[r][a],u=w[a][r],c=w[a][a],0===s&&0===u)continue;f=-i-c,l=i*c-s*u,h=f*f-4*l,h>=0?(m=f<0?-.5*(f-F(h)):-.5*(f+F(h)),y=(i-m)*(i-m)+s*s,M=u*u+(c-m)*(c-m),y>M?(y=F(y),p=(i-m)/y,v=s/y):(M=F(M),p=u/M,v=(c-m)/M),o=new _([[v,-p],[p,v]]),D.setRows(r,a,o.dot(D.getRows(r,a)))):(m=-.5*f,d=.5*F(-h),y=(i-m)*(i-m)+s*s,M=u*u+(c-m)*(c-m),y>M?(y=F(y+d*d),p=(i-m)/y,v=s/y,m=0,d/=y):(M=F(M+d*d),p=u/M,v=(c-m)/M,m=d/M,d=0),o=new _([[v,-p],[p,v]],[[m,d],[d,-m]]),D.setRows(r,a,o.dot(D.getRows(r,a))))}var j=D.dot(t).dot(D.transjugate()),g=t.length,k=numeric.T.identity(g);for(a=0;a<g;a++)if(a>0)for(n=a-1;n>=0;n--){var A=j.get([n,n]),P=j.get([a,a]);numeric.neq(A.x,P.x)||numeric.neq(A.y,P.y)?(m=j.getRow(n).getBlock([n],[a-1]),d=k.getRow(a).getBlock([n],[a-1]),k.set([a,n],j.get([n,a]).neg().sub(m.dot(d)).div(A.sub(P)))):k.setRow(a,k.getRow(n))}for(a=0;a<g;a++)m=k.getRow(a),k.setRow(a,m.div(m.norm2()));return k=k.transpose(),k=D.transjugate().dot(k),{lambda:j.getDiag(),E:k}},numeric.ccsSparse=function(t){var e,r,n,o,a=t.length,i=[];for(n=a-1;n!==-1;--n){r=t[n];for(o in r){for(o=parseInt(o);o>=i.length;)i[i.length]=0;0!==r[o]&&i[o]++}}var e=i.length,s=Array(e+1);for(s[0]=0,n=0;n<e;++n)s[n+1]=s[n]+i[n];var u=Array(s[e]),c=Array(s[e]);for(n=a-1;n!==-1;--n){r=t[n];for(o in r)0!==r[o]&&(i[o]--,u[s[o]+i[o]]=n,c[s[o]+i[o]]=r[o])}return[s,u,c]},numeric.ccsFull=function(t){var e,r,n,o,a=t[0],i=t[1],s=t[2],u=numeric.ccsDim(t),c=u[0],f=u[1],l=numeric.rep([c,f],0);for(e=0;e<f;e++)for(n=a[e],o=a[e+1],r=n;r<o;++r)l[i[r]][e]=s[r];return l},numeric.ccsTSolve=function(t,e,r,n,o){function a(t){var e;if(0===r[t]){for(r[t]=1,e=i[t];e<i[t+1];++e)a(s[e]);o[l]=t,++l}}var i=t[0],s=t[1],u=t[2],c=i.length-1,f=Math.max,l=0;"undefined"==typeof n&&(r=numeric.rep([c],0)),"undefined"==typeof n&&(n=numeric.linspace(0,r.length-1)),"undefined"==typeof o&&(o=[]);var h,m,d,p,v,y,M;for(h=n.length-1;h!==-1;--h)a(n[h]);for(o.length=l,h=o.length-1;h!==-1;--h)r[o[h]]=0;for(h=n.length-1;h!==-1;--h)m=n[h],r[m]=e[m];for(h=o.length-1;h!==-1;--h){for(m=o[h],d=i[m],p=f(i[m+1],d),v=d;v!==p;++v)if(s[v]===m){r[m]/=u[v];break}for(M=r[m],v=d;v!==p;++v)y=s[v],y!==m&&(r[y]-=M*u[v])}return r},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,r,n,o,a){var i,s,u,c=0,f=o.length,l=this.k,h=this.k1,m=this.j;if(0===n[t])for(n[t]=1,m[0]=t,l[0]=s=e[t],h[0]=u=e[t+1];;)if(s>=u){if(o[f]=m[c],0===c)return;++f,--c,s=l[c],u=h[c]}else i=a[r[s]],0===n[i]?(n[i]=1,l[c]=s,++c,m[c]=i,s=e[i],h[c]=u=e[i+1]):++s},numeric.ccsLPSolve=function(t,e,r,n,o,a,i){var s,u,c,f,l,h,m,d,p,v=t[0],y=t[1],M=t[2],b=(v.length-1,e[0]),x=e[1],_=e[2];for(u=b[o],c=b[o+1],n.length=0,s=u;s<c;++s)i.dfs(a[x[s]],v,y,r,n,a);for(s=n.length-1;s!==-1;--s)r[n[s]]=0;for(s=u;s!==c;++s)f=a[x[s]],r[f]=_[s];for(s=n.length-1;s!==-1;--s){for(f=n[s],l=v[f],h=v[f+1],m=l;m<h;++m)if(a[y[m]]===f){r[f]/=M[m];break}for(p=r[f],m=l;m<h;++m)d=a[y[m]],d!==f&&(r[d]-=p*M[m])}return r},numeric.ccsLUP1=function(t,e){var r,n,o,a,i,s,u,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],h=f[0],m=f[1],d=f[2],p=l[0],v=l[1],y=l[2],M=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve,_=(Math.max,Math.abs),g=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),w=new numeric.ccsDFS(c);for("undefined"==typeof e&&(e=1),r=0;r<c;++r){for(x(f,t,M,b,r,S,w),a=-1,i=-1,n=b.length-1;n!==-1;--n)o=b[n],o<=r||(s=_(M[o]),s>a&&(i=o,a=s));for(_(M[r])<e*a&&(n=g[r],a=g[i],g[r]=a,S[a]=r,g[i]=n,S[n]=i,a=M[r],M[r]=M[i],M[i]=a),a=h[r],i=p[r],u=M[r],m[a]=g[r],d[a]=1,++a,n=b.length-1;n!==-1;--n)o=b[n],s=M[o],b[n]=0,M[o]=0,o<=r?(v[i]=o,y[i]=s,++i):(m[a]=g[o],d[a]=s/u,++a);h[r+1]=a,p[r+1]=i}for(n=m.length-1;n!==-1;--n)m[n]=S[m[n]];return{L:f,U:l,P:g,Pinv:S}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,r,n,o,a,i){var s,u,c,f=0,l=o.length,h=this.k,m=this.k1,d=this.j;if(0===n[t])for(n[t]=1,d[0]=t,h[0]=u=e[a[t]],m[0]=c=e[a[t]+1];;){if(isNaN(u))throw new Error("Ow!");if(u>=c){if(o[l]=a[d[f]],0===f)return;++l,--f,u=h[f],c=m[f]}else s=r[u],0===n[s]?(n[s]=1,h[f]=u,++f,d[f]=s,s=a[s],u=e[s],m[f]=c=e[s+1]):++u}},numeric.ccsLPSolve0=function(t,e,r,n,o,a,i,s){var u,c,f,l,h,m,d,p,v,y=t[0],M=t[1],b=t[2],x=(y.length-1,e[0]),_=e[1],g=e[2];for(c=x[o],f=x[o+1],n.length=0,u=c;u<f;++u)s.dfs(_[u],y,M,r,n,a,i);for(u=n.length-1;u!==-1;--u)l=n[u],r[i[l]]=0;for(u=c;u!==f;++u)l=_[u],r[l]=g[u];for(u=n.length-1;u!==-1;--u){for(l=n[u],p=i[l],h=y[l],m=y[l+1],d=h;d<m;++d)if(M[d]===p){r[p]/=b[d];break}for(v=r[p],d=h;d<m;++d)r[M[d]]-=v*b[d];r[p]=v}},numeric.ccsLUP0=function(t,e){var r,n,o,a,i,s,u,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],h=f[0],m=f[1],d=f[2],p=l[0],v=l[1],y=l[2],M=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve0,_=(Math.max,Math.abs),g=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),w=new numeric.ccsDFS0(c);for("undefined"==typeof e&&(e=1),r=0;r<c;++r){for(x(f,t,M,b,r,S,g,w),a=-1,i=-1,n=b.length-1;n!==-1;--n)o=b[n],o<=r||(s=_(M[g[o]]),s>a&&(i=o,a=s));for(_(M[g[r]])<e*a&&(n=g[r],a=g[i],g[r]=a,S[a]=r,g[i]=n,S[n]=i),a=h[r],i=p[r],u=M[g[r]],m[a]=g[r],d[a]=1,++a,n=b.length-1;n!==-1;--n)o=b[n],s=M[g[o]],b[n]=0,M[g[o]]=0,o<=r?(v[i]=o,y[i]=s,++i):(m[a]=g[o],d[a]=s/u,++a);h[r+1]=a,p[r+1]=i}for(n=m.length-1;n!==-1;--n)m[n]=S[m[n]];return{L:f,U:l,P:g,Pinv:S}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,r){var n=numeric.ccsDim(t),o=n[0],a=n[1];"undefined"==typeof e?e=numeric.linspace(0,o-1):"number"==typeof e&&(e=[e]),"undefined"==typeof r?r=numeric.linspace(0,a-1):"number"==typeof r&&(r=[r]);var i,s,u,c,f,l=e.length,h=r.length,m=numeric.rep([a],0),d=[],p=[],v=[m,d,p],y=t[0],M=t[1],b=t[2],x=numeric.rep([o],0),_=0,g=numeric.rep([o],0);for(s=0;s<h;++s){c=r[s];var S=y[c],w=y[c+1];for(i=S;i<w;++i)u=M[i],g[u]=1,x[u]=b[i];for(i=0;i<l;++i)f=e[i],g[f]&&(d[_]=i,p[_]=x[e[i]],++_);for(i=S;i<w;++i)u=M[i],g[u]=0;m[s+1]=_}return v},numeric.ccsDot=function(t,e){var r,n,o,a,i,s,u,c,f,l,h,m=t[0],d=t[1],p=t[2],v=e[0],y=e[1],M=e[2],b=numeric.ccsDim(t),x=numeric.ccsDim(e),_=b[0],g=(b[1],x[1]),S=numeric.rep([_],0),w=numeric.rep([_],0),D=Array(_),I=numeric.rep([g],0),F=[],j=[],k=[I,F,j];for(o=0;o!==g;++o){for(a=v[o],i=v[o+1],f=0,n=a;n<i;++n)for(l=y[n],h=M[n],s=m[l],u=m[l+1],r=s;r<u;++r)c=d[r],0===w[c]&&(D[f]=c,w[c]=1,f+=1),S[c]=S[c]+p[r]*h;for(a=I[o],i=a+f,I[o+1]=i,n=f-1;n!==-1;--n)h=a+n,r=D[n],F[h]=r,j[h]=S[r],w[r]=0,S[r]=0;I[o+1]=I[o]+f}return k},numeric.ccsLUPSolve=function(t,e){var r=t.L,n=t.U,o=(t.P,e[0]),a=!1;"object"!=typeof o&&(e=[[0,e.length],numeric.linspace(0,e.length-1),e],o=e[0],a=!0);var i,s,u,c,f,l,h=e[1],m=e[2],d=r[0].length-1,p=o.length-1,v=numeric.rep([d],0),y=Array(d),M=numeric.rep([d],0),b=Array(d),x=numeric.rep([p+1],0),_=[],g=[],S=numeric.ccsTSolve,w=0;for(i=0;i<p;++i){for(f=0,u=o[i],c=o[i+1],s=u;s<c;++s)l=t.Pinv[h[s]],b[f]=l,M[l]=m[s],++f;for(b.length=f,S(r,M,v,b,y),s=b.length-1;s!==-1;--s)M[b[s]]=0;if(S(n,v,M,y,b),a)return M;for(s=y.length-1;s!==-1;--s)v[y[s]]=0;for(s=b.length-1;s!==-1;--s)l=b[s],_[w]=l,g[w]=M[l],M[l]=0,++w;x[i+1]=w}return[x,_,g]},numeric.ccsbinop=function(t,e){return"undefined"==typeof e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,r=t[0],n=t[1],o=t[2],a=numeric.sup(n)+1,i=r.length,s=numeric.rep([a],0),u=Array(i),c=Array(i),f=numeric.rep([a],0);for(e=0;e<i;++e)f[n[e]]++;for(e=0;e<a;++e)s[e+1]=s[e]+f[e];var l,h,m=s.slice(0);for(e=0;e<i;++e)h=n[e],l=m[h],u[l]=r[e],c[l]=o[e],m[h]=m[h]+1;return[s,u,c]},numeric.ccsGather=function(t){var e,r,n,o,a,i=t[0],s=t[1],u=t[2],c=i.length-1,f=s.length,l=Array(f),h=Array(f),m=Array(f);for(a=0,e=0;e<c;++e)for(n=i[e],o=i[e+1],r=n;r!==o;++r)h[a]=e,l[a]=s[r],m[a]=u[r],++a;return[l,h,m]},numeric.sdim=function t(e,r,n){if("undefined"==typeof r&&(r=[]),"object"!=typeof e)return r;"undefined"==typeof n&&(n=0),n in r||(r[n]=0),e.length>r[n]&&(r[n]=e.length);var o;for(o in e)e.hasOwnProperty(o)&&t(e[o],r,n+1);return r},numeric.sclone=function t(e,r,n){"undefined"==typeof r&&(r=0),"undefined"==typeof n&&(n=numeric.sdim(e).length);var o,a=Array(e.length);if(r===n-1){for(o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);return a}for(o in e)e.hasOwnProperty(o)&&(a[o]=t(e[o],r+1,n));return a},numeric.sdiag=function(t){var e,r,n=t.length,o=Array(n);for(e=n-1;e>=1;e-=2)r=e-1,o[e]=[],o[e][e]=t[e],o[r]=[],o[r][r]=t[r];return 0===e&&(o[0]=[],o[0][0]=t[e]),o},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,r,n,o=[];t.length;for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(r in n)n.hasOwnProperty(r)&&("object"!=typeof o[r]&&(o[r]=[]),o[r][e]=n[r])}return o},numeric.sLUP=function(t,e){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var r,n,o,a,i,s,u,c=t.length,f=(e.length,numeric.stranspose(e)),l=f.length,h=Array(c);for(o=c-1;o>=0;o--){for(u=[],r=t[o],i=l-1;i>=0;i--){s=0,n=f[i];for(a in r)r.hasOwnProperty(a)&&a in n&&(s+=r[a]*n[a]);s&&(u[i]=s)}h[o]=u}return h},numeric.sdotMV=function(t,e){var r,n,o,a,i=t.length,s=Array(i);for(n=i-1;n>=0;n--){r=t[n],a=0;for(o in r)r.hasOwnProperty(o)&&e[o]&&(a+=r[o]*e[o]);a&&(s[n]=a)}return s},numeric.sdotVM=function(t,e){var r,n,o,a,i=[];for(r in t)if(t.hasOwnProperty(r)){o=e[r],a=t[r];for(n in o)o.hasOwnProperty(n)&&(i[n]||(i[n]=0),i[n]+=a*o[n])}return i},numeric.sdotVV=function(t,e){var r,n=0;for(r in t)t[r]&&e[r]&&(n+=t[r]*e[r]);return n},numeric.sdot=function(t,e){var r=numeric.sdim(t).length,n=numeric.sdim(e).length,o=1e3*r+n;switch(o){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+n)}},numeric.sscatter=function(t){var e,r,n,o,a=t[0].length,i=t.length,s=[];for(r=a-1;r>=0;--r)if(t[i-1][r]){for(o=s,n=0;n<i-2;n++)e=t[n][r],o[e]||(o[e]=[]),o=o[e];o[t[n][r]]=t[n+1][r]}return s},numeric.sgather=function t(e,r,n){"undefined"==typeof r&&(r=[]),"undefined"==typeof n&&(n=[]);var o,a,i;o=n.length;for(a in e)if(e.hasOwnProperty(a))if(n[o]=parseInt(a),i=e[a],"number"==typeof i){if(i){if(0===r.length)for(a=o+1;a>=0;--a)r[a]=[];for(a=o;a>=0;--a)r[a].push(n[a]);r[o+1].push(i)}}else t(i,r,n);return n.length>o&&n.pop(),r},numeric.cLU=function(t){var e,r,n,o,a,i,s=t[0],u=t[1],c=t[2],f=s.length,l=0;for(e=0;e<f;e++)s[e]>l&&(l=s[e]);l++;var h,m,d,p=Array(l),v=Array(l),y=numeric.rep([l],1/0),M=numeric.rep([l],-(1/0));for(n=0;n<f;n++)e=s[n],r=u[n],r<y[e]&&(y[e]=r),r>M[e]&&(M[e]=r);for(e=0;e<l-1;e++)M[e]>M[e+1]&&(M[e+1]=M[e]);for(e=l-1;e>=1;e--)y[e]<y[e-1]&&(y[e-1]=y[e]);var b=0,x=0;for(e=0;e<l;e++)v[e]=numeric.rep([M[e]-y[e]+1],0),p[e]=numeric.rep([e-y[e]],0),b+=e-y[e]+1,x+=M[e]-e+1;for(n=0;n<f;n++)e=s[n],v[e][u[n]-y[e]]=c[n];for(e=0;e<l-1;e++)for(o=e-y[e],h=v[e],r=e+1;y[r]<=e&&r<l;r++)if(a=e-y[r],i=M[e]-e,m=v[r],d=m[a]/h[o]){for(n=1;n<=i;n++)m[n+a]-=d*h[n+o];p[r][e-y[r]]=d}var f,_,g,h=[],m=[],S=[],w=[],D=[],I=[];for(f=0,_=0,e=0;e<l;e++){for(o=y[e],a=M[e],g=v[e],r=e;r<=a;r++)g[r-o]&&(h[f]=e,m[f]=r,S[f]=g[r-o],f++);for(g=p[e],r=o;r<e;r++)g[r-o]&&(w[_]=e,D[_]=r,I[_]=g[r-o],_++);w[_]=e,D[_]=e,I[_]=1,_++}return{U:[h,m,S],L:[w,D,I]}},numeric.cLUsolve=function(t,e){var r,n,o=t.L,a=t.U,i=numeric.clone(e),s=o[0],u=o[1],c=o[2],f=a[0],l=a[1],h=a[2],m=f.length,d=(s.length,i.length);for(n=0,r=0;r<d;r++){for(;u[n]<r;)i[r]-=c[n]*i[u[n]],n++;n++}for(n=m-1,r=d-1;r>=0;r--){for(;l[n]>r;)i[r]-=h[n]*i[l[n]],n--;i[r]/=h[n],n--}return i},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var r,n,o,a=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,r){return e>=t[0]/2||r<t[1]/2};break;default:e=function(t,e){return!0}}for(o=0,r=1;r<t[0]-1;r++)for(n=1;n<t[1]-1;n++)e(r,n)&&(a[r][n]=o,o++);return a},numeric.cdelsq=function(t){var e,r,n,o,a,i=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),u=s[0],c=s[1],f=[],l=[],h=[];for(e=1;e<u-1;e++)for(r=1;r<c-1;r++)if(!(t[e][r]<0)){for(n=0;n<4;n++)o=e+i[n][0],a=r+i[n][1],t[o][a]<0||(f.push(t[e][r]),l.push(t[o][a]),h.push(-1));f.push(t[e][r]),l.push(t[e][r]),h.push(4)}return[f,l,h]},numeric.cdotMV=function(t,e){var r,n,o,a=t[0],i=t[1],s=t[2],u=a.length;for(o=0,n=0;n<u;n++)a[n]>o&&(o=a[n]);for(o++,r=numeric.rep([o],0),n=0;n<u;n++)r[a[n]]+=s[n]*e[i[n]];return r},numeric.Spline=function(t,e,r,n,o){this.x=t,this.yl=e,this.yr=r,this.kl=n,this.kr=o},numeric.Spline.prototype._at=function(t,e){var t,r,n,o,a=this.x,i=this.yl,s=this.yr,u=this.kl,c=this.kr,f=numeric.add,l=numeric.sub,h=numeric.mul;r=l(h(u[e],a[e+1]-a[e]),l(s[e+1],i[e])),n=f(h(c[e+1],a[e]-a[e+1]),l(s[e+1],i[e])),o=(t-a[e])/(a[e+1]-a[e]);var m=o*(1-o);return f(f(f(h(1-o,i[e]),h(o,s[e+1])),h(r,m*(1-o))),h(n,m*o))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,r,n,o=this.x,a=o.length,i=Math.floor;for(e=0,r=a-1;r-e>1;)n=i((e+r)/2),o[n]<=t?e=n:r=n;return this._at(t,e)}var s,a=t.length,u=Array(a);for(s=a-1;s!==-1;--s)u[s]=this.at(t[s]);return u},numeric.Spline.prototype.diff=function(){var t,e,r,n=this.x,o=this.yl,a=this.yr,i=this.kl,s=this.kr,u=o.length,c=i,f=s,l=Array(u),h=Array(u),m=numeric.add,d=numeric.mul,p=numeric.div,v=numeric.sub;for(t=u-1;t!==-1;--t)e=n[t+1]-n[t],r=v(a[t+1],o[t]),l[t]=p(m(d(r,6),d(i[t],-4*e),d(s[t+1],-2*e)),e*e),h[t+1]=p(m(d(r,-6),d(i[t],2*e),d(s[t+1],4*e)),e*e);return new numeric.Spline(n,c,f,l,h)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],r=this.x,n=this.yl,o=this.yr,a=this.kl,i=this.kr;"number"==typeof n[0]&&(n=[n],o=[o],a=[a],i=[i]);var s,u,c,f,l,h,m,d,p,v,y,M,b,x,_,g,S,w,D,I,F,j,k,A,P=n.length,T=r.length-1,e=Array(P),C=Math.sqrt;for(s=0;s!==P;++s){for(f=n[s],l=o[s],h=a[s],m=i[s],d=[],u=0;u!==T;u++){for(u>0&&l[u]*f[u]<0&&d.push(r[u]),g=r[u+1]-r[u],S=r[u],y=f[u],M=l[u+1],p=h[u]/g,v=m[u+1]/g,_=t(p-v+3*(y-M))+12*v*y,b=v+3*y+2*p-3*M,x=3*(v+p+2*(y-M)),_<=0?(D=b/x,w=D>r[u]&&D<r[u+1]?[r[u],D,r[u+1]]:[r[u],r[u+1]]):(D=(b-C(_))/x,I=(b+C(_))/x,w=[r[u]],D>r[u]&&D<r[u+1]&&w.push(D),I>r[u]&&I<r[u+1]&&w.push(I),w.push(r[u+1])),j=w[0],D=this._at(j,u),c=0;c<w.length-1;c++)if(k=w[c+1],I=this._at(k,u),0!==D)if(0===I||D*I>0)j=k,D=I;else{for(var O=0;;){if(A=(D*k-I*j)/(D-I),A<=j||A>=k)break;if(F=this._at(A,u),F*I>0)k=A,I=F,O===-1&&(D*=.5),O=-1;else{if(!(F*D>0))break;j=A,D=F,1===O&&(I*=.5),O=1}}d.push(A),j=w[c+1],D=this._at(j,u)}else d.push(j),j=k,D=I;0===I&&d.push(k)}e[s]=d}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,r,n){var o,a=t.length,i=[],s=[],u=[],c=numeric.sub,f=numeric.mul,l=numeric.add;for(o=a-2;o>=0;o--)s[o]=t[o+1]-t[o],u[o]=c(e[o+1],e[o]);"string"!=typeof r&&"string"!=typeof n||(r=n="periodic");var h=[[],[],[]];switch(typeof r){case"undefined":i[0]=f(3/(s[0]*s[0]),u[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/s[0],1/s[0]);break;case"string":i[0]=l(f(3/(s[a-2]*s[a-2]),u[a-2]),f(3/(s[0]*s[0]),u[0])),h[0].push(0,0,0),h[1].push(a-2,0,1),h[2].push(1/s[a-2],2/s[a-2]+2/s[0],1/s[0]);break;default:i[0]=r,h[0].push(0),h[1].push(0),h[2].push(1)}for(o=1;o<a-1;o++)i[o]=l(f(3/(s[o-1]*s[o-1]),u[o-1]),f(3/(s[o]*s[o]),u[o])),h[0].push(o,o,o),h[1].push(o-1,o,o+1),h[2].push(1/s[o-1],2/s[o-1]+2/s[o],1/s[o]);switch(typeof n){case"undefined":i[a-1]=f(3/(s[a-2]*s[a-2]),u[a-2]),h[0].push(a-1,a-1),h[1].push(a-2,a-1),h[2].push(1/s[a-2],2/s[a-2]);break;case"string":h[1][h[1].length-1]=0;break;default:i[a-1]=n,h[0].push(a-1),h[1].push(a-1),h[2].push(1)}i="number"!=typeof i[0]?numeric.transpose(i):[i];var m=Array(i.length);if("string"==typeof r)for(o=m.length-1;o!==-1;--o)m[o]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),i[o]),m[o][a-1]=m[o][0];else for(o=m.length-1;o!==-1;--o)m[o]=numeric.cLUsolve(numeric.cLU(h),i[o]);return m="number"==typeof e[0]?m[0]:numeric.transpose(m),new numeric.Spline(t,e,e,m,m)},numeric.fftpow2=function t(e,r){var n=e.length;if(1!==n){var o,a,i=Math.cos,s=Math.sin,u=Array(n/2),c=Array(n/2),f=Array(n/2),l=Array(n/2);for(a=n/2,o=n-1;o!==-1;--o)--a,f[a]=e[o],l[a]=r[o],--o,u[a]=e[o],c[a]=r[o];t(u,c),t(f,l),a=n/2;var h,m,d,p=-6.283185307179586/n;for(o=n-1;o!==-1;--o)--a,a===-1&&(a=n/2-1),h=p*o,m=i(h),d=s(h),e[o]=u[a]+m*f[a]-d*l[a],r[o]=c[a]+m*l[a]+d*f[a]}},numeric._ifftpow2=function t(e,r){var n=e.length;if(1!==n){var o,a,i=Math.cos,s=Math.sin,u=Array(n/2),c=Array(n/2),f=Array(n/2),l=Array(n/2);for(a=n/2,o=n-1;o!==-1;--o)--a,f[a]=e[o],l[a]=r[o],--o,u[a]=e[o],c[a]=r[o];t(u,c),t(f,l),a=n/2;var h,m,d,p=6.283185307179586/n;for(o=n-1;o!==-1;--o)--a,a===-1&&(a=n/2-1),h=p*o,m=i(h),d=s(h),e[o]=u[a]+m*f[a]-d*l[a],r[o]=c[a]+m*l[a]+d*f[a]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,r,n){numeric.fftpow2(t,e),numeric.fftpow2(r,n);var o,a,i,s,u,c=t.length;for(o=c-1;o!==-1;--o)a=t[o],s=e[o],i=r[o],u=n[o],t[o]=a*i-s*u,e[o]=a*u+s*i;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,r=this.x,n=this.y,o=r.length,a=Math.log,i=a(2),s=Math.ceil(a(2*o-1)/i),u=Math.pow(2,s),c=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,h=Math.sin,m=-3.141592653589793/o,d=numeric.rep([u],0),p=numeric.rep([u],0);Math.floor(o/2);for(t=0;t<o;t++)d[t]=r[t];if("undefined"!=typeof n)for(t=0;t<o;t++)p[t]=n[t];for(c[0]=1,t=1;t<=u/2;t++)e=m*t*t,c[t]=l(e),f[t]=h(e),c[u-t]=l(e),f[u-t]=h(e);var v=new numeric.T(d,p),y=new numeric.T(c,f);return v=v.mul(y),numeric.convpow2(v.x,v.y,numeric.clone(y.x),numeric.neg(y.y)),v=v.mul(y),v.x.length=o,v.y.length=o,v},numeric.T.prototype.ifft=function(){var t,e,r=this.x,n=this.y,o=r.length,a=Math.log,i=a(2),s=Math.ceil(a(2*o-1)/i),u=Math.pow(2,s),c=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,h=Math.sin,m=3.141592653589793/o,d=numeric.rep([u],0),p=numeric.rep([u],0);Math.floor(o/2);for(t=0;t<o;t++)d[t]=r[t];if("undefined"!=typeof n)for(t=0;t<o;t++)p[t]=n[t];for(c[0]=1,t=1;t<=u/2;t++)e=m*t*t,c[t]=l(e),f[t]=h(e),c[u-t]=l(e),f[u-t]=h(e);var v=new numeric.T(d,p),y=new numeric.T(c,f);return v=v.mul(y),numeric.convpow2(v.x,v.y,numeric.clone(y.x),numeric.neg(y.y)),v=v.mul(y),v.x.length=o,v.y.length=o,v.div(o)},numeric.gradient=function(t,e){var r=e.length,n=t(e);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var o,a,i,s,u,c,f,l,h,m,d=Math.max,p=numeric.clone(e),v=Array(r),d=(numeric.div,numeric.sub,Math.max),y=.001,M=Math.abs,b=Math.min,x=0;for(o=0;o<r;o++)for(var _=d(1e-6*n,1e-8);;){if(++x,x>20)throw new Error("Numerical gradient fails");if(p[o]=e[o]+_,a=t(p),p[o]=e[o]-_,i=t(p),p[o]=e[o],isNaN(a)||isNaN(i))_/=16;else{if(v[o]=(a-i)/(2*_),u=e[o]-_,c=e[o],f=e[o]+_,l=(a-n)/_,h=(n-i)/_,m=d(M(v[o]),M(n),M(a),M(i),M(u),M(c),M(f),1e-8),s=b(d(M(l-v[o]),M(h-v[o]),M(l-h))/m,_/m),!(s>y))break;_/=16}}return v},numeric.uncmin=function(t,e,r,n,o,a,i){var s=numeric.gradient;"undefined"==typeof i&&(i={}),"undefined"==typeof r&&(r=1e-8),"undefined"==typeof n&&(n=function(e){return s(t,e)}),"undefined"==typeof o&&(o=1e3),e=numeric.clone(e);var u,c,f=e.length,l=t(e);if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,m=numeric.norm2;r=h(r,numeric.epsilon);var d,p,v,y,M,b,x,_,g,S,w=i.Hinv||numeric.identity(f),D=numeric.dot,I=(numeric.inv,numeric.sub),F=numeric.add,j=numeric.tensor,k=numeric.div,A=numeric.mul,P=numeric.all,T=numeric.isFinite,C=numeric.neg,O=0,E="";for(p=n(e);O<o;){if("function"==typeof a&&a(O,e,l,p,w)){E="Callback returned true";break}if(!P(T(p))){E="Gradient has Infinity or NaN";break}if(d=C(D(w,p)),!P(T(d))){E="Search direction has Infinity or NaN";break}if(S=m(d),S<r){E="Newton step smaller than tol";break}for(g=1,c=D(p,d),M=e;O<o&&!(g*S<r)&&(y=A(d,g),M=F(e,y),u=t(M),u-l>=.1*g*c||isNaN(u));)g*=.5,++O;if(g*S<r){E="Line search step size smaller than tol";break}if(O===o){E="maxit reached during line search";break}v=n(M),b=I(v,p),_=D(b,y),x=D(w,b),w=I(F(w,A((_+D(b,x))/(_*_),j(y,y))),k(F(j(x,y),j(y,x)),_)),e=M,l=u,p=v,++O}return{solution:e,f:l,gradient:p,invHessian:w,iterations:O,message:E}},numeric.Dopri=function(t,e,r,n,o,a,i){this.x=t,this.y=e,this.f=r,this.ymid=n,this.iterations=o,this.events=i,this.message=a},numeric.Dopri.prototype._at=function(t,e){function r(t){return t*t}var n,o,a,i,s,u,t,c,f,l,h,m=this,d=m.x,p=m.y,v=m.f,y=m.ymid,M=(d.length,Math.floor,.5),b=numeric.add,x=numeric.mul,_=numeric.sub;return n=d[e],o=d[e+1],i=p[e],s=p[e+1],c=o-n,a=n+M*c,u=y[e],f=_(v[e],x(i,1/(n-a)+2/(n-o))),l=_(v[e+1],x(s,1/(o-a)+2/(o-n))),h=[r(t-o)*(t-a)/r(n-o)/(n-a),r(t-n)*r(t-o)/r(n-a)/r(o-a),r(t-n)*(t-a)/r(o-n)/(o-a),(t-n)*r(t-o)*(t-a)/r(n-o)/(n-a),(t-o)*r(t-n)*(t-a)/r(n-o)/(o-a)],b(b(b(b(x(i,h[0]),x(u,h[1])),x(s,h[2])),x(f,h[3])),x(l,h[4]))},numeric.Dopri.prototype.at=function(t){var e,r,n,o=Math.floor;if("number"!=typeof t){var a=t.length,i=Array(a);for(e=a-1;e!==-1;--e)i[e]=this.at(t[e]);return i}var s=this.x;for(e=0,r=s.length-1;r-e>1;)n=o(.5*(e+r)),s[n]<=t?e=n:r=n;return this._at(t,e)},numeric.dopri=function(t,e,r,n,o,a,i){"undefined"==typeof o&&(o=1e-6),"undefined"==typeof a&&(a=1e3);var s,u,c,f,l,h,m,d,p,v,y,M,b,x=[t],_=[r],g=[n(t,r)],S=[],w=.2,D=[.075,.225],I=[44/45,-56/15,32/9],F=[19372/6561,-25360/2187,64448/6561,-212/729],j=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],k=[35/384,0,500/1113,125/192,-2187/6784,11/84],A=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],P=[.2,.3,.8,8/9,1,1],T=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],C=0,O=(e-t)/10,E=0,R=numeric.add,z=numeric.mul,q=(Math.max,Math.min),L=Math.abs,N=numeric.norminf,B=Math.pow,V=numeric.any,U=numeric.lt,Y=numeric.and,G=(numeric.sub,new numeric.Dopri(x,_,g,S,(-1),""));for("function"==typeof i&&(y=i(t,r));t<e&&E<a;)if(++E,t+O>e&&(O=e-t),s=n(t+P[0]*O,R(r,z(w*O,g[C]))),u=n(t+P[1]*O,R(R(r,z(D[0]*O,g[C])),z(D[1]*O,s))),c=n(t+P[2]*O,R(R(R(r,z(I[0]*O,g[C])),z(I[1]*O,s)),z(I[2]*O,u))),f=n(t+P[3]*O,R(R(R(R(r,z(F[0]*O,g[C])),z(F[1]*O,s)),z(F[2]*O,u)),z(F[3]*O,c))),l=n(t+P[4]*O,R(R(R(R(R(r,z(j[0]*O,g[C])),z(j[1]*O,s)),z(j[2]*O,u)),z(j[3]*O,c)),z(j[4]*O,f))),p=R(R(R(R(R(r,z(g[C],O*k[0])),z(u,O*k[2])),z(c,O*k[3])),z(f,O*k[4])),z(l,O*k[5])),h=n(t+O,p),m=R(R(R(R(R(z(g[C],O*T[0]),z(u,O*T[2])),z(c,O*T[3])),z(f,O*T[4])),z(l,O*T[5])),z(h,O*T[6])),v="number"==typeof m?L(m):N(m),v>o){if(O=.2*O*B(o/v,.25),t+O===t){G.msg="Step size became too small";break}}else{if(S[C]=R(R(R(R(R(R(r,z(g[C],O*A[0])),z(u,O*A[2])),z(c,O*A[3])),z(f,O*A[4])),z(l,O*A[5])),z(h,O*A[6])),++C,x[C]=t+O,_[C]=p,g[C]=h,"function"==typeof i){var H,X,Q=t,Z=t+.5*O;if(M=i(Z,S[C-1]),b=Y(U(y,0),U(0,M)),V(b)||(Q=Z,Z=t+O,y=M,M=i(Z,p),b=Y(U(y,0),U(0,M))),V(b)){for(var K,J,W=0,$=1,tt=1;;){if("number"==typeof y)X=(tt*M*Q-$*y*Z)/(tt*M-$*y);else for(X=Z,d=y.length-1;d!==-1;--d)y[d]<0&&M[d]>0&&(X=q(X,(tt*M[d]*Q-$*y[d]*Z)/(tt*M[d]-$*y[d])));if(X<=Q||X>=Z)break;H=G._at(X,C-1),J=i(X,H),K=Y(U(y,0),U(0,J)),V(K)?(Z=X,M=J,b=K,tt=1,W===-1?$*=.5:$=1,W=-1):(Q=X,y=J,$=1,1===W?tt*=.5:tt=1,W=1)}return p=G._at(.5*(t+X),C-1),G.f[C]=n(X,H),G.x[C]=X,G.y[C]=H,G.ymid[C-1]=p,G.events=b,G.iterations=E,G}}t+=O,r=p,y=M,O=q(.8*O*B(o/v,.25),4*O)}return G.iterations=E,G},numeric.LU=function(t,e){e=e||!1;var r,n,o,a,i,s,u,c,f,l=Math.abs,h=t.length,m=h-1,d=new Array(h);for(e||(t=numeric.clone(t)),o=0;o<h;++o){for(u=o,s=t[o],f=l(s[o]),n=o+1;n<h;++n)a=l(t[n][o]),f<a&&(f=a,u=n);for(d[o]=u,u!=o&&(t[o]=t[u],t[u]=s,s=t[o]),i=s[o],r=o+1;r<h;++r)t[r][o]/=i;for(r=o+1;r<h;++r){for(c=t[r],n=o+1;n<m;++n)c[n]-=c[o]*s[n],++n,c[n]-=c[o]*s[n];n===m&&(c[n]-=c[o]*s[n]);
}}return{LU:t,P:d}},numeric.LUsolve=function(t,e){var r,n,o,a,i,s=t.LU,u=s.length,c=numeric.clone(e),f=t.P;for(r=u-1;r!==-1;--r)c[r]=e[r];for(r=0;r<u;++r)for(o=f[r],f[r]!==r&&(i=c[r],c[r]=c[o],c[o]=i),a=s[r],n=0;n<r;++n)c[r]-=c[n]*a[n];for(r=u-1;r>=0;--r){for(a=s[r],n=r+1;n<u;++n)c[r]-=c[n]*a[n];c[r]/=a[r]}return c},numeric.solve=function(t,e,r){return numeric.LUsolve(numeric.LU(t,r),e)},numeric.echelonize=function(t){var e,r,n,o,a,i,s,u,c=numeric.dim(t),f=c[0],l=c[1],h=numeric.identity(f),m=Array(f),d=Math.abs,p=numeric.diveq;for(t=numeric.clone(t),e=0;e<f;++e){for(n=0,a=t[e],i=h[e],r=1;r<l;++r)d(a[n])<d(a[r])&&(n=r);for(m[e]=n,p(i,a[n]),p(a,a[n]),r=0;r<f;++r)if(r!==e){for(s=t[r],u=s[n],o=l-1;o!==-1;--o)s[o]-=a[o]*u;for(s=h[r],o=f-1;o!==-1;--o)s[o]-=i[o]*u}}return{I:h,A:t,P:m}},numeric.__solveLP=function(t,e,r,n,o,a,i){var s,u,c,f,l=numeric.sum,h=(numeric.log,numeric.mul),m=numeric.sub,d=numeric.dot,p=numeric.div,v=numeric.add,y=t.length,M=r.length,b=!1,x=0,_=1,g=(numeric.transpose(e),numeric.svd,numeric.transpose),S=(numeric.leq,Math.sqrt),w=Math.abs,D=(numeric.muleq,numeric.norminf,numeric.any,Math.min),I=numeric.all,F=numeric.gt,j=Array(y),k=Array(M),A=(numeric.rep([M],1),numeric.solve),P=m(r,d(e,a)),T=d(t,t);for(c=x;c<o;++c){var C,O;for(C=M-1;C!==-1;--C)k[C]=p(e[C],P[C]);var E=g(k);for(C=y-1;C!==-1;--C)j[C]=l(E[C]);_=.25*w(T/d(t,j));var R=100*S(T/d(j,j));for((!isFinite(_)||_>R)&&(_=R),f=v(t,h(_,j)),u=d(E,k),C=y-1;C!==-1;--C)u[C][C]+=1;O=A(u,p(f,_),!0);var z=p(P,d(e,O)),q=1;for(C=M-1;C!==-1;--C)z[C]<0&&(q=D(q,-.999*z[C]));if(s=m(a,h(O,q)),P=m(r,d(e,s)),!I(F(P,0)))return{solution:a,message:"",iterations:c};if(a=s,_<n)return{solution:s,message:"",iterations:c};if(i){var L=d(t,f),N=d(e,f);for(b=!0,C=M-1;C!==-1;--C)if(L*N[C]<0){b=!1;break}}else b=!(a[y-1]>=0);if(b)return{solution:s,message:"Unbounded",iterations:c}}return{solution:a,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,r,n,o){var a,i=t.length,s=r.length,u=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,f=(numeric.div,numeric.add,numeric.rep([i],0).concat([1])),l=numeric.rep([s,1],-1),h=numeric.blockMatrix([[e,l]]),m=r,a=numeric.rep([i],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),d=numeric.__solveLP(f,h,m,n,o,a,!1),p=numeric.clone(d.solution);p.length=i;var v=numeric.inf(u(r,c(e,p)));if(v<0)return{solution:NaN,message:"Infeasible",iterations:d.iterations};var y=numeric.__solveLP(t,e,r,n,o-d.iterations,p,!0);return y.iterations+=d.iterations,y},numeric.solveLP=function(t,e,r,n,o,a,i){if("undefined"==typeof i&&(i=1e3),"undefined"==typeof a&&(a=numeric.epsilon),"undefined"==typeof n)return numeric._solveLP(t,e,r,a,i);var s,u=n.length,c=n[0].length,f=e.length,l=numeric.echelonize(n),h=numeric.rep([c],0),m=l.P,d=[];for(s=m.length-1;s!==-1;--s)h[m[s]]=1;for(s=c-1;s!==-1;--s)0===h[s]&&d.push(s);var p=numeric.getRange,v=numeric.linspace(0,u-1),y=numeric.linspace(0,f-1),M=p(n,v,d),b=p(e,y,m),x=p(e,y,d),_=numeric.dot,g=numeric.sub,S=_(b,l.I),w=g(x,_(S,M)),D=g(r,_(S,o)),I=Array(m.length),F=Array(d.length);for(s=m.length-1;s!==-1;--s)I[s]=t[m[s]];for(s=d.length-1;s!==-1;--s)F[s]=t[d[s]];var j=g(F,_(I,_(l.I,M))),k=numeric._solveLP(j,w,D,a,i),A=k.solution;if(A!==A)return k;var P=_(l.I,g(o,_(M,A))),T=Array(t.length);for(s=m.length-1;s!==-1;--s)T[m[s]]=P[s];for(s=d.length-1;s!==-1;--s)T[d[s]]=A[s];return{solution:T,message:k.message,iterations:k.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+r+": "+t[r]+"\nCurrent state: "+s[i]+"\n")}t instanceof String&&t.split("\n");var r,n,o,a,i=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=t.length,c=0,f={},l=[],h=0,m={},d=0,p=[],v=[],y=[];for(r=0;r<u;++r){o=t[r];var M=o.match(/\S*/g),b=[];for(n=0;n<M.length;++n)""!==M[n]&&b.push(M[n]);if(0!==b.length){for(n=0;n<s.length&&o.substr(0,s[n].length)!==s[n];++n);if(n<s.length){if(i=n,1===n&&(a=b[1]),6===n)return{name:a,c:p,A:numeric.transpose(v),b:y,rows:f,vars:m}}else switch(i){case 0:case 1:e("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:e("Two or more N rows");break;case"L":f[b[1]]=h,l[h]=1,y[h]=0,++h;break;case"G":f[b[1]]=h,l[h]=-1,y[h]=0,++h;break;case"E":f[b[1]]=h,l[h]=0,y[h]=0,++h;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:m.hasOwnProperty(b[0])||(m[b[0]]=d,p[d]=0,v[d]=numeric.rep([h],0),++d);var x=m[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==c){var _=f[b[n]];v[x][_]=(l[_]<0?-1:1)*parseFloat(b[n+1])}else p[x]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)y[f[b[n]]]=(l[f[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,r,n,o,a,i){function s(t){var e,n,o=this,a=t.length,i=0,s=o.i=o.j=o.m=0;for(o.S=[],o.c=[],a||(t=[a++]);i<r;)o.S[i]=i++;for(i=0;i<r;i++)e=o.S[i],s=f(s+e+t[i%a]),n=o.S[s],o.S[i]=n,o.S[s]=e;o.g=function(t){var e=o.S,n=f(o.i+1),a=e[n],i=f(o.j+a),s=e[i];e[n]=s,e[i]=a;for(var u=e[f(a+s)];--t;)n=f(n+1),a=e[n],i=f(i+a),s=e[i],e[n]=s,e[i]=a,u=u*r+e[f(a+s)];return o.i=n,o.j=i,u},o.g(r)}function u(t,e,r,n,o){if(r=[],o=typeof t,e&&"object"==o)for(n in t)if(n.indexOf("S")<5)try{r.push(u(t[n],e-1))}catch(t){}return r.length?r:t+("string"!=o?"\0":"")}function c(t,e,r,n){for(t+="",r=0,n=0;n<t.length;n++)e[f(n)]=f((r^=19*e[f(n)])+t.charCodeAt(n));t="";for(n in e)t+=String.fromCharCode(e[n]);return t}function f(t){return t&r-1}e.seedrandom=function(f,l){var h,m=[];return f=c(u(l?[f,t]:arguments.length?f:[(new Date).getTime(),t,window],3),m),h=new s(m),c(h.S,t),e.random=function(){for(var t=h.g(n),e=i,s=0;t<o;)t=(t+s)*r,e*=r,s=h.g(1);for(;t>=a;)t/=2,e/=2,s>>>=1;return(t+s)/e},f},i=e.pow(r,n),o=e.pow(2,o),a=2*o,c(e.random(),t)}([],numeric.seedrandom,256,6,52),function(t){function e(t){if("object"!=typeof t)return t;var r,n=[],o=t.length;for(r=0;r<o;r++)n[r+1]=e(t[r]);return n}function r(t){if("object"!=typeof t)return t;var e,n=[],o=t.length;for(e=1;e<o;e++)n[e-1]=r(t[e]);return n}function n(t,e,r){var n,o,a,i,s;for(a=1;a<=r;a+=1){for(t[a][a]=1/t[a][a],s=-t[a][a],n=1;n<a;n+=1)t[n][a]=s*t[n][a];if(i=a+1,r<i)break;for(o=i;o<=r;o+=1)for(s=t[a][o],t[a][o]=0,n=1;n<=a;n+=1)t[n][o]=t[n][o]+s*t[n][a]}}function o(t,e,r,n){var o,a,i,s;for(a=1;a<=r;a+=1){for(s=0,o=1;o<a;o+=1)s+=t[o][a]*n[o];n[a]=(n[a]-s)/t[a][a]}for(i=1;i<=r;i+=1)for(a=r+1-i,n[a]=n[a]/t[a][a],s=-n[a],o=1;o<a;o+=1)n[o]=n[o]+s*t[o][a]}function a(t,e,r,n){var o,a,i,s,u,c;for(a=1;a<=r;a+=1){if(n[1]=a,c=0,i=a-1,i<1){if(c=t[a][a]-c,c<=0)break;t[a][a]=Math.sqrt(c)}else{for(s=1;s<=i;s+=1){for(u=t[s][a],o=1;o<s;o+=1)u-=t[o][a]*t[o][s];u/=t[s][s],t[s][a]=u,c+=u*u}if(c=t[a][a]-c,c<=0)break;t[a][a]=Math.sqrt(c)}n[1]=0}}function i(t,e,r,i,s,u,c,f,l,h,m,d,p,v,y,M){function b(){for(v[1]=v[1]+1,I=C,w=1;w<=h;w+=1){for(I+=1,L=-f[w],D=1;D<=i;D+=1)L+=c[D][w]*s[D];if(Math.abs(L)<X&&(L=0),w>m)y[I]=L;else if(y[I]=-Math.abs(L),L>0){for(D=1;D<=i;D+=1)c[D][w]=-c[D][w];f[w]=-f[w]}}for(w=1;w<=p;w+=1)y[C+d[w]]=0;for(E=0,q=0,w=1;w<=h;w+=1)y[C+w]<q*y[z+w]&&(E=w,q=y[C+w]/y[z+w]);return 0===E?999:0}function x(){for(w=1;w<=i;w+=1){for(L=0,D=1;D<=i;D+=1)L+=t[D][w]*c[D][E];y[w]=L}for(F=A,w=1;w<=i;w+=1)y[F+w]=0;for(D=p+1;D<=i;D+=1)for(w=1;w<=i;w+=1)y[F+w]=y[F+w]+t[w][D]*y[D];for(G=!0,w=p;w>=1;w-=1){for(L=y[w],I=T+w*(w+3)/2,F=I-w,D=w+1;D<=p;D+=1)L-=y[I]*y[P+D],I+=D;if(L/=y[F],y[P+w]=L,d[w]<m)break;if(L<0)break;G=!1,k=w}if(!G)for(N=y[O+k]/y[P+k],w=1;w<=p&&!(d[w]<m)&&!(y[P+w]<0);w+=1)q=y[O+w]/y[P+w],q<N&&(N=q,k=w);for(L=0,w=A+1;w<=A+i;w+=1)L+=y[w]*y[w];if(Math.abs(L)<=X){if(G)return M[1]=1,999;for(w=1;w<=p;w+=1)y[O+w]=y[O+w]-N*y[P+w];return y[O+p+1]=y[O+p+1]+N,700}for(L=0,w=1;w<=i;w+=1)L+=y[A+w]*c[w][E];for(B=-y[C+E]/L,H=!0,G||N<B&&(B=N,H=!1),w=1;w<=i;w+=1)s[w]=s[w]+B*y[A+w],Math.abs(s[w])<X&&(s[w]=0);for(u[1]=u[1]+B*L*(B/2+y[O+p+1]),w=1;w<=p;w+=1)y[O+w]=y[O+w]-B*y[P+w];if(y[O+p+1]=y[O+p+1]+B,!H){for(L=-f[E],D=1;D<=i;D+=1)L+=s[D]*c[D][E];if(E>m)y[C+E]=L;else if(y[C+E]=-Math.abs(L),L>0){for(D=1;D<=i;D+=1)c[D][E]=-c[D][E];f[E]=-f[E]}return 700}for(p+=1,d[p]=E,I=T+(p-1)*p/2+1,w=1;w<=p-1;w+=1)y[I]=y[w],I+=1;if(p===i)y[I]=y[i];else{for(w=i;w>=p+1&&0!==y[w]&&(V=Math.max(Math.abs(y[w-1]),Math.abs(y[w])),U=Math.min(Math.abs(y[w-1]),Math.abs(y[w])),q=y[w-1]>=0?Math.abs(V*Math.sqrt(1+U*U/(V*V))):-Math.abs(V*Math.sqrt(1+U*U/(V*V))),V=y[w-1]/q,U=y[w]/q,1!==V);w-=1)if(0===V)for(y[w-1]=U*q,D=1;D<=i;D+=1)q=t[D][w-1],t[D][w-1]=t[D][w],t[D][w]=q;else for(y[w-1]=q,Y=U/(1+V),D=1;D<=i;D+=1)q=V*t[D][w-1]+U*t[D][w],t[D][w]=Y*(t[D][w-1]+q)-t[D][w],t[D][w-1]=q;y[I]=y[p]}return 0}function _(){if(I=T+k*(k+1)/2+1,F=I+k,0===y[F])return 798;if(V=Math.max(Math.abs(y[F-1]),Math.abs(y[F])),U=Math.min(Math.abs(y[F-1]),Math.abs(y[F])),q=y[F-1]>=0?Math.abs(V*Math.sqrt(1+U*U/(V*V))):-Math.abs(V*Math.sqrt(1+U*U/(V*V))),V=y[F-1]/q,U=y[F]/q,1===V)return 798;if(0===V){for(w=k+1;w<=p;w+=1)q=y[F-1],y[F-1]=y[F],y[F]=q,F+=w;for(w=1;w<=i;w+=1)q=t[w][k],t[w][k]=t[w][k+1],t[w][k+1]=q}else{for(Y=U/(1+V),w=k+1;w<=p;w+=1)q=V*y[F-1]+U*y[F],y[F]=Y*(y[F-1]+q)-y[F],y[F-1]=q,F+=w;for(w=1;w<=i;w+=1)q=V*t[w][k]+U*t[w][k+1],t[w][k+1]=Y*(t[w][k]+q)-t[w][k+1],t[w][k]=q}return 0}function g(){for(F=I-k,w=1;w<=k;w+=1)y[F]=y[I],I+=1,F+=1;return y[O+k]=y[O+k+1],d[k]=d[k+1],k+=1,k<p?797:0}function S(){return y[O+p]=y[O+p+1],y[O+p+1]=0,d[p]=0,p-=1,v[2]=v[2]+1,0}var w,D,I,F,j,k,A,P,T,C,O,E,R,z,q,L,N,B,V,U,Y,G,H,X,Q,Z,K;R=Math.min(i,h),I=2*i+R*(R+5)/2+2*h+1,X=1e-60;do X+=X,Q=1+.1*X,Z=1+.2*X;while(Q<=1||Z<=1);for(w=1;w<=i;w+=1)y[w]=e[w];for(w=i+1;w<=I;w+=1)y[w]=0;for(w=1;w<=h;w+=1)d[w]=0;if(j=[],0===M[1]){if(a(t,r,i,j),0!==j[1])return void(M[1]=2);o(t,r,i,e),n(t,r,i)}else{for(D=1;D<=i;D+=1)for(s[D]=0,w=1;w<=D;w+=1)s[D]=s[D]+t[w][D]*e[w];for(D=1;D<=i;D+=1)for(e[D]=0,w=D;w<=i;w+=1)e[D]=e[D]+t[D][w]*s[w]}for(u[1]=0,D=1;D<=i;D+=1)for(s[D]=e[D],u[1]=u[1]+y[D]*s[D],y[D]=0,w=D+1;w<=i;w+=1)t[w][D]=0;for(u[1]=-u[1]/2,M[1]=0,A=i,P=A+i,O=P+R,T=O+R+1,C=T+R*(R+1)/2,z=C+h,w=1;w<=h;w+=1){for(L=0,D=1;D<=i;D+=1)L+=c[D][w]*c[D][w];y[z+w]=Math.sqrt(L)}for(p=0,v[1]=0,v[2]=0,K=0;;){if(K=b(),999===K)return;for(;;){if(K=x(),0===K)break;if(999===K)return;if(700===K)if(k===p)S();else{for(;;)if(_(),K=g(),797!==K)break;S()}}}}function s(t,n,o,a,s,u){t=e(t),n=e(n),o=e(o);var c,f,l,h,m,d,p=[],v=[],y=[],M=[],b=[];if(s=s||0,u=u?e(u):[void 0,0],a=a?e(a):[],f=t.length-1,l=o[1].length-1,!a)for(c=1;c<=l;c+=1)a[c]=0;for(c=1;c<=l;c+=1)v[c]=0;for(h=0,m=Math.min(f,l),c=1;c<=f;c+=1)y[c]=0;for(p[1]=0,c=1;c<=2*f+m*(m+5)/2+2*l+1;c+=1)M[c]=0;for(c=1;c<=2;c+=1)b[c]=0;return i(t,n,f,f,y,p,o,a,f,l,s,v,h,b,M,u),d="",1===u[1]&&(d="constraints are inconsistent, no solution!"),2===u[1]&&(d="matrix D in quadratic function is not positive definite!"),{solution:r(y),value:r(p),unconstrained_solution:r(n),iterations:r(b),iact:r(v),message:d}}t.solveQP=s}(numeric),numeric.svd=function(t){function e(t,e){return t=Math.abs(t),e=Math.abs(e),t>e?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var r,n=numeric.epsilon,o=1e-64/n,a=50,i=0,s=0,u=0,c=0,f=0,l=numeric.clone(t),h=l.length,m=l[0].length;if(h<m)throw"Need more rows than columns";var d=new Array(m),p=new Array(m);for(s=0;s<m;s++)d[s]=p[s]=0;var v=numeric.rep([m,m],0),y=0,M=0,b=0,x=0,_=0,g=0,S=0;for(s=0;s<m;s++){for(d[s]=M,S=0,f=s+1,u=s;u<h;u++)S+=l[u][s]*l[u][s];if(S<=o)M=0;else for(y=l[s][s],M=Math.sqrt(S),y>=0&&(M=-M),b=y*M-S,l[s][s]=y-M,u=f;u<m;u++){for(S=0,c=s;c<h;c++)S+=l[c][s]*l[c][u];for(y=S/b,c=s;c<h;c++)l[c][u]+=y*l[c][s]}for(p[s]=M,S=0,u=f;u<m;u++)S+=l[s][u]*l[s][u];if(S<=o)M=0;else{for(y=l[s][s+1],M=Math.sqrt(S),y>=0&&(M=-M),b=y*M-S,l[s][s+1]=y-M,u=f;u<m;u++)d[u]=l[s][u]/b;for(u=f;u<h;u++){for(S=0,c=f;c<m;c++)S+=l[u][c]*l[s][c];for(c=f;c<m;c++)l[u][c]+=S*d[c]}}_=Math.abs(p[s])+Math.abs(d[s]),_>x&&(x=_)}for(s=m-1;s!=-1;s+=-1){if(0!=M){for(b=M*l[s][s+1],u=f;u<m;u++)v[u][s]=l[s][u]/b;for(u=f;u<m;u++){for(S=0,c=f;c<m;c++)S+=l[s][c]*v[c][u];for(c=f;c<m;c++)v[c][u]+=S*v[c][s]}}for(u=f;u<m;u++)v[s][u]=0,v[u][s]=0;v[s][s]=1,M=d[s],f=s}for(s=m-1;s!=-1;s+=-1){for(f=s+1,M=p[s],u=f;u<m;u++)l[s][u]=0;if(0!=M){for(b=l[s][s]*M,u=f;u<m;u++){for(S=0,c=f;c<h;c++)S+=l[c][s]*l[c][u];for(y=S/b,c=s;c<h;c++)l[c][u]+=y*l[c][s]}for(u=s;u<h;u++)l[u][s]=l[u][s]/M}else for(u=s;u<h;u++)l[u][s]=0;l[s][s]+=1}for(n*=x,c=m-1;c!=-1;c+=-1)for(var w=0;w<a;w++){var D=!1;for(f=c;f!=-1;f+=-1){if(Math.abs(d[f])<=n){D=!0;break}if(Math.abs(p[f-1])<=n)break}if(!D){i=0,S=1;var I=f-1;for(s=f;s<c+1&&(y=S*d[s],d[s]=i*d[s],!(Math.abs(y)<=n));s++)for(M=p[s],b=e(y,M),p[s]=b,i=M/b,S=-y/b,u=0;u<h;u++)_=l[u][I],g=l[u][s],l[u][I]=_*i+g*S,l[u][s]=-_*S+g*i}if(g=p[c],f==c){if(g<0)for(p[c]=-g,u=0;u<m;u++)v[u][c]=-v[u][c];break}if(w>=a-1)throw"Error: no convergence.";for(x=p[f],_=p[c-1],M=d[c-1],b=d[c],y=((_-g)*(_+g)+(M-b)*(M+b))/(2*b*_),M=e(y,1),y=y<0?((x-g)*(x+g)+b*(_/(y-M)-b))/x:((x-g)*(x+g)+b*(_/(y+M)-b))/x,i=1,S=1,s=f+1;s<c+1;s++){for(M=d[s],_=p[s],b=S*M,M=i*M,g=e(y,b),d[s-1]=g,i=y/g,S=b/g,y=x*i+M*S,M=-x*S+M*i,b=_*S,_*=i,u=0;u<m;u++)x=v[u][s-1],g=v[u][s],v[u][s-1]=x*i+g*S,v[u][s]=-x*S+g*i;for(g=e(y,b),p[s-1]=g,i=y/g,S=b/g,y=i*M+S*_,x=-S*M+i*_,u=0;u<h;u++)_=l[u][s-1],g=l[u][s],l[u][s-1]=_*i+g*S,l[u][s]=-_*S+g*i}d[f]=0,d[c]=y,p[c]=x}for(s=0;s<p.length;s++)p[s]<n&&(p[s]=0);for(s=0;s<m;s++)for(u=s-1;u>=0;u--)if(p[u]<p[s]){for(i=p[u],p[u]=p[s],p[s]=i,c=0;c<l.length;c++)r=l[c][s],l[c][s]=l[c][u],l[c][u]=r;for(c=0;c<v.length;c++)r=v[c][s],v[c][s]=v[c][u],v[c][u]=r;s=u}return{U:l,S:p,V:v}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],123:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=new i.default(function(e,r){var n=t.inputSamples,o=t.inputSampleRate,a="undefined"!=typeof t.outputSampleRate?t.outputSampleRate:o;if(o===a)e(new Float32Array(n));else try{var i=Math.ceil(n.length*a/o),s=new window.OfflineAudioContext(1,i,a),u=s.createBuffer(1,n.length,o);u.getChannelData(0).set(n);var c=s.createBufferSource();c.buffer=u,c.connect(s.destination),c.start(),s.oncomplete=function(t){var r=t.renderedBuffer.getChannelData(0);e(r)},s.startRendering()}catch(t){r(new Error("Unable to re-sample Float32Array. "+t.message))}});return e}Object.defineProperty(r,"__esModule",{value:!0});var a=t("babel-runtime/core-js/promise"),i=n(a);r.resampleFloat32Array=o,r.default={resampleFloat32Array:o}},{"babel-runtime/core-js/promise":16}],124:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e.x-t.x,n=e.y-t.y,o=e.z-t.z;return r*r+n*n+o*o}function a(t,e){return Math.sqrt(this.distanceSquared(t,e))}Object.defineProperty(r,"__esModule",{value:!0}),r.tree=void 0,r.distanceSquared=o,r.distance=a;var i=t("kd.tree"),s=n(i);r.tree=s.default,r.default={distance:a,distanceSquared:o,tree:s.default}},{"kd.tree":144}],125:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=0-n,t[1]=o,t[2]=0-r,t}function a(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=0-o,t[1]=0-r,t[2]=n,t}function i(t,e){var r=e[0],n=e[1],o=e[2],a=r*r+n*n;return t[0]=(_.default.atan2(n,r)+360)%360,t[1]=_.default.atan2(o,Math.sqrt(a)),t[2]=Math.sqrt(a+o*o),t}function s(t,e){var r=e[0],n=e[1],o=e[2],a=_.default.cos(n);return t[0]=o*a*_.default.cos(r),t[1]=o*a*_.default.sin(r),t[2]=o*_.default.sin(n),t}function u(t,e){var r=e[0],n=e[1],o=e[2],a=_.default.cos(n);return t[0]=0-o*a*_.default.sin(r),t[1]=o*_.default.sin(n),t[2]=0-o*a*_.default.cos(r),t}function c(t,e){var r=0-e[2],n=0-e[0],o=e[1],a=r*r+n*n;return t[0]=(_.default.atan2(n,r)+360)%360,t[1]=_.default.atan2(o,Math.sqrt(a)),t[2]=Math.sqrt(a+o*o),t}function f(t,e,r){switch(r){case"sofaCartesian":t[0]=e[0],t[1]=e[1],t[2]=e[2];break;case"sofaSpherical":s(t,e);break;default:throw new Error("Bad coordinate system")}return t}function l(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=o,t[2]=0-n,t}function h(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=0-o,t[2]=n,t}function m(t,e){var r=e[0],n=e[1],o=e[2],a=r*r+n*n;return t[0]=_.default.atan2(r,n),t[1]=_.default.atan2(o,Math.sqrt(a)),t[2]=Math.sqrt(a+o*o),t}function d(t,e){var r=e[0],n=e[1],o=e[2],a=_.default.cos(n);return t[0]=o*a*_.default.sin(r),t[1]=o*a*_.default.cos(r),t[2]=o*_.default.sin(n),t}function p(t,e){var r=e[0],n=e[1],o=e[2],a=_.default.cos(n);return t[0]=o*a*_.default.sin(r),t[1]=o*_.default.sin(n),t[2]=0-o*a*_.default.cos(r),t}function v(t,e){var r=e[0],n=0-e[2],o=e[1],a=r*r+n*n;return t[0]=_.default.atan2(r,n),t[1]=_.default.atan2(o,Math.sqrt(a)),t[2]=Math.sqrt(a+o*o),t}function y(t){var e=void 0;if("sofaCartesian"===t||"spat4Cartesian"===t||"gl"===t)e="cartesian";else{if("sofaSpherical"!==t&&"spat4Spherical"!==t)throw new Error("Unknown coordinate system type "+t);e="spherical"}return e}function M(t,e,r){switch(r){case"gl":t[0]=e[0],t[1]=e[1],t[2]=e[2];break;case"sofaCartesian":o(t,e);break;case"sofaSpherical":u(t,e);break;case"spat4Cartesian":l(t,e);break;case"spat4Spherical":p(t,e);break;default:throw new Error("Bad coordinate system")}return t}function b(t,e,r){switch(r){case"gl":t[0]=e[0],t[1]=e[1],t[2]=e[2];break;case"sofaCartesian":a(t,e);break;case"sofaSpherical":c(t,e);break;case"spat4Cartesian":h(t,e);break;case"spat4Spherical":v(t,e);break;default:throw new Error("Bad coordinate system")}return t}Object.defineProperty(r,"__esModule",{value:!0}),r.sofaCartesianToGl=o,r.glToSofaCartesian=a,r.sofaCartesianToSofaSpherical=i,r.sofaSphericalToSofaCartesian=s,r.sofaSphericalToGl=u,r.glToSofaSpherical=c,r.sofaToSofaCartesian=f,r.spat4CartesianToGl=l,r.glToSpat4Cartesian=h,r.spat4CartesianToSpat4Spherical=m,r.spat4SphericalToSpat4Cartesian=d,r.spat4SphericalToGl=p,r.glToSpat4Spherical=v,r.systemType=y,r.systemToGl=M,r.glToSystem=b;var x=t("./degree"),_=n(x);r.default={glToSofaCartesian:a,glToSofaSpherical:c,glToSpat4Cartesian:h,glToSpat4Spherical:v,glToSystem:b,sofaCartesianToGl:o,sofaCartesianToSofaSpherical:i,sofaSphericalToGl:u,sofaSphericalToSofaCartesian:s,sofaToSofaCartesian:f,spat4CartesianToGl:l,spat4CartesianToSpat4Spherical:m,spat4SphericalToGl:p,spat4SphericalToSpat4Cartesian:d,systemToGl:M,systemType:y}},{"./degree":126}],126:[function(t,e,r){"use strict";function n(t){return t*u}function o(t){return t*c}function a(t){return Math.cos(t*u)}function i(t){return Math.sin(t*u)}function s(t,e){return Math.atan2(t,e)*c}Object.defineProperty(r,"__esModule",{value:!0}),r.toRadian=n,r.fromRadian=o,r.cos=a,r.sin=i,r.atan2=s;var u=r.toRadianFactor=Math.PI/180,c=r.fromRadianFactor=1/u;r.default={atan2:s,cos:a,fromRadian:o,fromRadianFactor:c,sin:i,toRadian:n,toRadianFactor:u}},{}],127:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.ServerDataBase=r.HrtfSet=void 0;var o=t("./sofa/HrtfSet"),a=n(o),i=t("./sofa/ServerDataBase"),s=n(i);r.HrtfSet=a.default,r.ServerDataBase=s.default,r.default={HrtfSet:a.default,ServerDataBase:s.default}},{"./sofa/HrtfSet":129,"./sofa/ServerDataBase":130}],128:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.version=r.name=r.license=r.description=void 0;var o=t("../package.json"),a=n(o),i=a.default.description;r.description=i;var s=a.default.license;r.license=s;var u=a.default.name;r.name=u;var c=a.default.version;r.version=c,r.default={description:i,license:s,name:u,version:c}},{"../package.json":145}],129:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.HrtfSet=void 0;var o=t("babel-runtime/core-js/promise"),a=n(o),i=t("babel-runtime/core-js/set"),s=n(i),u=t("babel-runtime/helpers/toConsumableArray"),c=n(u),f=t("babel-runtime/helpers/classCallCheck"),l=n(f),h=t("babel-runtime/helpers/createClass"),m=n(h),d=t("gl-matrix"),p=n(d),v=t("../info"),y=n(v),M=t("./parseDataSet"),b=t("./parseSofa"),x=t("../geometry/coordinates"),_=n(x),g=t("../geometry/KdTree"),S=n(g),w=t("../audio/utilities"),D=r.HrtfSet=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,l.default)(this,t),this._audioContext=e.audioContext,this._ready=!1,this.coordinateSystem=e.coordinateSystem,this.filterCoordinateSystem=e.filterCoordinateSystem,this.filterPositions=e.filterPositions,this.filterAfterLoad=e.filterAfterLoad}return(0,m.default)(t,[{key:"applyFilterPositions",value:function(){var t=this,e=this._filterPositions.map(function(e){return t._kdt.nearest({x:e[0],y:e[1],z:e[2]},1).pop()[0]});e=[].concat((0,c.default)(new s.default(e))),this._kdt=S.default.tree.createKdTree(e,S.default.distanceSquared,["x","y","z"])}},{key:"load",value:function(t){var e=this,r=t.split(".").pop(),n="sofa"===r?t+".json":t,o=void 0,i="undefined"!=typeof this._filterPositions&&!this.filterAfterLoad&&"sofa"===r;return o=i?a.default.all([this._loadMetaAndPositions(t),this._loadDataSet(t)]).then(function(r){var n=r[0],o=r[1];return e._loadSofaPartial(t,n,o).then(function(){return e._ready=!0,e})}).catch(function(){return e._loadSofaFull(n).then(function(){return e.applyFilterPositions(),e._ready=!0,e})}):this._loadSofaFull(n).then(function(){return"undefined"!=typeof e._filterPositions&&e.filterAfterLoad&&e.applyFilterPositions(),e._ready=!0,e})}},{key:"export",value:function(){var t=this,e=void 0,r=_.default.systemType(this.filterCoordinateSystem);switch(r){case"cartesian":e=this._sofaSourcePosition.map(function(t){return _.default.glToSofaCartesian([],t)});break;case"spherical":e=this._sofaSourcePosition.map(function(t){return _.default.glToSofaSpherical([],t)});break;default:throw new Error("Bad source position type "+r+" for export.")}var n=this._sofaSourcePosition.map(function(e){for(var r=t._kdt.nearest({x:e[0],y:e[1],z:e[2]},1).pop()[0].fir,n=[],o=0;o<r.numberOfChannels;++o)n.push([].concat((0,c.default)(r.getChannelData(o))));return n});return(0,b.stringifySofa)({name:this._sofaName,metaData:this._sofaMetaData,ListenerPosition:[0,0,0],ListenerPositionType:"cartesian",ListenerUp:[0,0,1],ListenerUpType:"cartesian",ListenerView:[1,0,0],ListenerViewType:"cartesian",SourcePositionType:r,SourcePosition:e,DataSamplingRate:this._audioContext.sampleRate,DataDelay:this._sofaDelay,DataIR:n,RoomVolume:this._sofaRoomVolume})}},{key:"nearest",value:function t(e){var r=_.default.systemToGl([],e,this.coordinateSystem),t=this._kdt.nearest({x:r[0],y:r[1],z:r[2]},1).pop(),n=t[0];return _.default.glToSystem(r,[n.x,n.y,n.z],this.coordinateSystem),{distance:t[1],fir:n.fir,index:n.index,position:r}}},{key:"nearestFir",value:function(t){return this.nearest(t).fir}},{key:"_createKdTree",value:function(t){var e=this,r=t.map(function(t){var r=t[2],n=e._audioContext.createBuffer(r.length,r[0].length,e._audioContext.sampleRate);return r.forEach(function(t,e){n.getChannelData(e).set(t)}),{index:t[0],x:t[1][0],y:t[1][1],z:t[1][2],fir:n}});return this._sofaSourcePosition=r.map(function(t){return[t.x,t.y,t.z]}),this._kdt=S.default.tree.createKdTree(r,S.default.distanceSquared,["x","y","z"]),this}},{key:"_generateIndicesPositionsFirs",value:function(t,e,r){var n=this,o=r.map(function(r,o){var i=r.length;if(2!==i)throw new Error("Bad number of channels for IR index "+t[o]+(" ("+i+" instead of 2)"));var s=r.map(function(t){return(0,w.resampleFloat32Array)({inputSamples:t,inputSampleRate:n._sofaSampleRate,outputSampleRate:n._audioContext.sampleRate})});return a.default.all(s).then(function(r){return[t[o],e[o],r]}).catch(function(t){throw new Error("Unable to re-sample impulse response "+o+". "+t.message)})});return a.default.all(o)}},{key:"_loadDataSet",value:function(t){var e=new a.default(function(e,r){var n=t+".dds",o=new window.XMLHttpRequest;o.open("GET",n),o.onerror=function(){r(new Error("Unable to GET "+n+", status "+o.status+" "+o.responseText))},o.onload=function(){if(o.status<200||o.status>=300)return void o.onerror();try{var t=(0,M.parseDataSet)(o.response);e(t)}catch(t){r(new Error("Unable to parse "+n+". "+t.message))}},o.send()});return e}},{key:"_loadMetaAndPositions",value:function(t){var e=this,r=new a.default(function(r,n){var o=t+".json?ListenerPosition,ListenerUp,ListenerView,SourcePosition,Data.Delay,Data.SamplingRate,EmitterPosition,ReceiverPosition,RoomVolume",a=new window.XMLHttpRequest;a.open("GET",o),a.onerror=function(){n(new Error("Unable to GET "+o+", status "+a.status+" "+a.responseText))},a.onload=function(){if(a.status<200||a.status>=300)return void a.onerror();try{!function(){var n=(0,b.parseSofa)(a.response);e._setMetaData(n,t);var o=e._sourcePositionsToGl(n),i=o.map(function(t,e){return{x:t[0],y:t[1],z:t[2],index:e}}),u=S.default.tree.createKdTree(i,S.default.distanceSquared,["x","y","z"]),f=e._filterPositions.map(function(t){return u.nearest({x:t[0],y:t[1],z:t[2]},1).pop()[0].index});f=[].concat((0,c.default)(new s.default(f))),e._sofaUrl=t,r(f)}()}catch(t){n(new Error("Unable to parse "+o+". "+t.message))}},a.send()});return r}},{key:"_loadSofaFull",value:function(t){var e=this,r=new a.default(function(r,n){var o=new window.XMLHttpRequest;o.open("GET",t),o.onerror=function(){n(new Error("Unable to GET "+t+", status "+o.status+" "+o.responseText))},o.onload=function(){if(o.status<200||o.status>=300)return void o.onerror();try{var a=(0,b.parseSofa)(o.response);e._setMetaData(a,t);var i=e._sourcePositionsToGl(a);e._generateIndicesPositionsFirs(i.map(function(t,e){return e}),i,a["Data.IR"].data).then(function(n){e._createKdTree(n),e._sofaUrl=t,r(e)})}catch(e){n(new Error("Unable to parse "+t+". "+e.message))}},o.send()});return r}},{key:"_loadSofaPartial",value:function(t,e,r){var n=this,o=e.map(function(e){var o=new a.default(function(o,a){var i=t+".json?"+("SourcePosition["+e+"][0:1:"+(r.SourcePosition.C-1)+"],")+("Data.IR["+e+"][0:1:"+(r["Data.IR"].R-1)+"]")+("[0:1:"+(r["Data.IR"].N-1)+"]"),s=new window.XMLHttpRequest;s.open("GET",i),s.onerror=function(){a(new Error("Unable to GET "+i+", status "+s.status+" "+s.responseText))},s.onload=function(){(s.status<200||s.status>=300)&&s.onerror();try{var t=(0,b.parseSofa)(s.response),r=n._sourcePositionsToGl(t);n._generateIndicesPositionsFirs([e],r,t["Data.IR"].data).then(function(t){o(t[0])})}catch(t){a(new Error("Unable to parse "+i+". "+t.message))}},s.send()});return o});return a.default.all(o).then(function(t){return n._createKdTree(t),n})}},{key:"_setMetaData",value:function(t,e){if("undefined"!=typeof t.metaData.DataType&&"FIR"!==t.metaData.DataType)throw new Error("According to meta-data, SOFA data type is not FIR");var r=(new Date).toISOString();this._sofaName="undefined"!=typeof t.name?""+t.name:"HRTF.sofa",this._sofaMetaData="undefined"!=typeof t.metaData?t.metaData:{},"undefined"!=typeof e&&(this._sofaMetaData.OriginalUrl=e),this._sofaMetaData.Converter="Ircam "+y.default.name+" "+y.default.version+" javascript API ",this._sofaMetaData.DateConverted=r,this._sofaSampleRate="undefined"!=typeof t["Data.SamplingRate"]?t["Data.SamplingRate"].data[0]:48e3,this._sofaSampleRate!==this._audioContext.sampleRate&&(this._sofaMetaData.OriginalSampleRate=this._sofaSampleRate),this._sofaDelay="undefined"!=typeof t["Data.Delay"]?t["Data.Delay"].data[0]:0,this._sofaRoomVolume="undefined"!=typeof t.RoomVolume?t.RoomVolume.data[0]:void 0;var n=_.default.sofaToSofaCartesian([],t.ListenerPosition.data[0],(0,b.conformSofaCoordinateSystem)(t.ListenerPosition.Type||"cartesian")),o=_.default.sofaToSofaCartesian([],t.ListenerView.data[0],(0,b.conformSofaCoordinateSystem)(t.ListenerView.Type||"cartesian")),a=_.default.sofaToSofaCartesian([],t.ListenerUp.data[0],(0,b.conformSofaCoordinateSystem)(t.ListenerUp.Type||"cartesian"));this._sofaToGl=p.default.mat4.lookAt([],n,o,a)}},{key:"_sourcePositionsToGl",value:function(t){var e=this,r=t.SourcePosition.data,n="undefined"!=typeof t.SourcePosition.Type?t.SourcePosition.Type:"spherical";switch(n){case"cartesian":r.forEach(function(t){p.default.vec3.transformMat4(t,t,e._sofaToGl)});break;case"spherical":r.forEach(function(t){_.default.sofaSphericalToSofaCartesian(t,t),p.default.vec3.transformMat4(t,t,e._sofaToGl)});break;default:throw new Error("Bad source position type")}return r}},{key:"coordinateSystem",set:function(t){this._coordinateSystem="undefined"!=typeof t?t:"gl"},get:function(){return this._coordinateSystem}},{key:"filterCoordinateSystem",set:function(t){this._filterCoordinateSystem="undefined"!=typeof t?t:this.coordinateSystem},get:function(){return this._filterCoordinateSystem}},{key:"filterPositions",set:function(t){if("undefined"==typeof t)this._filterPositions=void 0;else switch(this.filterCoordinateSystem){case"gl":this._filterPositions=t.map(function(t){return t.slice(0)});break;case"sofaCartesian":this._filterPositions=t.map(function(t){return _.default.sofaCartesianToGl([],t)});break;case"sofaSpherical":this._filterPositions=t.map(function(t){return _.default.sofaSphericalToGl([],t)});break;default:throw new Error("Bad filter coordinate system")}},get:function(){var t=void 0;if("undefined"!=typeof this._filterPositions)switch(this.filterCoordinateSystem){case"gl":t=this._filterPositions.map(function(t){return t.slice(0)});break;case"sofaCartesian":t=this._filterPositions.map(function(t){return _.default.glToSofaCartesian([],t)});break;case"sofaSpherical":t=this._filterPositions.map(function(t){return _.default.glToSofaSpherical([],t)});break;default:throw new Error("Bad filter coordinate system")}return t}},{key:"filterAfterLoad",set:function(t){this._filterAfterLoad="undefined"!=typeof t&&t},get:function(){return this._filterAfterLoad}},{key:"isReady",get:function(){return this._ready}},{key:"sofaName",get:function(){return this._sofaName}},{key:"sofaUrl",get:function(){return this._sofaUrl}},{key:"sofaSampleRate",get:function(){return this._sofaSampleRate}},{key:"sofaMetaData",get:function(){return this._sofaMetaData}}]),t}();r.default=D},{"../audio/utilities":123,"../geometry/KdTree":124,"../geometry/coordinates":125,"../info":128,"./parseDataSet":131,"./parseSofa":132,"babel-runtime/core-js/promise":16,"babel-runtime/core-js/set":17,"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21,"babel-runtime/helpers/toConsumableArray":22,"gl-matrix":134}],130:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.ServerDataBase=void 0;var o=t("babel-runtime/core-js/promise"),a=n(o),i=t("babel-runtime/helpers/classCallCheck"),s=n(i),u=t("babel-runtime/helpers/createClass"),c=n(u),f=t("./parseXml"),l=n(f),h=t("./parseDataSet"),m=r.ServerDataBase=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if((0,s.default)(this,t),this._server=e.serverUrl,"undefined"==typeof this._server){var r="https:"===window.location.protocol?"https:":"http:";this._server=r+"//bili2.ircam.fr"}this._catalogue={},this._urls=[]}return(0,c.default)(t,[{key:"loadCatalogue",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this._server+"/catalog.xml":arguments[0],r=arguments.length<=1||void 0===arguments[1]?this._catalogue:arguments[1],n=new a.default(function(n,o){var i=new window.XMLHttpRequest;i.open("GET",e),i.onerror=function(){o(new Error("Unable to GET "+e+", status "+i.status+" "+i.responseText))},i.onload=function(){if(i.status<200||i.status>=300)return void i.onerror();var s=(0,l.default)(i.response),u=s.querySelector("dataset"),c=s.querySelectorAll("dataset > catalogRef");if(0===c.length){r.urls=[];for(var f=s.querySelectorAll("dataset > dataset"),h=0;h<f.length;++h){var m=t._server+u.getAttribute("name")+"/"+f[h].getAttribute("name");t._urls.push(m),r.urls.push(m)}n(e)}else{for(var d=[],p=0;p<c.length;++p){var v=c[p].getAttribute("name"),y=t._server+u.getAttribute("name")+"/"+c[p].getAttribute("xlink:href");r[v]={},d.push(t.loadCatalogue(y,r[v]))}a.default.all(d).then(function(){t._urls.sort(),n(e)}).catch(function(t){o(t)})}},i.send()});return n}},{key:"getUrls",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[t.convention,t.dataBase,t.equalisation,t.sampleRate,t.sosOrder],r="number"==typeof t.freePattern?t.freePattern.toString():t.freePattern,n=e.reduce(function(t,e){
return t+"/"+("undefined"!=typeof e?"[^/]*(?:"+e+")[^/]*":"[^/]*")},""),o=new RegExp(n,"i"),a=this._urls.filter(function(t){return o.test(t)});if("undefined"!=typeof r){var i=r.split(/\s+/);i.forEach(function(t){o=new RegExp(t,"i"),a=a.filter(function(t){return o.test(t)})})}return a}},{key:"getDataSetDefinitions",value:function(t){var e=new a.default(function(e,r){var n=t+".dds",o=new window.XMLHttpRequest;o.open("GET",n),o.onerror=function(){r(new Error("Unable to GET "+n+", status "+o.status+" "+o.responseText))},o.onload=function(){return o.status<200||o.status>=300?void o.onerror():void e((0,h.parseDataSet)(o.response))},o.send()});return e}},{key:"getSourcePositions",value:function(t){var e=new a.default(function(e,r){var n=t+".json?SourcePosition",o=new window.XMLHttpRequest;o.open("GET",n),o.onerror=function(){r(new Error("Unable to GET "+n+", status "+o.status+" "+o.responseText))},o.onload=function(){if(o.status<200||o.status>=300)return void o.onerror();try{var t=JSON.parse(o.response);if("SourcePosition"!==t.leaves[0].name)throw new Error("SourcePosition not found");e(t.leaves[0].data)}catch(t){r(new Error("Unable to parse response from "+n+". "+t.message))}},o.send()});return e}}]),t}();r.default=m},{"./parseDataSet":131,"./parseXml":133,"babel-runtime/core-js/promise":16,"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],131:[function(t,e,r){"use strict";function n(t){var e=[],r=t.match(s);return null!==r&&r.forEach(function(t){var r=u.exec(t);null!==r&&r.length>2&&e.push([r[1],Number(r[2])])}),e}function o(t){var e=[],r=t.match(f);return null!==r&&r.forEach(function(t){var r=l.exec(t);null!==r&&r.length>3&&!function(){var t=[];t[0]=r[2],t[1]={},t[1].type=r[1],n(r[3]).forEach(function(e){t[1][e[0]]=e[1]}),e.push(t)}()}),e}function a(t){var e={},r=m.exec(t);return null!==r&&r.length>1&&o(r[1]).forEach(function(t){e[t[0]]=t[1]}),e}Object.defineProperty(r,"__esModule",{value:!0}),r._parseDimension=n,r._parseDefinition=o,r.parseDataSet=a;var i="\\[\\s*(\\w+)\\s*=\\s*(\\d+)\\s*\\]",s=new RegExp(i,"g"),u=new RegExp(i),c="\\s*(\\w+)\\s*([\\w.]+)\\s*((?:\\[[^\\]]+\\]\\s*)+);\\s*",f=new RegExp(c,"g"),l=new RegExp(c),h="\\s*Dataset\\s*\\{\\s*((?:[^;]+;\\s*)*)\\s*\\}\\s*[\\w.]+\\s*;\\s*",m=new RegExp(h);r.default=a},{}],132:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){try{var e=function(){var e=JSON.parse(t),r={};if(r.name=e.name,"undefined"!=typeof e.attributes){r.metaData={};var n=e.attributes.find(function(t){return"NC_GLOBAL"===t.name});"undefined"!=typeof n&&n.attributes.forEach(function(t){r.metaData[t.name]=t.value[0]})}if("undefined"!=typeof e.leaves){var o=e.leaves;o.forEach(function(t){r[t.name]={},t.attributes.forEach(function(e){r[t.name][e.name]=e.value[0]}),r[t.name].shape=t.shape,r[t.name].data=t.data})}return{v:r}}();if("object"===("undefined"==typeof e?"undefined":(0,f.default)(e)))return e.v}catch(t){throw new Error("Unable to parse SOFA string. "+t.message)}}function a(t){var e={};if("undefined"!=typeof t.name&&(e.name=t.name),"undefined"!=typeof t.metaData){e.attributes=[];var r={name:"NC_GLOBAL",attributes:[]};for(var n in t.metaData)t.metaData.hasOwnProperty(n)&&r.attributes.push({name:n,value:[t.metaData[n]]});e.attributes.push(r)}var o="Float64",a=void 0;if(e.leaves=[],[["ListenerPosition","ListenerPositionType"],["ListenerUp","ListenerUpType"],["ListenerView","ListenerViewType"]].forEach(function(r){var n=r[0],i=t[n],s=t[r[1]];if("undefined"!=typeof i){switch(s){case"cartesian":a=[{name:"Type",value:["cartesian"]},{name:"Units",value:["metre, metre, metre"]}];break;case"spherical":a=[{name:"Type",value:["spherical"]},{name:"Units",value:["degree, degree, metre"]}];break;default:throw new Error("Unknown coordinate system type "+(s+" for "+i))}e.leaves.push({name:n,type:o,attributes:a,shape:[1,3],data:[i]})}}),"undefined"!=typeof t.SourcePosition){switch(t.SourcePositionType){case"cartesian":a=[{name:"Type",value:["cartesian"]},{name:"Units",value:["metre, metre, metre"]}];break;case"spherical":a=[{name:"Type",value:["spherical"]},{name:"Units",value:["degree, degree, metre"]}];break;default:throw new Error("Unknown coordinate system type "+t.SourcePositionType)}e.leaves.push({name:"SourcePosition",type:o,attributes:a,shape:[t.SourcePosition.length,t.SourcePosition[0].length],data:t.SourcePosition})}if("undefined"==typeof t.DataSamplingRate)throw new Error("No data sampling-rate");if(e.leaves.push({name:"Data.SamplingRate",type:o,attributes:[{name:"Unit",value:"hertz"}],shape:[1],data:[t.DataSamplingRate]}),"undefined"!=typeof t.DataDelay&&e.leaves.push({name:"Data.Delay",type:o,attributes:[],shape:[1,t.DataDelay.length],data:[t.DataDelay]}),"undefined"==typeof t.DataIR)throw new Error("No data IR");return e.leaves.push({name:"Data.IR",type:o,attributes:[],shape:[t.DataIR.length,t.DataIR[0].length,t.DataIR[0][0].length],data:t.DataIR}),"undefined"!=typeof t.RoomVolume&&e.leaves.push({name:"RoomVolume",type:o,attributes:[{name:"Units",value:["cubic metre"]}],shape:[1],data:[t.RoomVolume]}),e.nodes=[],(0,u.default)(e)}function i(t){var e=void 0;switch(t){case"cartesian":e="sofaCartesian";break;case"spherical":e="sofaSpherical";break;default:throw new Error("Bad SOFA type "+t)}return e}Object.defineProperty(r,"__esModule",{value:!0});var s=t("babel-runtime/core-js/json/stringify"),u=n(s),c=t("babel-runtime/helpers/typeof"),f=n(c);r.parseSofa=o,r.stringifySofa=a,r.conformSofaCoordinateSystem=i,r.default={parseSofa:o,conformSofaCoordinateSystem:i}},{"babel-runtime/core-js/json/stringify":14,"babel-runtime/helpers/typeof":23}],133:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=r.parseXml=void 0;if("undefined"!=typeof window.DOMParser)r.parseXml=n=function(t){return(new window.DOMParser).parseFromString(t,"text/xml")};else{if("undefined"==typeof window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw new Error("No XML parser found");r.parseXml=n=function(t){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}}r.default=n},{}],134:[function(t,e,r){r.glMatrix=t("./gl-matrix/common.js"),r.mat2=t("./gl-matrix/mat2.js"),r.mat2d=t("./gl-matrix/mat2d.js"),r.mat3=t("./gl-matrix/mat3.js"),r.mat4=t("./gl-matrix/mat4.js"),r.quat=t("./gl-matrix/quat.js"),r.vec2=t("./gl-matrix/vec2.js"),r.vec3=t("./gl-matrix/vec3.js"),r.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":135,"./gl-matrix/mat2.js":136,"./gl-matrix/mat2d.js":137,"./gl-matrix/mat3.js":138,"./gl-matrix/mat4.js":139,"./gl-matrix/quat.js":140,"./gl-matrix/vec2.js":141,"./gl-matrix/vec3.js":142,"./gl-matrix/vec4.js":143}],135:[function(t,e,r){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var o=Math.PI/180;n.toRadian=function(t){return t*o},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=n},{}],136:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.fromValues=function(t,e,r,o){var a=new n.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=o,a},o.set=function(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t},o.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},o.invert=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r*a-o*n;return i?(i=1/i,t[0]=a*i,t[1]=-n*i,t[2]=-o*i,t[3]=r*i,t):null},o.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=r[0],u=r[1],c=r[2],f=r[3];return t[0]=n*s+a*u,t[1]=o*s+i*u,t[2]=n*c+a*f,t[3]=o*c+i*f,t},o.mul=o.multiply,o.rotate=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=o*u+i*s,t[2]=n*-s+a*u,t[3]=o*-s+i*u,t},o.scale=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=o*s,t[2]=a*u,t[3]=i*u,t},o.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},o.sub=o.subtract,o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var r=t[0],o=t[1],a=t[2],i=t[3],s=e[0],u=e[1],c=e[2],f=e[3];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))},o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.exports=o},{"./common.js":135}],137:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.fromValues=function(t,e,r,o,a,i){var s=new n.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=r,s[3]=o,s[4]=a,s[5]=i,s},o.set=function(t,e,r,n,o,a,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=i,t},o.invert=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=r*a-n*o;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-o*u,t[3]=r*u,t[4]=(o*s-a*i)*u,t[5]=(n*i-r*s)*u,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=r[0],f=r[1],l=r[2],h=r[3],m=r[4],d=r[5];return t[0]=n*c+a*f,t[1]=o*c+i*f,t[2]=n*l+a*h,t[3]=o*l+i*h,t[4]=n*m+a*d+s,t[5]=o*m+i*d+u,t},o.mul=o.multiply,o.rotate=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=Math.sin(r),f=Math.cos(r);return t[0]=n*f+a*c,t[1]=o*f+i*c,t[2]=n*-c+a*f,t[3]=o*-c+i*f,t[4]=s,t[5]=u,t},o.scale=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=r[0],f=r[1];return t[0]=n*c,t[1]=o*c,t[2]=a*f,t[3]=i*f,t[4]=s,t[5]=u,t},o.translate=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=r[0],f=r[1];return t[0]=n,t[1]=o,t[2]=a,t[3]=i,t[4]=n*c+a*f+s,t[5]=o*c+i*f+u,t},o.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},o.equals=function(t,e){var r=t[0],o=t[1],a=t[2],i=t[3],s=t[4],u=t[5],c=e[0],f=e[1],l=e[2],h=e[3],m=e[4],d=e[5];return Math.abs(r-c)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-f)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-m)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-d)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))},e.exports=o},{"./common.js":135}],138:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},o.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromValues=function(t,e,r,o,a,i,s,u,c){var f=new n.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=r,f[3]=o,f[4]=a,f[5]=i,f[6]=s,f[7]=u,f[8]=c,f},o.set=function(t,e,r,n,o,a,i,s,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=i,t[6]=s,t[7]=u,t[8]=c,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},o.invert=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=f*i-s*c,h=-f*a+s*u,m=c*a-i*u,d=r*l+n*h+o*m;return d?(d=1/d,t[0]=l*d,t[1]=(-f*n+o*c)*d,t[2]=(s*n-o*i)*d,t[3]=h*d,t[4]=(f*r-o*u)*d,t[5]=(-s*r+o*a)*d,t[6]=m*d,t[7]=(-c*r+n*u)*d,t[8]=(i*r-n*a)*d,t):null},o.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],f=e[8];return t[0]=i*f-s*c,t[1]=o*c-n*f,t[2]=n*s-o*i,t[3]=s*u-a*f,t[4]=r*f-o*u,t[5]=o*a-r*s,t[6]=a*c-i*u,t[7]=n*u-r*c,t[8]=r*i-n*a,t},o.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],a=t[4],i=t[5],s=t[6],u=t[7],c=t[8];return e*(c*a-i*u)+r*(-c*o+i*s)+n*(u*o-a*s)},o.multiply=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=r[0],m=r[1],d=r[2],p=r[3],v=r[4],y=r[5],M=r[6],b=r[7],x=r[8];return t[0]=h*n+m*i+d*c,t[1]=h*o+m*s+d*f,t[2]=h*a+m*u+d*l,t[3]=p*n+v*i+y*c,t[4]=p*o+v*s+y*f,t[5]=p*a+v*u+y*l,t[6]=M*n+b*i+x*c,t[7]=M*o+b*s+x*f,t[8]=M*a+b*u+x*l,t},o.mul=o.multiply,o.translate=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=r[0],m=r[1];return t[0]=n,t[1]=o,t[2]=a,t[3]=i,t[4]=s,t[5]=u,t[6]=h*n+m*i+c,t[7]=h*o+m*s+f,t[8]=h*a+m*u+l,t},o.rotate=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(r),m=Math.cos(r);return t[0]=m*n+h*i,t[1]=m*o+h*s,t[2]=m*a+h*u,t[3]=m*i-h*n,t[4]=m*s-h*o,t[5]=m*u-h*a,t[6]=c,t[7]=f,t[8]=l,t},o.scale=function(t,e,r){var n=r[0],o=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},o.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},o.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r+r,s=n+n,u=o+o,c=r*i,f=n*i,l=n*s,h=o*i,m=o*s,d=o*u,p=a*i,v=a*s,y=a*u;return t[0]=1-l-d,t[3]=f-y,t[6]=h+v,t[1]=f+y,t[4]=1-c-d,t[7]=m-p,t[2]=h-v,t[5]=m+p,t[8]=1-c-l,t},o.normalFromMat4=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],h=e[10],m=e[11],d=e[12],p=e[13],v=e[14],y=e[15],M=r*s-n*i,b=r*u-o*i,x=r*c-a*i,_=n*u-o*s,g=n*c-a*s,S=o*c-a*u,w=f*p-l*d,D=f*v-h*d,I=f*y-m*d,F=l*v-h*p,j=l*y-m*p,k=h*y-m*v,A=M*k-b*j+x*F+_*I-g*D+S*w;return A?(A=1/A,t[0]=(s*k-u*j+c*F)*A,t[1]=(u*I-i*k-c*D)*A,t[2]=(i*j-s*I+c*w)*A,t[3]=(o*j-n*k-a*F)*A,t[4]=(r*k-o*I+a*D)*A,t[5]=(n*I-r*j-a*w)*A,t[6]=(p*S-v*g+y*_)*A,t[7]=(v*x-d*S-y*b)*A,t[8]=(d*g-p*x+y*M)*A,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},o.equals=function(t,e){var r=t[0],o=t[1],a=t[2],i=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],h=e[0],m=e[1],d=e[2],p=e[3],v=e[4],y=e[5],M=t[6],b=e[7],x=e[8];return Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-m)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-v)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-M)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-b)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(l-x)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))},e.exports=o},{"./common.js":135}],139:[function(t,e,r){var n=t("./common.js"),o={scalar:{},SIMD:{}};o.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.fromValues=function(t,e,r,o,a,i,s,u,c,f,l,h,m,d,p,v){var y=new n.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=o,y[4]=a,y[5]=i,y[6]=s,y[7]=u,y[8]=c,y[9]=f,y[10]=l,y[11]=h,y[12]=m,y[13]=d,y[14]=p,y[15]=v,y},o.set=function(t,e,r,n,o,a,i,s,u,c,f,l,h,m,d,p,v){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=i,t[6]=s,t[7]=u,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=m,t[13]=d,t[14]=p,t[15]=v,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.scalar.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[3],a=e[6],i=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=o,t[13]=i,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},o.SIMD.transpose=function(t,e){var r,n,o,a,i,s,u,c,f,l;return r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.shuffle(r,n,0,1,4,5),s=SIMD.Float32x4.shuffle(o,a,0,1,4,5),u=SIMD.Float32x4.shuffle(i,s,0,2,4,6),c=SIMD.Float32x4.shuffle(i,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,c),i=SIMD.Float32x4.shuffle(r,n,2,3,6,7),s=SIMD.Float32x4.shuffle(o,a,2,3,6,7),f=SIMD.Float32x4.shuffle(i,s,0,2,4,6),l=SIMD.Float32x4.shuffle(i,s,1,3,5,7),SIMD.Float32x4.store(t,8,f),SIMD.Float32x4.store(t,12,l),t},o.transpose=n.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],h=e[10],m=e[11],d=e[12],p=e[13],v=e[14],y=e[15],M=r*s-n*i,b=r*u-o*i,x=r*c-a*i,_=n*u-o*s,g=n*c-a*s,S=o*c-a*u,w=f*p-l*d,D=f*v-h*d,I=f*y-m*d,F=l*v-h*p,j=l*y-m*p,k=h*y-m*v,A=M*k-b*j+x*F+_*I-g*D+S*w;return A?(A=1/A,t[0]=(s*k-u*j+c*F)*A,t[1]=(o*j-n*k-a*F)*A,t[2]=(p*S-v*g+y*_)*A,t[3]=(h*g-l*S-m*_)*A,t[4]=(u*I-i*k-c*D)*A,t[5]=(r*k-o*I+a*D)*A,t[6]=(v*x-d*S-y*b)*A,t[7]=(f*S-h*x+m*b)*A,t[8]=(i*j-s*I+c*w)*A,t[9]=(n*I-r*j-a*w)*A,t[10]=(d*g-p*x+y*M)*A,t[11]=(l*x-f*g-m*M)*A,t[12]=(s*D-i*F-u*w)*A,t[13]=(r*F-n*D+o*w)*A,t[14]=(p*b-d*_-v*M)*A,t[15]=(f*_-l*b+h*M)*A,t):null},o.SIMD.invert=function(t,e){var r,n,o,a,i,s,u,c,f,l,h=SIMD.Float32x4.load(e,0),m=SIMD.Float32x4.load(e,4),d=SIMD.Float32x4.load(e,8),p=SIMD.Float32x4.load(e,12);return i=SIMD.Float32x4.shuffle(h,m,0,1,4,5),n=SIMD.Float32x4.shuffle(d,p,0,1,4,5),r=SIMD.Float32x4.shuffle(i,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,i,1,3,5,7),i=SIMD.Float32x4.shuffle(h,m,2,3,6,7),a=SIMD.Float32x4.shuffle(d,p,2,3,6,7),o=SIMD.Float32x4.shuffle(i,a,0,2,4,6),a=SIMD.Float32x4.shuffle(a,i,1,3,5,7),i=SIMD.Float32x4.mul(o,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.mul(n,i),u=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),s),f=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,i)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(r,n),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),c),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),f),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),c),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(o,i)),i=SIMD.Float32x4.mul(r,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,i)),i=SIMD.Float32x4.mul(r,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),u),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(n,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,i)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),f),l=SIMD.Float32x4.mul(r,s),l=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(l,2,3,0,1),l),l=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(l,1,0,3,2),l),i=SIMD.Float32x4.reciprocalApproximation(l),l=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(l,SIMD.Float32x4.mul(i,i))),(l=SIMD.Float32x4.swizzle(l,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(l,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(l,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(l,c)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(l,f)),t):null},o.invert=n.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],h=e[10],m=e[11],d=e[12],p=e[13],v=e[14],y=e[15];return t[0]=s*(h*y-m*v)-l*(u*y-c*v)+p*(u*m-c*h),t[1]=-(n*(h*y-m*v)-l*(o*y-a*v)+p*(o*m-a*h)),t[2]=n*(u*y-c*v)-s*(o*y-a*v)+p*(o*c-a*u),t[3]=-(n*(u*m-c*h)-s*(o*m-a*h)+l*(o*c-a*u)),t[4]=-(i*(h*y-m*v)-f*(u*y-c*v)+d*(u*m-c*h)),t[5]=r*(h*y-m*v)-f*(o*y-a*v)+d*(o*m-a*h),t[6]=-(r*(u*y-c*v)-i*(o*y-a*v)+d*(o*c-a*u)),t[7]=r*(u*m-c*h)-i*(o*m-a*h)+f*(o*c-a*u),t[8]=i*(l*y-m*p)-f*(s*y-c*p)+d*(s*m-c*l),t[9]=-(r*(l*y-m*p)-f*(n*y-a*p)+d*(n*m-a*l)),t[10]=r*(s*y-c*p)-i*(n*y-a*p)+d*(n*c-a*s),t[11]=-(r*(s*m-c*l)-i*(n*m-a*l)+f*(n*c-a*s)),t[12]=-(i*(l*v-h*p)-f*(s*v-u*p)+d*(s*h-u*l)),t[13]=r*(l*v-h*p)-f*(n*v-o*p)+d*(n*h-o*l),t[14]=-(r*(s*v-u*p)-i*(n*v-o*p)+d*(n*u-o*s)),t[15]=r*(s*h-u*l)-i*(n*h-o*l)+f*(n*u-o*s),t},o.SIMD.adjoint=function(t,e){var r,n,o,a,i,s,u,c,f,l,h,m,d,r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12);return f=SIMD.Float32x4.shuffle(r,n,0,1,4,5),s=SIMD.Float32x4.shuffle(o,a,0,1,4,5),i=SIMD.Float32x4.shuffle(f,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,f,1,3,5,7),f=SIMD.Float32x4.shuffle(r,n,2,3,6,7),c=SIMD.Float32x4.shuffle(o,a,2,3,6,7),u=SIMD.Float32x4.shuffle(f,c,0,2,4,6),c=SIMD.Float32x4.shuffle(c,f,1,3,5,7),f=SIMD.Float32x4.mul(u,c),f=SIMD.Float32x4.swizzle(f,1,0,3,2),l=SIMD.Float32x4.mul(s,f),h=SIMD.Float32x4.mul(i,f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,f),l),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,f),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),f=SIMD.Float32x4.mul(s,u),f=SIMD.Float32x4.swizzle(f,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,f),l),d=SIMD.Float32x4.mul(i,f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(c,f)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,f),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),f=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),c),f=SIMD.Float32x4.swizzle(f,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,f),l),m=SIMD.Float32x4.mul(i,f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(u,f)),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,f),m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),f=SIMD.Float32x4.mul(i,s),f=SIMD.Float32x4.swizzle(f,1,0,3,2),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,f),m),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,f),d),f=SIMD.Float32x4.swizzle(f,2,3,0,1),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,f),m),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,f)),f=SIMD.Float32x4.mul(i,c),f=SIMD.Float32x4.swizzle(f,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,f)),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,f),m),f=SIMD.Float32x4.swizzle(f,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,f),h),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(s,f)),f=SIMD.Float32x4.mul(i,u),f=SIMD.Float32x4.swizzle(f,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,f),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,f)),f=SIMD.Float32x4.swizzle(f,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(c,f)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,f),d),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,m),SIMD.Float32x4.store(t,12,d),t},o.adjoint=n.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],a=t[4],i=t[5],s=t[6],u=t[7],c=t[8],f=t[9],l=t[10],h=t[11],m=t[12],d=t[13],p=t[14],v=t[15],y=e*i-r*a,M=e*s-n*a,b=e*u-o*a,x=r*s-n*i,_=r*u-o*i,g=n*u-o*s,S=c*d-f*m,w=c*p-l*m,D=c*v-h*m,I=f*p-l*d,F=f*v-h*d,j=l*v-h*p;return y*j-M*F+b*I+x*D-_*w+g*S},o.SIMD.multiply=function(t,e,r){var n=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(r,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(t,0,u);var c=SIMD.Float32x4.load(r,4),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),i))));SIMD.Float32x4.store(t,4,f);var l=SIMD.Float32x4.load(r,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),i))));SIMD.Float32x4.store(t,8,h);var m=SIMD.Float32x4.load(r,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,d),t},o.scalar.multiply=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=e[9],m=e[10],d=e[11],p=e[12],v=e[13],y=e[14],M=e[15],b=r[0],x=r[1],_=r[2],g=r[3];return t[0]=b*n+x*s+_*l+g*p,t[1]=b*o+x*u+_*h+g*v,t[2]=b*a+x*c+_*m+g*y,t[3]=b*i+x*f+_*d+g*M,b=r[4],x=r[5],_=r[6],g=r[7],t[4]=b*n+x*s+_*l+g*p,t[5]=b*o+x*u+_*h+g*v,t[6]=b*a+x*c+_*m+g*y,t[7]=b*i+x*f+_*d+g*M,b=r[8],x=r[9],_=r[10],g=r[11],t[8]=b*n+x*s+_*l+g*p,t[9]=b*o+x*u+_*h+g*v,t[10]=b*a+x*c+_*m+g*y,t[11]=b*i+x*f+_*d+g*M,b=r[12],x=r[13],_=r[14],g=r[15],t[12]=b*n+x*s+_*l+g*p,t[13]=b*o+x*u+_*h+g*v,t[14]=b*a+x*c+_*m+g*y,t[15]=b*i+x*f+_*d+g*M,t},o.multiply=n.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,e,r){var n,o,a,i,s,u,c,f,l,h,m,d,p=r[0],v=r[1],y=r[2];return e===t?(t[12]=e[0]*p+e[4]*v+e[8]*y+e[12],t[13]=e[1]*p+e[5]*v+e[9]*y+e[13],t[14]=e[2]*p+e[6]*v+e[10]*y+e[14],t[15]=e[3]*p+e[7]*v+e[11]*y+e[15]):(n=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=e[9],m=e[10],d=e[11],t[0]=n,t[1]=o,t[2]=a,t[3]=i,t[4]=s,t[5]=u,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=m,t[11]=d,t[12]=n*p+s*v+l*y+e[12],t[13]=o*p+u*v+h*y+e[13],t[14]=a*p+c*v+m*y+e[14],t[15]=i*p+f*v+d*y+e[15]),t},o.SIMD.translate=function(t,e,r){var n=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(r[0],r[1],r[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,1,1,1,1)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,SIMD.Float32x4.add(a,i)));return SIMD.Float32x4.store(t,12,u),t},o.translate=n.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,e,r){var n=r[0],o=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.SIMD.scale=function(t,e,r){var n,o,a,i=SIMD.Float32x4(r[0],r[1],r[2],0);
return n=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,0,0,0,0))),o=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,1,1,1,1))),a=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.scale=n.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,e,r,o){var a,i,s,u,c,f,l,h,m,d,p,v,y,M,b,x,_,g,S,w,D,I,F,j,k=o[0],A=o[1],P=o[2],T=Math.sqrt(k*k+A*A+P*P);return Math.abs(T)<n.EPSILON?null:(T=1/T,k*=T,A*=T,P*=T,a=Math.sin(r),i=Math.cos(r),s=1-i,u=e[0],c=e[1],f=e[2],l=e[3],h=e[4],m=e[5],d=e[6],p=e[7],v=e[8],y=e[9],M=e[10],b=e[11],x=k*k*s+i,_=A*k*s+P*a,g=P*k*s-A*a,S=k*A*s-P*a,w=A*A*s+i,D=P*A*s+k*a,I=k*P*s+A*a,F=A*P*s-k*a,j=P*P*s+i,t[0]=u*x+h*_+v*g,t[1]=c*x+m*_+y*g,t[2]=f*x+d*_+M*g,t[3]=l*x+p*_+b*g,t[4]=u*S+h*w+v*D,t[5]=c*S+m*w+y*D,t[6]=f*S+d*w+M*D,t[7]=l*S+p*w+b*D,t[8]=u*I+h*F+v*j,t[9]=c*I+m*F+y*j,t[10]=f*I+d*F+M*j,t[11]=l*I+p*F+b*j,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},o.scalar.rotateX=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),a=e[4],i=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+c*n,t[5]=i*o+f*n,t[6]=s*o+l*n,t[7]=u*o+h*n,t[8]=c*o-a*n,t[9]=f*o-i*n,t[10]=l*o-s*n,t[11]=h*o-u*n,t},o.SIMD.rotateX=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),o=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var a=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,n))),t},o.rotateX=n.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),a=e[0],i=e[1],s=e[2],u=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o-c*n,t[1]=i*o-f*n,t[2]=s*o-l*n,t[3]=u*o-h*n,t[8]=a*n+c*o,t[9]=i*n+f*o,t[10]=s*n+l*o,t[11]=u*n+h*o,t},o.SIMD.rotateY=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),o=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var a=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,n),SIMD.Float32x4.mul(i,o))),t},o.rotateY=n.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),a=e[0],i=e[1],s=e[2],u=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o+c*n,t[1]=i*o+f*n,t[2]=s*o+l*n,t[3]=u*o+h*n,t[4]=c*o-a*n,t[5]=f*o-i*n,t[6]=l*o-s*n,t[7]=h*o-u*n,t},o.SIMD.rotateZ=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),o=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var a=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,n))),t},o.rotateZ=n.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e,r){var o,a,i,s=r[0],u=r[1],c=r[2],f=Math.sqrt(s*s+u*u+c*c);return Math.abs(f)<n.EPSILON?null:(f=1/f,s*=f,u*=f,c*=f,o=Math.sin(e),a=Math.cos(e),i=1-a,t[0]=s*s*i+a,t[1]=u*s*i+c*o,t[2]=c*s*i-u*o,t[3]=0,t[4]=s*u*i-c*o,t[5]=u*u*i+a,t[6]=c*u*i+s*o,t[7]=0,t[8]=s*c*i+u*o,t[9]=u*c*i-s*o,t[10]=c*c*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=n+n,u=o+o,c=a+a,f=n*s,l=n*u,h=n*c,m=o*u,d=o*c,p=a*c,v=i*s,y=i*u,M=i*c;return t[0]=1-(m+p),t[1]=l+M,t[2]=h-y,t[3]=0,t[4]=l-M,t[5]=1-(f+p),t[6]=d+v,t[7]=0,t[8]=h+y,t[9]=d-v,t[10]=1-(f+m),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},o.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},o.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},o.fromRotationTranslationScale=function(t,e,r,n){var o=e[0],a=e[1],i=e[2],s=e[3],u=o+o,c=a+a,f=i+i,l=o*u,h=o*c,m=o*f,d=a*c,p=a*f,v=i*f,y=s*u,M=s*c,b=s*f,x=n[0],_=n[1],g=n[2];return t[0]=(1-(d+v))*x,t[1]=(h+b)*x,t[2]=(m-M)*x,t[3]=0,t[4]=(h-b)*_,t[5]=(1-(l+v))*_,t[6]=(p+y)*_,t[7]=0,t[8]=(m+M)*g,t[9]=(p-y)*g,t[10]=(1-(l+d))*g,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,e,r,n,o){var a=e[0],i=e[1],s=e[2],u=e[3],c=a+a,f=i+i,l=s+s,h=a*c,m=a*f,d=a*l,p=i*f,v=i*l,y=s*l,M=u*c,b=u*f,x=u*l,_=n[0],g=n[1],S=n[2],w=o[0],D=o[1],I=o[2];return t[0]=(1-(p+y))*_,t[1]=(m+x)*_,t[2]=(d-b)*_,t[3]=0,t[4]=(m-x)*g,t[5]=(1-(h+y))*g,t[6]=(v+M)*g,t[7]=0,t[8]=(d+b)*S,t[9]=(v-M)*S,t[10]=(1-(h+p))*S,t[11]=0,t[12]=r[0]+w-(t[0]*w+t[4]*D+t[8]*I),t[13]=r[1]+D-(t[1]*w+t[5]*D+t[9]*I),t[14]=r[2]+I-(t[2]*w+t[6]*D+t[10]*I),t[15]=1,t},o.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r+r,s=n+n,u=o+o,c=r*i,f=n*i,l=n*s,h=o*i,m=o*s,d=o*u,p=a*i,v=a*s,y=a*u;return t[0]=1-l-d,t[1]=f+y,t[2]=h-v,t[3]=0,t[4]=f-y,t[5]=1-c-d,t[6]=m+p,t[7]=0,t[8]=h+v,t[9]=m-p,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,e,r,n,o,a,i){var s=1/(r-e),u=1/(o-n),c=1/(a-i);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(o+n)*u,t[10]=(i+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a*2*c,t[15]=0,t},o.perspective=function(t,e,r,n,o){var a=1/Math.tan(e/2),i=1/(n-o);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*i,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,e,r,n){var o=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(i+s),c=2/(o+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((i-s)*u*.5),t[9]=(o-a)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},o.ortho=function(t,e,r,n,o,a,i){var s=1/(e-r),u=1/(n-o),c=1/(a-i);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(o+n)*u,t[14]=(i+a)*c,t[15]=1,t},o.lookAt=function(t,e,r,a){var i,s,u,c,f,l,h,m,d,p,v=e[0],y=e[1],M=e[2],b=a[0],x=a[1],_=a[2],g=r[0],S=r[1],w=r[2];return Math.abs(v-g)<n.EPSILON&&Math.abs(y-S)<n.EPSILON&&Math.abs(M-w)<n.EPSILON?o.identity(t):(h=v-g,m=y-S,d=M-w,p=1/Math.sqrt(h*h+m*m+d*d),h*=p,m*=p,d*=p,i=x*d-_*m,s=_*h-b*d,u=b*m-x*h,p=Math.sqrt(i*i+s*s+u*u),p?(p=1/p,i*=p,s*=p,u*=p):(i=0,s=0,u=0),c=m*u-d*s,f=d*i-h*u,l=h*s-m*i,p=Math.sqrt(c*c+f*f+l*l),p?(p=1/p,c*=p,f*=p,l*=p):(c=0,f=0,l=0),t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=s,t[5]=f,t[6]=m,t[7]=0,t[8]=u,t[9]=l,t[10]=d,t[11]=0,t[12]=-(i*v+s*y+u*M),t[13]=-(c*v+f*y+l*M),t[14]=-(h*v+m*y+d*M),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},o.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},o.equals=function(t,e){var r=t[0],o=t[1],a=t[2],i=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],h=t[9],m=t[10],d=t[11],p=t[12],v=t[13],y=t[14],M=t[15],b=e[0],x=e[1],_=e[2],g=e[3],S=e[4],w=e[5],D=e[6],I=e[7],F=e[8],j=e[9],k=e[10],A=e[11],P=e[12],T=e[13],C=e[14],O=e[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-x)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-_)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(i-g)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(s-S)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-w)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(c-D)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(f-I)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(l-F)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(h-j)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(m-k)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(k))&&Math.abs(d-A)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-P)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(v-T)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(y-C)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(M-O)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(O))},e.exports=o},{"./common.js":135}],140:[function(t,e,r){var n=t("./common.js"),o=t("./mat3.js"),a=t("./vec3.js"),i=t("./vec4.js"),s={};s.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=a.create(),e=a.fromValues(1,0,0),r=a.fromValues(0,1,0);return function(n,o,i){var u=a.dot(o,i);return u<-.999999?(a.cross(t,e,o),a.length(t)<1e-6&&a.cross(t,r,o),a.normalize(t,t),s.setAxisAngle(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(a.cross(t,o,i),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,s.normalize(n,n))}}(),s.setAxes=function(){var t=o.create();return function(e,r,n,o){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=i.clone,s.fromValues=i.fromValues,s.copy=i.copy,s.set=i.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,r){r=.5*r;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t},s.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},s.add=i.add,s.multiply=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],s=r[0],u=r[1],c=r[2],f=r[3];return t[0]=n*f+i*s+o*c-a*u,t[1]=o*f+i*u+a*s-n*c,t[2]=a*f+i*c+n*u-o*s,t[3]=i*f-n*s-o*u-a*c,t},s.mul=s.multiply,s.scale=i.scale,s.rotateX=function(t,e,r){r*=.5;var n=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=o*u+a*s,t[2]=a*u-o*s,t[3]=i*u-n*s,t},s.rotateY=function(t,e,r){r*=.5;var n=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*s,t[1]=o*u+i*s,t[2]=a*u+n*s,t[3]=i*u-o*s,t},s.rotateZ=function(t,e,r){r*=.5;var n=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=o*u-n*s,t[2]=a*u+i*s,t[3]=i*u-a*s,t},s.calculateW=function(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),t},s.dot=i.dot,s.lerp=i.lerp,s.slerp=function(t,e,r,n){var o,a,i,s,u,c=e[0],f=e[1],l=e[2],h=e[3],m=r[0],d=r[1],p=r[2],v=r[3];return a=c*m+f*d+l*p+h*v,a<0&&(a=-a,m=-m,d=-d,p=-p,v=-v),1-a>1e-6?(o=Math.acos(a),i=Math.sin(o),s=Math.sin((1-n)*o)/i,u=Math.sin(n*o)/i):(s=1-n,u=n),t[0]=s*c+u*m,t[1]=s*f+u*d,t[2]=s*l+u*p,t[3]=s*h+u*v,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(r,n,o,a,i,u){return s.slerp(t,n,i,u),s.slerp(e,o,a,u),s.slerp(r,t,e,2*u*(1-u)),r}}(),s.invert=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r*r+n*n+o*o+a*a,s=i?1/i:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-o*s,t[3]=a*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=i.length,s.len=s.length,s.squaredLength=i.squaredLength,s.sqrLen=s.squaredLength,s.normalize=i.normalize,s.fromMat3=function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;r=Math.sqrt(e[3*o+o]-e[3*a+a]-e[3*i+i]+1),t[o]=.5*r,r=.5/r,t[3]=(e[3*a+i]-e[3*i+a])*r,t[a]=(e[3*a+o]+e[3*o+a])*r,t[i]=(e[3*i+o]+e[3*o+i])*r}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=i.exactEquals,s.equals=i.equals,e.exports=s},{"./common.js":135,"./mat3.js":138,"./vec3.js":142,"./vec4.js":143}],141:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},o.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},o.set=function(t,e,r){return t[0]=e,t[1]=r,t},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},o.sub=o.subtract,o.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},o.mul=o.multiply,o.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},o.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},o.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},o.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},o.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},o.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},o.dist=o.distance,o.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},o.len=o.length,o.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},o.normalize=function(t,e){var r=e[0],n=e[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},o.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},o.lerp=function(t,e,r,n){var o=e[0],a=e[1];return t[0]=o+n*(r[0]-o),t[1]=a+n*(r[1]-a),t},o.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},o.transformMat2=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o,t[1]=r[1]*n+r[3]*o,t},o.transformMat2d=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o+r[4],t[1]=r[1]*n+r[3]*o+r[5],t},o.transformMat3=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[3]*o+r[6],t[1]=r[1]*n+r[4]*o+r[7],t},o.transformMat4=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t},o.forEach=function(){var t=o.create();return function(e,r,n,o,a,i){var s,u;for(r||(r=2),n||(n=0),u=o?Math.min(o*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,i),e[s]=t[0],e[s+1]=t[1];return e}}(),o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o.equals=function(t,e){var r=t[0],o=t[1],a=e[0],i=e[1];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-i)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))},e.exports=o},{"./common.js":135}],142:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},o.fromValues=function(t,e,r){var o=new n.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=r,o},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},o.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},o.sub=o.subtract,o.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},o.mul=o.multiply,o.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},o.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},o.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},o.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},o.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},o.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)},o.dist=o.distance,o.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},o.len=o.length,o.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},o.normalize=function(t,e){var r=e[0],n=e[1],o=e[2],a=r*r+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},o.cross=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=r[0],s=r[1],u=r[2];return t[0]=o*u-a*s,t[1]=a*i-n*u,t[2]=n*s-o*i,t},o.lerp=function(t,e,r,n){var o=e[0],a=e[1],i=e[2];return t[0]=o+n*(r[0]-o),t[1]=a+n*(r[1]-a),t[2]=i+n*(r[2]-i),t},o.hermite=function(t,e,r,n,o,a){var i=a*a,s=i*(2*a-3)+1,u=i*(a-2)+a,c=i*(a-1),f=i*(3-2*a);return t[0]=e[0]*s+r[0]*u+n[0]*c+o[0]*f,t[1]=e[1]*s+r[1]*u+n[1]*c+o[1]*f,t[2]=e[2]*s+r[2]*u+n[2]*c+o[2]*f,t},o.bezier=function(t,e,r,n,o,a){var i=1-a,s=i*i,u=a*a,c=s*i,f=3*a*s,l=3*u*i,h=u*a;return t[0]=e[0]*c+r[0]*f+n[0]*l+o[0]*h,t[1]=e[1]*c+r[1]*f+n[1]*l+o[1]*h,t[2]=e[2]*c+r[2]*f+n[2]*l+o[2]*h,t},o.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,o=2*n.RANDOM()-1,a=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=o*e,t},o.transformMat4=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=r[3]*n+r[7]*o+r[11]*a+r[15];return i=i||1,t[0]=(r[0]*n+r[4]*o+r[8]*a+r[12])/i,t[1]=(r[1]*n+r[5]*o+r[9]*a+r[13])/i,t[2]=(r[2]*n+r[6]*o+r[10]*a+r[14])/i,t},o.transformMat3=function(t,e,r){var n=e[0],o=e[1],a=e[2];return t[0]=n*r[0]+o*r[3]+a*r[6],t[1]=n*r[1]+o*r[4]+a*r[7],t[2]=n*r[2]+o*r[5]+a*r[8],t},o.transformQuat=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*a-u*o,l=c*o+u*n-i*a,h=c*a+i*o-s*n,m=-i*n-s*o-u*a;return t[0]=f*c+m*-i+l*-u-h*-s,t[1]=l*c+m*-s+h*-i-f*-u,t[2]=h*c+m*-u+f*-s-l*-i,t},o.rotateX=function(t,e,r,n){var o=[],a=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],a[0]=o[0],a[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),a[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},o.rotateY=function(t,e,r,n){var o=[],a=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],a[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),a[1]=o[1],a[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},o.rotateZ=function(t,e,r,n){var o=[],a=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],a[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),a[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),a[2]=o[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},o.forEach=function(){var t=o.create();return function(e,r,n,o,a,i){var s,u;for(r||(r=3),n||(n=0),u=o?Math.min(o*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,i),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),o.angle=function(t,e){var r=o.fromValues(t[0],t[1],t[2]),n=o.fromValues(e[0],e[1],e[2]);o.normalize(r,r),o.normalize(n,n);var a=o.dot(r,n);return a>1?0:Math.acos(a)},o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},o.equals=function(t,e){var r=t[0],o=t[1],a=t[2],i=e[0],s=e[1],u=e[2];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))},e.exports=o},{"./common.js":135}],143:[function(t,e,r){var n=t("./common.js"),o={};o.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.fromValues=function(t,e,r,o){var a=new n.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=o,a},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.set=function(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t},o.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},o.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},o.sub=o.subtract,o.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},o.mul=o.multiply,o.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t},o.div=o.divide,o.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},o.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},o.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},o.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},o.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},o.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},o.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},o.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+o*o+a*a)},o.dist=o.distance,o.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+o*o+a*a},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],r=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+r*r+n*n+o*o)},o.len=o.length,o.squaredLength=function(t){var e=t[0],r=t[1],n=t[2],o=t[3];return e*e+r*r+n*n+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},o.normalize=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r*r+n*n+o*o+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=n*i,t[2]=o*i,t[3]=a*i),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},o.lerp=function(t,e,r,n){var o=e[0],a=e[1],i=e[2],s=e[3];return t[0]=o+n*(r[0]-o),t[1]=a+n*(r[1]-a),t[2]=i+n*(r[2]-i),t[3]=s+n*(r[3]-s),t},o.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),o.normalize(t,t),o.scale(t,t,e),t},o.transformMat4=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*a+r[12]*i,t[1]=r[1]*n+r[5]*o+r[9]*a+r[13]*i,t[2]=r[2]*n+r[6]*o+r[10]*a+r[14]*i,t[3]=r[3]*n+r[7]*o+r[11]*a+r[15]*i,t},o.transformQuat=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*a-u*o,l=c*o+u*n-i*a,h=c*a+i*o-s*n,m=-i*n-s*o-u*a;return t[0]=f*c+m*-i+l*-u-h*-s,t[1]=l*c+m*-s+h*-i-f*-u,t[2]=h*c+m*-u+f*-s-l*-i,t[3]=e[3],t},o.forEach=function(){var t=o.create();return function(e,r,n,o,a,i){var s,u;for(r||(r=4),n||(n=0),u=o?Math.min(o*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,i),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var r=t[0],o=t[1],a=t[2],i=t[3],s=e[0],u=e[1],c=e[2],f=e[3];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))},e.exports=o},{"./common.js":135}],144:[function(t,e,r){function n(t,e,r){this.obj=t,this.left=null,this.right=null,this.parent=r,this.dimension=e}function o(t,e,r){function o(t,e,a){var i,s,u=e%r.length;return 0===t.length?null:1===t.length?new n(t[0],u,a):(t.sort(function(t,e){return t[r[u]]-e[r[u]]}),i=Math.floor(t.length/2),s=new n(t[i],u,a),s.left=o(t.slice(0,i),e+1,s),s.right=o(t.slice(i+1),e+1,s),s)}var i=this;this.root=o(t,0,null),this.insert=function(t){function e(n,o){if(null===n)return o;var a=r[n.dimension];return t[a]<n.obj[a]?e(n.left,n):e(n.right,n)}var o,a,i=e(this.root,null);return null===i?void(this.root=new n(t,0,null)):(o=new n(t,(i.dimension+1)%r.length,i),a=r[i.dimension],void(t[a]<i.obj[a]?i.left=o:i.right=o))},this.remove=function(t){function e(n){if(null===n)return null;if(n.obj===t)return n;var o=r[n.dimension];return t[o]<n.obj[o]?e(n.left,n):e(n.right,n)}function n(t){function e(t,n){var o,a,i,s,u;return null===t?null:(o=r[n],t.dimension===n?null!==t.right?e(t.right,n):t:(a=t.obj[o],i=e(t.left,n),s=e(t.right,n),u=t,null!==i&&i.obj[o]>a&&(u=i),null!==s&&s.obj[o]>u.obj[o]&&(u=s),u))}function o(t,e){var n,a,i,s,u;return null===t?null:(n=r[e],t.dimension===e?null!==t.left?o(t.left,e):t:(a=t.obj[n],i=o(t.left,e),s=o(t.right,e),u=t,null!==i&&i.obj[n]<a&&(u=i),null!==s&&s.obj[n]<u.obj[n]&&(u=s),u))}var a,s,u;return null===t.left&&null===t.right?null===t.parent?void(i.root=null):(u=r[t.parent.dimension],void(t.obj[u]<t.parent.obj[u]?t.parent.left=null:t.parent.right=null)):(a=null!==t.left?e(t.left,t.dimension):o(t.right,t.dimension),s=a.obj,n(a),void(t.obj=s))}var o;o=e(i.root),null!==o&&n(o)},this.nearest=function(t,n,o){function s(o){function a(t,e){f.push([t,e]),f.size()>n&&f.pop()}if(!i.root)return[];var u,c,l,h,m=r[o.dimension],d=e(t,o.obj),p={};for(h=0;h<r.length;h+=1)h===o.dimension?p[r[h]]=t[r[h]]:p[r[h]]=o.obj[r[h]];return c=e(p,o.obj),null===o.right&&null===o.left?void((f.size()<n||d<f.peek()[1])&&a(o,d)):(u=null===o.right?o.left:null===o.left?o.right:t[m]<o.obj[m]?o.left:o.right,s(u),(f.size()<n||d<f.peek()[1])&&a(o,d),void((f.size()<n||Math.abs(c)<f.peek()[1])&&(l=u===o.left?o.right:o.left,null!==l&&s(l))))}var u,c,f;if(f=new a(function(t){return-t[1]}),o)for(u=0;u<n;u+=1)f.push([null,o]);for(s(i.root),c=[],u=0;u<n&&u<f.content.length;u+=1)f.content[u][0]&&c.push([f.content[u][0].obj,f.content[u][1]]);return c},this.balanceFactor=function(){function t(e){return null===e?0:Math.max(t(e.left),t(e.right))+1}function e(t){return null===t?0:e(t.left)+e(t.right)+1}return t(i.root)/(Math.log(e(i.root))/Math.log(2))}}function a(t){this.content=[],this.scoreFunction=t}a.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},peek:function(){return this.content[0]},remove:function(t){for(var e=this.content.length,r=0;r<e;r++)if(this.content[r]==t){var n=this.content.pop();return void(r!=e-1&&(this.content[r]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.bubbleUp(r):this.sinkDown(r)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(t){for(var e=this.content[t];t>0;){var r=Math.floor((t+1)/2)-1,n=this.content[r];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[r]=e,this.content[t]=n,t=r}},sinkDown:function(t){for(var e=this.content.length,r=this.content[t],n=this.scoreFunction(r);;){var o=2*(t+1),a=o-1,i=null;if(a<e){var s=this.content[a],u=this.scoreFunction(s);u<n&&(i=a)}if(o<e){var c=this.content[o],f=this.scoreFunction(c);f<(null==i?n:u)&&(i=o)}if(null==i)break;this.content[t]=this.content[i],this.content[i]=r,t=i}}},e.exports={createKdTree:function(t,e,r){return new o(t,e,r)}}},{}],145:[function(t,e,r){e.exports={name:"serve-sofa-hrtf",version:"0.6.1",description:"utility to fetch and shape sofa formated hrtfs from server",author:{name:"Jean-Philippe Lambert",email:"jean-philippe.lambert@ircam.fr"},contributors:[{name:"David Poirier-Quinot",email:"David.Poirier-Quinot@ircam.fr"}],main:"dist/index.js",standalone:"serveSofaHrtf",scripts:{bundle:"node ./bin/runner --bundle",transpile:"node ./bin/runner --transpile",prewatch:"node ./bin/runner --transpile",watch:"node ./bin/runner --watch"},license:"BSD-3",repository:{type:"git",url:"https://github.com/wavesjs/basic-controllers.git"},jshintConfig:{esnext:!0,browser:!0,node:!0,devel:!0},dependencies:{"babel-runtime":"^6.6.1","gl-matrix":"^2.3.1","kd.tree":"git+https://github.com/akshaylive/node-kdt#39bc780704a324393bca68a17cf7bc71be8544c6"
},devDependencies:{"babel-core":"^6.6.5","babel-plugin-transform-es2015-modules-commonjs":"^6.6.5","babel-plugin-transform-runtime":"^6.6.0","babel-preset-es2015":"^6.6.0",benchmark:"^1.0.0",browserify:"^13.0.0",colors:"^1.1.2","fs-extra":"^0.26.5",ora:"^0.2.0","uglify-js":"^2.6.2",watch:"^0.17.1"},gitHead:"4160be0a640c713cc3993a2bd0998d9a26da4b14",readme:"# Load Sofa formatted HRTFs from server in NodeJS\n\nLoad a Sofa formatted HRTFs set from either a local or distant server. Instant access to closest match HRTF IRs {left,right} as an [AudioBuffer](https://developer.mozilla.org/fr/docs/Web/API/AudioBuffer) object for any given position. First published as a subclass of the [binauralFIR](https://github.com/Ircam-RnD/binauralFIR) library.\n\n\n## How to use\n\nAdd the library to your node project:\n```bash\nnpm install PyrApple/serveSofaHrtf\n```\n\nand check the  ``./examples`` folder for implementation details.\n\n## Acknowledgements\n\nThis research was developed by both [Acoustic And Cognitive Spaces](http://recherche.ircam.fr/equipes/salles/) and [Analysis of Musical Practices](http://apm.ircam.fr/) IRCAM research teams. A previous version was part of the WAVE project, funded by the French National Research Agency (ANR). The current version supporting the SOFA standard and the access to a server is part of the [CoSiMa](http://cosima.ircam.fr/) project, likewise funded by the French ANR.\n\n> Copyright 2015-2016 IRCAM, Paris, France\n> License [BSD-3-Clause](http://opensource.org/licenses/BSD-3-Clause)\n",readmeFilename:"README.md",bugs:{url:"https://github.com/wavesjs/basic-controllers/issues"},homepage:"https://github.com/wavesjs/basic-controllers",_id:"serve-sofa-hrtf@0.6.1",_shasum:"25bd47a85bc6bfe8a21018ffe748e46dbb3db71c",_from:"git://github.com/PyrApple/serveSofaHrtf",_resolved:"git://github.com/PyrApple/serveSofaHrtf#4160be0a640c713cc3993a2bd0998d9a26da4b14",_fromGithub:!0}},{}],146:[function(t,e,r){function n(t,e,r,n,o){return i(0,t,e,r,n,o)}function o(t,e,r,n,o){var a,s,u,c;return 0==e?(a=i(1,t,1,r,n,o),s=i(-1,t,-1,r,n,o),u=a+s):e>0?(c=1==e?1:0,a=i(1,t,e-1,r,n,o),s=i(-1,t,-e+1,r,n,o),u=a*Math.sqrt(1+c)-s*(1-c)):(c=e==-1?1:0,a=i(1,t,e+1,r,n,o),s=i(-1,t,-e-1,r,n,o),u=a*(1-c)+s*Math.sqrt(1+c)),u}function a(t,e,r,n,o){var a,s,u;return 0==e?console.error("should not be called"):e>0?(a=i(1,t,e+1,r,n,o),s=i(-1,t,-e-1,r,n,o),u=a+s):(a=i(1,t,e-1,r,n,o),s=i(-1,t,-e+1,r,n,o),u=a-s),u}function i(t,e,r,n,o,a){var i,s,u,c;return i=o[t+1][2],s=o[t+1][0],u=o[t+1][1],c=n==-e?i*a[r+e-1][0]+s*a[r+e-1][2*e-2]:n==e?i*a[r+e-1][2*e-2]-s*a[r+e-1][0]:u*a[r+e-1][n+e-1]}var s=t("numeric"),u=function(t,e,r,n){var o,a=e.length,i=(t+1)*(t+1),u=[,];i>a&&console.log("The SHT degree is too high for the number of data points"),0==r&&(e=l(e));for(var c=0;c<e.length;c++)u[c]=e[c][2];Y_N=m(t,e),o=0==n?s.mul(1/a,Y_N):y(s.transpose(Y_N));var f=s.dotMV(o,u);return f},c=function(t,e){for(var r=e,n=Math.sqrt(t.length)-1,o=m(n,e),a=s.dotVM(t,o),i=0;i<e.length;i++)r[i][2]=a[i];return r},f=function(t){for(var e=0;e<t.length;e++)console.log(t[e])},l=function(t,e){for(var r,n,o,a=new Array(t.length),i=0;i<t.length;i++)r=Math.atan2(t[i][1],t[i][0]),n=Math.atan2(t[i][2],Math.sqrt(t[i][0]*t[i][0]+t[i][1]*t[i][1])),1==e?a[i]=[r,n]:(o=Math.sqrt(t[i][0]*t[i][0]+t[i][1]*t[i][1]+t[i][2]*t[i][2]),a[i]=[r,n,o]);return a},h=function(t){for(var e,r,n,o=new Array(t.length),a=0;a<t.length;a++)e=Math.cos(t[a][0])*Math.cos(t[a][1]),r=Math.sin(t[a][0])*Math.cos(t[a][1]),n=Math.sin(t[a][1]),2==t[0].length?o[a]=[e,r,n]:3==t[0].length&&(o[a]=[t[a][2]*e,t[a][2]*r,t[a][2]*n]);return o},m=function(t,e){for(var r=new Array(e.length),n=new Array(e.length),o=0;o<e.length;o++)r[o]=e[o][0],n[o]=e[o][1];for(var a,i,u,c,f,l=new Array(2*t+1),h=(r.length,(t+1)*(t+1)),m=0,v=0,y=s.sin(n),M=0,b=new Array(h),o=0;o<2*t+1;o++)l[o]=d(o);for(var x=0;x<t+1;x++){if(0==x){var _=new Array(r.length);_.fill(1),b[x]=_,M=1}else{a=p(x,y,m,v),i=Math.sqrt(2*x+1);for(var g=0;g<x+1;g++)0==g?b[M+x]=s.mul(i,a[g]):(u=i*Math.sqrt(2*l[x-g]/l[x+g]),c=s.cos(s.mul(g,r)),f=s.sin(s.mul(g,r)),b[M+x-g]=s.mul(u,s.mul(a[g],f)),b[M+x+g]=s.mul(u,s.mul(a[g],c)));M=M+2*x+1}v=m,m=a}return b},d=function(t){return 0===t?1:t*d(t-1)},p=function(t,e,r,n){var o=new Array(t+1);switch(t){case 1:var a=s.mul(e,e),i=e,u=s.sqrt(s.sub(1,a));o[0]=i,o[1]=u;break;case 2:var a=s.mul(e,e),c=s.mul(3,a);c=s.sub(c,1),c=s.div(c,2);var f=s.sub(1,a);f=s.sqrt(f),f=s.mul(3,f),f=s.mul(f,e);var l=s.sub(1,a);l=s.mul(3,l),o[0]=c,o[1]=f,o[2]=l;break;default:var a=s.mul(e,e),h=s.sub(1,a),m=2*t-1,d=1;if(m%2==0)for(var p=1;p<m/2+1;p++)d=2*d*p;else for(var p=1;p<(m+1)/2+1;p++)d*=2*p-1;o[t]=s.mul(d,s.pow(h,t/2)),o[t-1]=s.mul(2*t-1,s.mul(e,r[t-1]));for(var v=0;v<t-1;v++){var y=s.mul(2*t-1,s.mul(e,r[v])),M=s.mul(t+v-1,n[v]);o[v]=s.div(s.sub(y,M),t-v)}}return o},v=function(t){for(var e=s.svd(t),r=e.S[0],n=e.U,o=e.S,a=e.V,i=t.length,u=t[0].length,c=Math.max(i,u)*s.epsilon*r,f=o.length,l=new Array(f),h=f-1;h!==-1;h--)o[h]>c?l[h]=1/o[h]:l[h]=0;return s.dot(s.dot(a,s.diag(l)),s.transpose(n))},y=function(t){var e=s.transpose(t);return s.dot(s.inv(s.dot(e,t)),e)},M=function(t,e){var r=(e+1)*(e+1),i=s.rep([r,r],0);i[0][0]=1;var u=s.rep([3,3],0);u[0][0]=t[1][1],u[0][1]=t[1][2],u[0][2]=t[1][0],u[1][0]=t[2][1],u[1][1]=t[2][2],u[1][2]=t[2][0],u[2][0]=t[0][1],u[2][1]=t[0][2],u[2][2]=t[0][0],i=s.setBlock(i,[1,1],[3,3],u);for(var c=u,f=3,l=2;l<e+1;l++){for(var h=s.rep([2*l+1,2*l+1],0),m=-l;m<l+1;m++)for(var d=-l;d<l+1;d++){var p,v,y,M,b;p=0==m?1:0,v=Math.abs(d)==l?2*l*(2*l-1):l*l-d*d,y=Math.sqrt((l*l-m*m)/v),M=Math.sqrt((1+p)*(l+Math.abs(m)-1)*(l+Math.abs(m))/v)*(1-2*p)*.5,b=Math.sqrt((l-Math.abs(m)-1)*(l-Math.abs(m))/v)*(1-p)*-.5,0!=y&&(y*=n(l,m,d,u,c)),0!=M&&(M*=o(l,m,d,u,c)),0!=b&&(b*=a(l,m,d,u,c)),h[m+l][d+l]=y+M+b}i=s.setBlock(i,[f+1,f+1],[f+2*l+1,f+2*l+1],h),c=h,f=f+2*l+1}return i},b=function(t,e,r){var n,o,a;n=0==r?[[1,0,0],[0,1,0],[0,0,1]]:[[1,0,0],[0,Math.cos(r),Math.sin(r)],[0,-Math.sin(r),Math.cos(r)]],o=0==e?[[1,0,0],[0,1,0],[0,0,1]]:[[Math.cos(e),0,-Math.sin(e)],[0,1,0],[Math.sin(e),0,Math.cos(e)]],a=0==t?[[1,0,0],[0,1,0],[0,0,1]]:[[Math.cos(t),Math.sin(t),0],[-Math.sin(t),Math.cos(t),0],[0,0,1]];var i=s.dotMMsmall(o,a);return i=s.dotMMsmall(n,i)};e.exports.forwardSHT=u,e.exports.inverseSHT=c,e.exports.print2Darray=f,e.exports.convertCart2Sph=l,e.exports.convertSph2Cart=h,e.exports.computeRealSH=m,e.exports.factorial=d,e.exports.recurseLegendrePoly=p,e.exports.pinv_svd=v,e.exports.pinv_direct=y,e.exports.getSHrotMtx=M,e.exports.yawPitchRoll2Rzyx=b},{numeric:122}]},{},[11])(11)});